## 刷票

 分析投票网站的破绽.



IP 投票原理:
 → 获取 客户端 IP
→ 记录IP 到数据库
→累计本 IP 投票次数.


问题:
一个公司 只有一个独立 IP 是不是这个公司只能投一票呢??

长城宽带什么的  一个城市 只有几个独立 IP 这个怎么办呢.....


获取 客户端 IP 有好几个方法:


至少有三个 HTTP HEAD 可以获取用户端的 IP

一:	REMOTE_ADDR
获取用户最终的外网 IP,
坏处: 重复太多… 不能作为唯一判断的标志.

二:	HTTP_VIA
倒数第二个代理服务器/网关的 IP


三:	HTTP_FORWARDED_FOR     !!!!!!!
所有网关和你自己的 IP 列表.
格式如:
202.96.103.1,202.84.2.1,192.168.1.12


获取 IP 程序代码
// 先获取代理 Ip 列表
string strIP = Request.ServerVariables[“HTTP_X_FORWARD_FOR]();
if (string.lsNullOrEmpty(strIP))

{ 

//  取不到代理 IP 则直接从服务器变量取
strIP = Requesr.ServerVariables[“REMOTE_ADDR”]()

}

于是 你掉坑了  
HTTP_X_FORWARD_FOR 是可以改的!!!!!

最简单办法:
自己架 一个本地 Proxy.
然后 IP 乱变. 

复杂点:
用代码 实现 自己填充 HTTP_HEAD

以上方法 取决于服务器上代码. 人家一个公网 IP 只能投一票就没办法了!



防止刷票方法:
REMOTE_ADDR 限制1000个. 可以根据网站访问量调整. 每日清零
HTTP_X_FORWARDED_FOR (为空不计入) && REMOTE_ADDR 限制一次  不清零.



内置大量代理的软件: 这些代理可能是他们自己运营的 . 或者是 通过肉鸡架设的 或者网上找来的.


 
见过能同时插大量手机sim卡的卡槽么？短信刷票都是用这个的。  
  
他们发布了某款免费软件，可以后台执行特定的http请求指令。  
  
他们破解了某个用户数比较多的软件的服务器，可以控制客户端随意执行特定http请求。  
  
他们手上有流量站，嵌入个代码不是很难，访问用户就不小心投了票。
利用互联网广告在线投放系统，把投票链接作为广告投放出去。  
  
众包给五毛党，一票五毛。  
  
我也不知道他们用哪个，反正都可以。  
  
另外，人家不必把肉鸡的产权给你，只给使用权就好，75年。

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。




google app engine就是成本最低的ip池，一般人我不告诉他……



之前帮亲戚刷票就是proxy_for，假装自己是代理，然后ip从1.1.1.1开始暴力for循环


正好前段时间我做了个投票系统，不出意外也出现了刷票行为。说下我的解决办法。
1.IP限制+cookie判断。刷票者能通过adsl不断换IP，但总归是在同一台电脑上，虽然能清理cookie，但是至少让他们的操作变得麻烦了。
2.验证码+验证问题。验证码一定要搞牛逼点，不能被机器识别了。同时一定要加验证问题，可以自己写，我大概写了100多个问题，随机取，偶尔再去添加几个。这样很大程度上降低了刷票行为。基本只能由人工刷票了。
3.人工分析IP记录。存在刷票行为的记录，IP都是一个段内的，我是直接把刷票记录删掉。
4.再牛逼点就是手机短信验证了。这成本就大了。我没用。


作者：江山
链接：https://www.zhihu.com/question/26966087/answer/34847101
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


第一个是做软件 adsl拨号换ip 投 或者代理ip投票 第二个 人工会员投票v信3 8 6 6 6 7 1 2 3





















