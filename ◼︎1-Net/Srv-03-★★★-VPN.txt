VPN éå¸¸ä¸ç¨³å®š,çœ‹å¢™çš„å¿ƒæƒ….. æ²¡å¼ºçƒˆéœ€æ±‚åˆ«æŠ˜è…¾... æœ‰sså°±å¤Ÿäº†...

ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸IPsec  VPN Debian/UbuntuğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸

ğŸ”¸ å‚è€ƒ: https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/README-zh.md

ğŸ”¸ ç³»ç»Ÿ: bbb KVM GCE Ubuntu_17 

ğŸ”¸ å®‰è£…: wget https://git.io/vpnsetup -O vpnsetup.sh && sudo sh vpnsetup.sh


        ================================================

        IPsec VPN server is now ready for use!

        Connect to your new VPN with these details:

        Server IP: 104.199.132.210
        IPsec PSK: fmaAEmgckAXqeqTL
        Username: vpnuser
        Password: qiU4kWpeYXCD5cgZ

        Write these down. You'll need them to connect!

        Important notes:   https://git.io/vpnnotes
        Setup VPN clients: https://git.io/vpnclients

        ================================================



    ä½ çš„ VPN ç™»å½•å‡­è¯å°†ä¼šè¢«è‡ªåŠ¨éšæœºç”Ÿæˆï¼Œå¹¶åœ¨å®‰è£…å®Œæˆåæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚
    ä½†æ˜¯è¿æ¥ä¸Švpn ä½ ä¼šå‘ç°ä¸èƒ½ç¿»å¢™.! 
    ä½ éœ€è¦æ‰‹åŠ¨è®¾ç½® æ‰€æœ‰æµé‡éƒ½èµ° VPN!!



ğŸ”¸ Mac VPN è¿æ¥è®¾ç½® 
    â¦¿ å®¢æˆ·ç«¯é…ç½®è¯¦ç»†å‚è€ƒ
        https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/clients-zh.md

    â¦¿ æ–°å»º VPN 
        L2TP over IPSec ; bbbVPN

    â¦¿ é…ç½® VPN
        server address : 35.194.218.62
        Account Name:   vpnuser
        Authentication settingss : password        jAABrZd4f6DqeUib
        Authentication settingss : shared Secret   HS6yYSukdAqasjWw

    â¦¿ ä¿å­˜ apply 
    â¦¿ è¿æ¥ connect 

    â¦¿ æŸ¥çœ‹ç½‘æ®µ : 192.168.42.10 


ğŸ”¸ ä¿®æ”¹ VPN ç½‘æ®µ
    è¯¦ç»†å‚è€ƒ: http://blog.csdn.net/lic95/article/details/48264933
     
     sudo vi /etc/xl2tpd/xl2tpd.conf
        ip range = 10.140.0.21-10.140.0.100 
        local ip = 10.140.0.20

ğŸ”¸ ç›¸å…³å‘½ä»¤     
    service ipsec start && service ipsec status
    service ipsec stop && service ipsec status
    service ipsec restart

ğŸ”¸ reboot 
    è„šæœ¬è®¾ç½®å¼€æœºå¯åŠ¨çš„. ä¸æƒ³ç ”ç©¶å„ç§å¯åŠ¨å‘½ä»¤. ç›´æ¥é‡å¯

ğŸ”¸ è¿æ¥æµ‹è¯•
    æˆåŠŸ. ç°åœ¨ mac åˆ†é…åˆ°çš„IP å°±æ˜¯ 10.140.0.21 
    

















IPSec VPN å®‰è£…
    è¯¦æƒ…å‚è€ƒæµç¨‹:   https://doub.io/vpnzy-3/

ğŸ”µ ä¸€é”®è„šæœ¬å®‰è£…:

    wget --no-check-certificate https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh
    chmod +x one-key-ikev2.sh
    bash one-key-ikev2.sh

ğŸ”µ å®‰è£…è¿‡ç¨‹:

  é€‰æ‹©vpsç±»å‹ï¼ˆOpenVZè¿˜æ˜¯Xenã€KVMï¼‰ï¼Œé€‰é”™å°†æ— æ³•æˆåŠŸè¿æ¥ï¼Œè¯·åŠ¡å¿…æ ¸å®æœåŠ¡å™¨çš„ç±»å‹ã€‚
  è¿™é‡Œå¿…é¡»é€‰æ‹©å¯¹. æˆ‘æ˜¯ openvz  ä¹Ÿå°±æ˜¯è¾“å…¥2 ç„¶åä¸€è·¯å›è½¦.
  å¦‚æœæ˜¯è°·æ­Œçš„ gce é‚£ä¹ˆæ˜¯kvmç±»å‹çš„


ğŸ”µ å®‰è£…ç»“æœ 

    # [Install Complete]
    # Version:1.2.0
    # There is the default login info of your IPSec/IkeV2 VPN Service
    # UserName: myUserName
    # PassWord: myUserPass
    # PSK: myPSKkey
    # you should change default username and password in /usr/local/etc/ipsec.secrets
    # you cert: //my_key/ca.cert.pem
    # you must copy the cert to the client and install it.


ğŸ”µ ä¸‹è½½æœåŠ¡å™¨ä¸Šçš„ /root/my_key/ca.cert.pem è¯ä¹¦åˆ°æœ¬åœ°
    å¹¶æŠŠ ca.cert.pem æ”¹åæˆ .cer åç¼€çš„ æ¯”å¦‚:  ca.cer

ğŸ”µ Mac OS è®¾ç½®
    åŒå‡»ca.cer å¯¼å…¥è¯ä¹¦... è¯ä¹¦å¯¼å…¥çš„ä½ç½®æ˜¯  system.
    å¯¼å…¥å å¿…é¡»å» è¯ä¹¦è½¯ä»¶ æ‰¾åˆ°å¯¹åº”è¯ä¹¦(ä¸€èˆ¬å¸¦çº¢å‰çš„é‚£ä¸ªå°±æ˜¯.) âœ å³é”® âœ ä¿¡æ¯ âœ  ä¿¡ä»» âœ  éƒ½ä¿¡ä»».... è¿™æ ·æ‰è¡Œ!!!


ğŸ”µ Macå®¢æˆ·ç«¯é…ç½®

    ç½‘ç»œè®¾ç½® âœ  æ·»åŠ  âœ  vpn âœ  ikev2 âœ 
        ğŸ“Œserver address : 23.105.192.96         è¿™é‡Œæ˜¯ä½ æœåŠ¡å™¨çš„ip
        ğŸ“Œremote id:       23.105.192.96         è¿™é‡Œæ˜¯ä½ æœåŠ¡å™¨çš„ip
        ğŸ“Œauthentication settings âœ username    é€‰æ‹© usernameè®¤è¯æ¨¡å¼
                  Username: è¾“å…¥å®‰è£…ç»“æœä¸­çš„ username  
                  password: è¾“å…¥å®‰è£…ç»“æœä¸­çš„ passeord
                  Apply âœ  connect å°±è¿æ¥ä¸Šäº†!!!






ğŸ”µ æŸ¥çœ‹ç‰ˆæœ¬: 

    âœ  ~ ipsec --version

ğŸ”µ å¯åŠ¨IPsec

    ipsec start.
    Starting strongSwan 5.5.1 IPsec [starter]...
    no netkey IPsec stack detected
    no KLIPS IPsec stack detected
    no known IPsec stack detected, ignoring!

è¿™ç®—å¼€å¯è¿˜æ˜¯ä¸å¼€å¯å•Š....



ğŸ”µ æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å¼€å¯.  ???
    âœ  ~ ps -aux | grep IPsec



ğŸ‘¹ æœ‰æ—¶å€™èƒ½è¿. æœ‰æ—¶å€™ä¸èƒ½è¿.ä¸ºä»€ä¹ˆ.. æˆ‘ä»¬ç”¨ wiresharkæ¥åˆ†æ.

    æœåŠ¡å™¨ip 23.105.192.96
    ipsec ä½¿ç”¨ç«¯å£ UDP 500

        1. wireshark: è®¾ç½®æ˜¾ç¤ºè¿‡æ»¤å™¨: ip==23.105.192.96  âœ ç„¶åå¼€å§‹æŠ“åŒ….
        2. å¼€å§‹è¿æ¥vpn; ç­‰vpnè¿æ¥å¤±è´¥å åœæ­¢æŠ“åŒ….
        3. åˆ†ææ•°æ®åŒ….
        ç‚¹å‡»wiresarkä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°æ®åŒ…. å·¦è¾¹æœ‰ä¼šå‡ºç°ä¸€ä¸ªè™šçº¿.
        ä¸€èˆ¬å‘é€ä¸€ä¸ªæ•°æ®åŒ…. å¯¹æ–¹å°±è¦å›å¤ä¸€ä¸ªæ•°æ®åŒ…çš„.ç›¸å¯¹äºä¸€ä¸ªèŠå¤©.
        è™šçº¿å°±æ˜¯æ‰¾åˆ°é‚£ä¸ªèŠå¤©çš„æ”¶å‘è€…..

        é”™è¯¯ä¿¡æ¯ wireshark ä¼šç”¨é»‘è‰²æ¥æ˜¾ç¤º. 
        æˆ‘ä»¬è¿™é‡Œå°±æ˜¯:

        ğŸ‘¹ icmp destination unreachable (port unreachable)

        æ—¢ç„¶æ˜¯ç«¯å£ä¸å¯è¾¾. é‚£ä¹ˆå°±æ‰«ææœåŠ¡å™¨ç«¯å£å…ˆ.
        ğŸ”¸ æ‰«ææœåŠ¡å™¨çš„ 500 updç«¯å£.
            âœ˜âœ˜âˆ™ğ’— vps sudo nmap -sU -p 500 23.105.192.96

            Starting Nmap 7.25BETA1 ( https://nmap.org ) at 2017-05-09 10:58 CST
            Nmap scan report for mail.0214.help (23.105.192.96)
            Host is up (0.18s latency).
            PORT    STATE  SERVICE
            500/udp closed isakmp

            Nmap done: 1 IP address (1 host up) scanned in 0.50 seconds

        ç«¯å£ç¡®å®æ²¡å¼€. è¦ä¹ˆæ˜¯é˜²ç«å¢™åŸå› . è¦ä¹ˆå°±æ˜¯vpnæœåŠ¡æ²¡å¯åŠ¨..
        é¦–å…ˆå…³é—­æœåŠ¡å™¨é˜²ç«å¢™. service iptables stop
        åœ¨ namp 500 udpç«¯å£. è¿˜æ˜¯æ²¡å¼€.  é‚£å°±æ˜¯vpnæœåŠ¡æœ¬èº«çš„é—®é¢˜äº†.

            ipsec start
            å†nmapä¸‹ç«¯å£æœç„¶openäº†..
            ä¸«çš„ . åŸæ¥æ˜¯æœåŠ¡å™¨æ²¡æœ‰è®¾ç½® å¼€æœºå¯åŠ¨vpnå•Š.
            è®¾ç½®å¼€æœºå¯åŠ¨ipsec: vi /etc/rc.local  æ·»åŠ : ipsec start 

        å‘ç°å¼€å¯å¯åŠ¨æ²¡ç”¨å•Š. top æ²¡çœ‹åˆ°æœ‰charonçš„è¿›ç¨‹... 
        googleä¸‹. åŸæ¥åŠ è½½ rc.local æ–‡ä»¶çš„æ—¶å€™ ç¯å¢ƒè·¯å¾„çš„æ–‡ä»¶è¿˜æ²¡æœ‰åŠ è½½!!! 
        â—ï¸â—ï¸â—ï¸æ‰€ä»¥rc.local é‡Œå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„!!!â—ï¸â—ï¸â—ï¸
        â—ï¸â—ï¸â—ï¸æ‰€ä»¥rc.local é‡Œå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„!!!â—ï¸â—ï¸â—ï¸
        â—ï¸â—ï¸â—ï¸æ‰€ä»¥rc.local é‡Œå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„!!!â—ï¸â—ï¸â—ï¸
        type ipsec æŸ¥çœ‹ç»å¯¹è·¯å¾„. ipsec is /usr/local/sbin/ipsec
        è®¾ç½®å¼€æœºå¯åŠ¨ipsec: vi /etc/rc.local  æ·»åŠ : /usr/local/sbin/ipsec start 

        ç°åœ¨å°±å¥½äº†!!!!












â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ç”¨kiwivm è‡ªå¸¦çš„ ä¸€é”®å®‰è£…openvpnåŠŸèƒ½...

å®‰è£…æˆåŠŸä¹‹å å°±å¯ä»¥ä¸‹è½½ openvpn keys.

ğŸ”¸ å‹ç¼©åŒ…
    vps æ ¹è¯ä¹¦ ca.crt
    vps å¯†é’¥  ca.key
    ç”¨æˆ·è¯ä¹¦: client1.crt
    ç”¨æˆ·ç§é’¥ client1.key
    client1.csr 



    ç„¶åå†ä¸‹è½½ä¸ª å¯ä»¥è¿æ¥openvpnçš„å·¥å…·.
    mac å¯ä»¥ç”¨ shimo è¿™ä¸ªè½¯ä»¶.

    ç„¶å è§£å‹è¯ä¹¦. é‡Œé¢æœ‰ä¸ª xxx.ovpn åç¼€çš„æ–‡ä»¶.
    è¿™ä¸ªæ–‡ä»¶ç”¨ shimo æ‰“å¼€å°±å¯ä»¥è¿æ¥äº†....


ğŸ‘¹ è¿æ¥ä¸ä¸Š...
    MANAGEMENT: >STATE:1497535245,WAIT,

    ä¼°è®¡è¢«è¿è¥å•† blockäº†..    ä¼°è®¡åªæ˜¯block 1194 è¿™ä¸ªç«¯å£.
    æ¢ç«¯å£è¯•è¯•...
    æœåŠ¡å™¨ä¸Š vi /etc/openvpn/server.conf  åŠ ä¸€è¡Œ port 443
    å®¢æˆ·ç«¯çš„ .ovpn é‡Œé¢  åŸæ¥çš„1194 æ”¹æˆ443 .
    ç„¶åé‡å¯æœåŠ¡å™¨çš„ openvpn service openvpn restart


    ç°åœ¨å‘ç°èƒ½è¿ä¸Šäº†. ä½†æ˜¯æ¥æ”¶åˆ°çš„æ•°æ®... åªæœ‰ä¸€ç‚¹ç‚¹.. æ€»æ¯”æ²¡æœ‰å¥½..
    è¿˜æ˜¯ä¸è¡Œ... è¯¶ ..... é˜²ç«å¢™å¤ªå‰å®³äº†...

ä¸åªæ˜¯openvpn ipsecçš„vpnä¹Ÿè¢«å¢™çš„... fuck...



ğŸ”¸ æœåŠ¡å™¨é…ç½®.
    openvpn çš„é…ç½®ç›®å½•:  /etc/openvpn/openvpn.conf

    server 10.10.10.0 255.255.255.0
    è¿™ä¸ªæ˜¯è¿ä¸Švpn ååˆ†é…ç»™ä½ çš„ipåœ°å€. ä¹Ÿå°±æ˜¯ dhcpæœåŠ¡å™¨.


ğŸ”¸ å¼€å¯ openvpn æœåŠ¡
    service openvpn start

    å¯å°†æ­¤å‘½ä»¤æ·»åŠ åˆ°/etc/rc.localä½¿openvpnå¼€æœºè‡ªå¯åŠ¨










  vpnæœåŠ¡å™¨. pptp.


ğŸ”µ  æ£€æµ‹

  cat /dev/net/tun
å¦‚æœè¿™æ¡æŒ‡ä»¤æ˜¾ç¤ºç»“æœä¸ºä¸‹é¢çš„æ–‡æœ¬ï¼Œåˆ™è¡¨æ˜é€šè¿‡ï¼š
cat: /dev/net/tun: File descriptor in bad state
å°±èƒ½å®‰è£…pptpã€‚å¦åˆ™å°±åªèƒ½è€ƒè™‘openvpnã€‚



ğŸ”µ å®‰è£…ppp å’Œ iptables
    yum install -y perl ppp iptables 


å®‰è£… pptpd

æ ¹æ®ppp ç‰ˆæœ¬ é€‰æ‹©å¯¹åº”çš„ pptpd
ppp 2.4.4â€”â€”â€”â€”â€”â€”>pptpd 1.3.4
ppp 2.4.5â€”â€”â€”â€”â€”â€”>pptpd 1.4.0

æŸ¥çœ‹ ppp ç‰ˆæœ¬:
yum list installed ppp
æˆ‘ä»¬æ˜¯ 2.4.5 æ‰€ä»¥é€‰æ‹© pptpd 1.4.0


ç¬¬ä¸€ç§å®‰è£…pptpdçš„æ–¹æ³•
    æ˜¯ç›´æ¥ç”¨yumå®‰è£…ï¼Œè®©ç”µè„‘è‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ï¼š

    å…ˆåŠ å…¥yumæºï¼š
    rpm -Uvh http://poptop.sourceforge.net/yum/stable/rhel6/pptp-release-current.noarch.rpm

    ç„¶åç”¨yumå®‰è£…pptpdï¼š
    yum install pptpd




ğŸ”µ é…ç½®

cp /etc/ppp/options.pptpd /etc/ppp/options.pptpd.bak
å…ˆå¤‡ä»½.


vi /etc/ppp/options.pptpd
æ·»åŠ ä¸‹é¢ä¸¤è¡Œå°±å¯ä»¥äº†
ms-dns 8.8.8.8
ms-dns 8.8.4.4





cp /etc/ppp/chap-secrets   /etc/ppp/chap-secrets.bak
vi /etc/ppp/chap-secrets

xx pptpd oo *

//æ ¼å¼: å¸å·. å¯†ç . æ˜Ÿå·è¡¨ç¤ºä»»ä½•ip. å¿…é¡»æœ‰.
// xx å°±æ˜¯å¸å·  oo å°±æ˜¯å¯†ç .  æ”¹æˆä½ è‡ªå·±çš„å°±å¯ä»¥.
// xj... xj





cp /etc/pptpd.conf     /etc/pptpd.conf.bak
vi /etc/pptpd.conf
æ·»åŠ ä¸‹é¢ä¸¤è¡Œï¼š
localip 192.168.9.1
remoteip 192.168.9.11-30 //è¡¨ç¤ºvpnå®¢æˆ·ç«¯è·å¾—ipçš„èŒƒå›´

å…³é”®ç‚¹ï¼špptpd.confè¿™ä¸ªé…ç½®æ–‡ä»¶å¿…é¡»ä¿è¯æœ€åæ˜¯ä»¥ç©ºè¡Œç»“å°¾æ‰è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´å¯åŠ¨pptpdæœåŠ¡æ—¶






vi /etc/sysctl.conf 
//ä¿®æ”¹å†…æ ¸è®¾ç½®ï¼Œä½¿å…¶æ”¯æŒè½¬å‘
å°†net.ipv4.ip_forward = 0 æ”¹æˆ net.ipv4.ip_forward = 1
/sbin/sysctl -p


ç¬¬å››æ­¥ï¼šå¯åŠ¨pptp vpnæœåŠ¡å’Œiptables
/sbin/service pptpd start 
service pptpd start



å¯åŠ¨iptableså’Œnatè½¬å‘åŠŸèƒ½ï¼Œå¾ˆå…³é”®çš„å‘€ï¼š

/sbin/service iptables start 
//å¯åŠ¨iptables



iptables -t nat -A POSTROUTING    -s 192.168.9.0/24 -j SNAT --to-source 23.105.192.96
ä½ éœ€è¦å°†207.210.83.140æ›¿æ¢æˆä½ çš„vpsçš„å…¬ç½‘ipåœ°å€ï¼Œå› ä¸ºè¿™é‡Œæˆ‘å†™çš„æ˜¯æˆ‘çš„ã€‚


/etc/init.d/iptables save 
//ä¿å­˜iptablesçš„è½¬å‘è§„åˆ™
/sbin/service iptables restart 
//é‡æ–°å¯åŠ¨iptables



æœ€åä¸€æ­¥ï¼šé‡å¯pptp vpn

service pptpd restart





#chkconfig pptpd on //å¼€æœºå¯åŠ¨pptp vpnæœåŠ¡
#chkconfig iptables on //å¼€æœºå¯åŠ¨iptables



Mac è¿æ¥pptp.
Mac 10.12 æ²¡æœ‰pptpäº†.
è¿™ä¸ªåè®®æœ‰å®‰å…¨é—®é¢˜...
å»ºè®®ç”¨.... l2tp æˆ–è€… openvpn.


åŠæ³•è¿˜æ˜¯æœ‰çš„ å®‰è£… shimo è¿™ä¸ªè½¯ä»¶.
è¾“å…¥ip. å¸å·å¯†ç 
åŠ å¯†æ–¹å¼é€‰æ‹© æ— ....


å‰ææ˜¯ä½ pptpæœåŠ¡å™¨æ­å»ºå¥½äº†å•Š...



è¿ä¸ä¸Š .
é¦–å…ˆ nmap æŸ¥çœ‹æœåŠ¡å™¨å¼€å‘ç«¯å£
pptpç”¨çš„...1723 ç«¯å£.

ç„¶åå…³é—­æœåŠ¡å™¨é˜²ç«å¢™.




A general error occured. Please get in contact with the support from Feingeist.

å‡ºé”™...






















  vpnæœåŠ¡å™¨. pptp.


ğŸ”µ  æ£€æµ‹

  cat /dev/net/tun
å¦‚æœè¿™æ¡æŒ‡ä»¤æ˜¾ç¤ºç»“æœä¸ºä¸‹é¢çš„æ–‡æœ¬ï¼Œåˆ™è¡¨æ˜é€šè¿‡ï¼š
cat: /dev/net/tun: File descriptor in bad state
å°±èƒ½å®‰è£…pptpã€‚å¦åˆ™å°±åªèƒ½è€ƒè™‘openvpnã€‚



ğŸ”µ å®‰è£…ppp å’Œ iptables
    yum install -y perl ppp iptables 


å®‰è£… pptpd

æ ¹æ®ppp ç‰ˆæœ¬ é€‰æ‹©å¯¹åº”çš„ pptpd
ppp 2.4.4â€”â€”â€”â€”â€”â€”>pptpd 1.3.4
ppp 2.4.5â€”â€”â€”â€”â€”â€”>pptpd 1.4.0

æŸ¥çœ‹ ppp ç‰ˆæœ¬:
yum list installed ppp
æˆ‘ä»¬æ˜¯ 2.4.5 æ‰€ä»¥é€‰æ‹© pptpd 1.4.0


ç¬¬ä¸€ç§å®‰è£…pptpdçš„æ–¹æ³•
    æ˜¯ç›´æ¥ç”¨yumå®‰è£…ï¼Œè®©ç”µè„‘è‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ï¼š

    å…ˆåŠ å…¥yumæºï¼š
    rpm -Uvh http://poptop.sourceforge.net/yum/stable/rhel6/pptp-release-current.noarch.rpm

    ç„¶åç”¨yumå®‰è£…pptpdï¼š
    yum install pptpd




ğŸ”µ é…ç½®

cp /etc/ppp/options.pptpd /etc/ppp/options.pptpd.bak
å…ˆå¤‡ä»½.


vi /etc/ppp/options.pptpd
æ·»åŠ ä¸‹é¢ä¸¤è¡Œå°±å¯ä»¥äº†
ms-dns 8.8.8.8
ms-dns 8.8.4.4





cp /etc/ppp/chap-secrets   /etc/ppp/chap-secrets.bak
vi /etc/ppp/chap-secrets

xx pptpd oo *

//æ ¼å¼: å¸å·. å¯†ç . æ˜Ÿå·è¡¨ç¤ºä»»ä½•ip. å¿…é¡»æœ‰.
// xx å°±æ˜¯å¸å·  oo å°±æ˜¯å¯†ç .  æ”¹æˆä½ è‡ªå·±çš„å°±å¯ä»¥.
// xj... xj





cp /etc/pptpd.conf     /etc/pptpd.conf.bak
vi /etc/pptpd.conf
æ·»åŠ ä¸‹é¢ä¸¤è¡Œï¼š
localip 192.168.9.1
remoteip 192.168.9.11-30 //è¡¨ç¤ºvpnå®¢æˆ·ç«¯è·å¾—ipçš„èŒƒå›´

å…³é”®ç‚¹ï¼špptpd.confè¿™ä¸ªé…ç½®æ–‡ä»¶å¿…é¡»ä¿è¯æœ€åæ˜¯ä»¥ç©ºè¡Œç»“å°¾æ‰è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´å¯åŠ¨pptpdæœåŠ¡æ—¶






vi /etc/sysctl.conf 
//ä¿®æ”¹å†…æ ¸è®¾ç½®ï¼Œä½¿å…¶æ”¯æŒè½¬å‘
å°†net.ipv4.ip_forward = 0 æ”¹æˆ net.ipv4.ip_forward = 1
/sbin/sysctl -p


ç¬¬å››æ­¥ï¼šå¯åŠ¨pptp vpnæœåŠ¡å’Œiptables
/sbin/service pptpd start 
service pptpd start



å¯åŠ¨iptableså’Œnatè½¬å‘åŠŸèƒ½ï¼Œå¾ˆå…³é”®çš„å‘€ï¼š

/sbin/service iptables start 
//å¯åŠ¨iptables



iptables -t nat -A POSTROUTING    -s 192.168.9.0/24 -j SNAT --to-source 23.105.192.96
ä½ éœ€è¦å°†207.210.83.140æ›¿æ¢æˆä½ çš„vpsçš„å…¬ç½‘ipåœ°å€ï¼Œå› ä¸ºè¿™é‡Œæˆ‘å†™çš„æ˜¯æˆ‘çš„ã€‚


/etc/init.d/iptables save 
//ä¿å­˜iptablesçš„è½¬å‘è§„åˆ™
/sbin/service iptables restart 
//é‡æ–°å¯åŠ¨iptables



æœ€åä¸€æ­¥ï¼šé‡å¯pptp vpn

service pptpd restart





#chkconfig pptpd on //å¼€æœºå¯åŠ¨pptp vpnæœåŠ¡
#chkconfig iptables on //å¼€æœºå¯åŠ¨iptables



Mac è¿æ¥pptp.
Mac 10.12 æ²¡æœ‰pptpäº†.
è¿™ä¸ªåè®®æœ‰å®‰å…¨é—®é¢˜...
å»ºè®®ç”¨.... l2tp æˆ–è€… openvpn.


åŠæ³•è¿˜æ˜¯æœ‰çš„ å®‰è£… shimo è¿™ä¸ªè½¯ä»¶.
è¾“å…¥ip. å¸å·å¯†ç 
åŠ å¯†æ–¹å¼é€‰æ‹© æ— ....


å‰ææ˜¯ä½ pptpæœåŠ¡å™¨æ­å»ºå¥½äº†å•Š...



è¿ä¸ä¸Š .
é¦–å…ˆ nmap æŸ¥çœ‹æœåŠ¡å™¨å¼€å‘ç«¯å£
pptpç”¨çš„...1723 ç«¯å£.

ç„¶åå…³é—­æœåŠ¡å™¨é˜²ç«å¢™.




A general error occured. Please get in contact with the support from Feingeist.

å‡ºé”™...









