参考文章   http://history.programmer.com.cn/12874/


作者：gashero
链接：https://www.zhihu.com/question/19581905/answer/37397087
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

在果壳网任职期间经历过多次DDoS攻击。那种绝望的心情，还历历在目。问题不是你能做什么，而是机房决定了其实你什么都做不了。攻击者是控制一个足够大的分布式集群来发起攻击，各种杂七杂八的包，什么都会有。根本不在乎你开的什么服务，也没那耐心分析你有什么服务。比如哪怕你根本没开UDP的任何服务，但他就是发一大堆UDP的包，把你带宽占满。还有啥办法。十多年前的OS还没法应付大量TCP并发连接，于是那个年代有个SYN flood攻击，就是一大堆SYN包尝试握手。现代也有，效果大不如前，但是仍然在大流量下可以阻塞受害者的通信能力。更现实的问题在于，机房的总带宽有限。当你的服务器IP段受到攻击时，他会直接找上级接入商将发给你的包在主干网上都丢掉。此时虽然知道自己正在被DDoS攻击，但攻击包根本就没到机房，更别说服务器，于是只能是守着服务器，毫无流量，等待。上级接入商大多是垄断国企，根本没耐心跟你做任何深层次合作，直接丢包是最简单方便的方法。同时，即便此时攻击者停止了攻击，你也不知道。而想要上级接入商重新开启给你的包转发，动则就是个一天的流程。而一旦发现攻击还没完，就立刻又是丢包。那几年被攻击时，也火烧火燎的找办法。尝试将网站部署到云计算平台上，依靠对方提供的带宽冗余来顶。甚至可能只是拼短期带宽的费用。当时国内的云计算提供商试了好几家，最终都因为没有足够的带宽应对攻击而拒绝了我们。他们都是出于对果壳网的喜爱和免费帮忙的，能做到这一步也挺不容易了。有人提到攻击弱点，我感觉真正这样花费精力去分析的攻击者其实不多见。不过大多攻击确实会避开一些明显抗攻击能力不错的点，比如很多网站的首页会做静态化，所以攻击首页就不划算。图片同理，对CPU消耗太小了。

几个常见的弱点：1、登录认证2、评论3、用户动态4、ajax api总之涉嫌写数据库，联表查询，缓存涧出的都是好目标。所以，回答就是：没有啥好办法，耐心等待吧。看了其他几个回答提供的方案，分别分析一下：1、拼带宽：或者说拼软妹币，这不是一点点钱能搞定的，果壳网彼时只买了不足100M带宽，所在早期机房总带宽也不足40G，攻击带宽都没见过低于10G的(机房的人后来告诉我的)。假设某便宜机房(肯定不在北上广深)，带宽价格为100元/M*月，每月按峰值计费。则要买10G带宽顶一下，需要的月费是100万，100万……2、流量清洗&封IP：如前述，要这么做的前提是攻击包至少要到你的机房。而机房自保的措施导致了数据包根本到不了机房，无解3、CDN服务：现代CDN提供商还没有完善的动态网页加速技术，所以结果就是，你充其量利用CDN保住静态化的主页可以访问，其他任何动态网站功能就只能呵呵了。

作者：gashero
链接：https://www.zhihu.com/question/19581905/answer/37397087
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。




看了其他几个回答提供的方案，分别分析一下：1、拼带宽：或者说拼软妹币，这不是一点点钱能搞定的，果壳网彼时只买了不足100M带宽，所在早期机房总带宽也不足40G，攻击带宽都没见过低于10G的(机房的人后来告诉我的)。假设某便宜机房(肯定不在北上广深)，带宽价格为100元/M*月，每月按峰值计费。则要买10G带宽顶一下，需要的月费是100万，100万……2、流量清洗&封IP：如前述，要这么做的前提是攻击包至少要到你的机房。而机房自保的措施导致了数据包根本到不了机房，无解3、CDN服务：现代CDN提供商还没有完善的动态网页加速技术，所以结果就是，你充其量利用CDN保住静态化的主页可以访问，其他任何动态网站功能就只能呵呵了。

作者：gashero
链接：https://www.zhihu.com/question/19581905/answer/37397087
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



4）DDOS攻击2大关键：一，分布式；二，针对服务。第一个，无解，道高一尺魔高一丈。第二个，服务！服务！服务！念三次，知道DDOS的目标是什么吗？是所有服务吗？不是，是你的system内的设计不好的服务，是要合理将服务单元划分，服务和服务之间设计时就要将耦合度降到最低，牵一发而动全身的system，怎么去做defence。对于任何DDOS攻击你需要的不是防御方案，不是某一个设备，是一个Team，能够快速reaction，能够做system analysis，深度理解你们产品architecture。出了问题，能第一时间对脆弱服务提出解决方案。出了问题，能第一时间攻击源有定位。一个企业/政府单位/事业机构被DDOS，是技术问题？图样图森破。果断报警吧，小伙子。

作者：匿名用户
链接：https://www.zhihu.com/question/19581905/answer/16720453
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


1）DDOS发生前可能永远都无法预知，因此，应急方案一定要有。2）DDOS发生后可能短时间无法完全防御，因此要有保证最小服务的生存的意思。3）DDOS攻击源可能很难定位，甚至无计可施，但是最接近你的一级的入口流量，你完全可以控制。首先求自己，然后求别人。4）商场似战场，但是不是战场，在灾难最重要的是对你用户负起责任。

作者：匿名用户
链接：https://www.zhihu.com/question/19581905/answer/16720453
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



DDoS全称Distributed Denial of Service，即分布式拒绝服务攻击。通俗点讲就是利用多于对方的火力来火并，最终把对手打趴下。这个火力就是资源，或带宽或计算资源，横行网络多年的黑客其实最不缺的就是资源，更不用说专职DDoS攻击的黑产了

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


服务器、PC、Pad、手机、智能电视、路由器、打印机、摄像头。想象一下，在网络世界夜幕低垂时，这些数字节点如同四面八方的萤火虫般为某次DDoS攻击默默地贡献自己的资源，前赴后继，直至目标业务无法正常运行

其实在吃货的世界里也时常见到DDoS经典场景。街角一家馄饨店开门营业，结果进来一票无赖把餐桌全占且不点单，客人也不敢进去，从而导致生意全无，这属于恶意的DDoS攻击。楼下张大妈每天早上只卖100碗面条，然后突然一辆旅游大巴停靠下来，车上旅客把面条买光了，导致张大妈的常客早上都没面条吃，这也是DDoS攻击。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。




DDoS江湖地位如何？在黑客世界的兵器谱上，不同于水坑攻击或鱼叉攻击，DDoS明显属于摧城拔寨的明星武器，也正是因为DDoS攻击易攻难守，野蛮肆虐，因此也有着很高的江湖地位和出镜率，放到武侠世界里，DDoS至少是东邪西毒级别的高手。江湖地位高，在电视里也有所体现，看看在2015年金球奖夺魁的美剧《MR. Robot》和韩剧《幽灵》等黑客题材电视剧，DDoS攻击都在重要剧情中出现，也算是网络攻击的代言词之一。好多人会觉得电视是骗人的，现实里网络攻击哪有这么夸张，笔者只能说你们图样图森破，现实更残酷，熟悉的场景，熟悉的方式，每天都在发生，不同的只有攻击者和目标。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


出镜率高是因为易攻难守，十多年过去，TCP协议并未改变，因此利用TCP协议弱点的DDoS方法也没有过时。2002年的攻击工具现在还能凑效，而应对DDoS的方法也只能迭代更新，对付DDoS并没有一劳永逸的银弹。很多企业的安全防护体系都是在被虐中成长，从攻击中学习，十余年的攻防积累才形成现在的保障能力。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



从技术层面分析与资源有着紧密联系，它们简单粗暴地吞噬带宽和计算资源，最终迫使业务访问异常，当然这是表象。黑客的诉求从来不是如此，DDoS只是他们手里的筹码，要么敲诈勒索、要么利益冲突、要么表达政治立场。人在江湖飘，哪有不挨刀，不管是要钱还是要命，杀人越货从古至今延续到现在，从人的江湖蔓延到网络世界，甚至愈演愈烈。某网络游戏上线公测前10分钟，主力机房遭遇DDoS攻击，带宽瞬间被占满，上游路由节点被打瘫，游戏发行商被迫宣布停止公测。某地国土资源交易中心在线拍卖市中心“地王”标段，价格屡创新高，盘中突然遭遇DDoS攻击，最终导致废标。诸如此类的案例数不胜数，敲诈勒索已然成为了阳光产业，明码标价，1000台在线主机一天500元，四处可见DDoS的黑产广告，一如满大街的办证和发票广告一样刺眼，最让人瞠目结舌的是，大多有关DDoS攻击的文章评论区都被这些黑产广告霸占，你在上边喊捉贼，他们在下面吆喝买卖，和谐共处。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。




而运营商带宽租赁成本相当昂贵，1G的带宽一年费用大致20万左右，因此大多数客户都是按需购买带宽，根本没有足够的闲置资源来对付攻击，那攻击来了怎么办，老乡们不用怕，还可以找专业DDoS防护厂商。

说到底，DDoS是一场关乎资源的战争，攻击方式和诉求时有变化，不变的唯有占据高比例的妥协和退步。



二、 新趋势、新挑战在DDoS的世界里，旧的攻击方法还没退出历史舞台，新的攻击手段已经蜂拥而至，各类反射型攻击大有四两拨千斤的味道。于是乎夹杂着UDP Flood、CC、DNS和NTP反射的混合攻击四处肆虐，大有大军过境寸草不生之势。混合型攻击比例大幅增长，少数混合型攻击至多会用到5种以上方法组合，这给攻击检测和流量清洗都带来了更大的挑战，此为趋势之一。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


十年之前，最大的DDoS流量不超过8Gbps，十年之后，最大的攻击流量已经是8Gbps的50倍开外。2013年以前DDoS攻击没有超过200Gbps。2013年3月国际非营利性组织Spamhaus遭受300Gbps的攻击。2014年2月CloudFlare遭受400Gbps的攻击。2014年12月阿里云上某客户遭受453Gbps的攻击。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。


一个接一个的历史记录被残酷地刷新，令人庆幸的是，针对云上某客户的453Gbps的攻击被阿里云扛下来了，此次攻击涉及20万家庭、5万服务器、50个IDC机房，黑产控制资源之多让人震惊，但问题是又有几家企业拥有等同阿里云的带宽资源和DDoS清洗技术。



453G是个什么概念，笔者举个例子，某省骨干网有两个出口，一个出口在省会城市，带宽是700G。另一个出口在某地级市，出口是500G。453Gbps的攻击流量能够瞬间搞瘫该省除这两个城市之外的任意城市城域网，当然500G带宽的那个出口城市同样也是岌岌可危。Arbor Network在第11届年度全球基础设施安全报告中披露2015年的DDoS攻击强度超过500Gbps，而且DDoS攻击流量在100Gbps以上的案例越来越多，攻击流量屡刷新高，没有最高，只有更高。大流量很厉害，是不是小流量DDoS攻击造成的破坏要小一些呢，答案是否定的。小流量分为“小而快”和“小而慢”两种，小而快的DDoS攻击像夜幕中的刺客，擅长隐蔽，可能你还未觉察到它，它就已经完成了一次攻击。业界叫这类攻击为脉冲攻击，老外把它叫做Hit-and-Run DDoS,顾名思义就是打完就跑，小而快的DDoS攻击令大多数网络游戏厂商头疼不已。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



小而慢的DDoS攻击如同塞外沙漠龙门客栈的老板娘金镶玉，一颦一笑风情万千温柔种种，但就在不经意间勾走汉子的心思。小而慢攻击主要针对于业务逻辑不够完善或协议漏洞发起，比起小而快，小而慢更不会让人发现和识别，堪称DDoS猥琐流代表。DDoS攻击两极分化愈发明显，流量大者来势迅猛，攻城掠地只在弹指间。流量小者隐而不发，杀敌于无形之中。此为趋势之二。攻击设备从IDC机房和办公室走向千家万户，从最开始的服务器、PC电脑，再到Pad、手机、家里的路由器、智能电视、智能摄像头等智能家居设备，都有可能成为DDoS的攻击源头。十年前的IDC在5M、10M销售带宽，十年后的今天，笔者家里是电信100M的光纤到户，20M、50M的家庭宽带已经普及，而且资费相对而言下降了许多。同样黑客会感谢摩尔定律，让现在的手机等智能设备的计算能力和性能超越了十多年前的古董PC电脑。想象一下，家里那闪烁不停的路由器，它已经被黑客控制，正在参与某起精心筹划的攻击。公司那台连网的自动咖啡机，一边煮着芳香四溢的咖啡，另一边正攻击着某个金融网站。行驶在城市快速道上的汽车，低沉的引擎声下，车载智能终端正向外发起DDoS攻击请求。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。




作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

家庭网络丰富的带宽资源和计算资源成为孕育DDoS攻击的新温床，攻击设备从专业数据节点星火燎原到千家万户，此为趋势之三。DDoS的新趋势当然还有攻击目标行业的变化，黑产业务链条的变化等等，篇幅有限就不再一一展开。三、新长征路上的抗D桃李春风一杯酒，江湖夜雨十年灯。凭借一己之力，背着盒子去抗D的热血岁月一去不复返，在攻防资源极其不对等的今天，受制于出口带宽，单个硬件盒子的功效极大的弱化，通过部署硬件来防护DDoS攻击的单一模式可能会慢慢淘汰，大流量扛不住，运维成本过高，诸多的原因驱使着这一模式发生改变。再看今天，攻防环境越发复杂，DDoS攻击的门槛越来越低，而防护成本随着清洗性能大幅增高，业务系统的复杂性也降低了攻击检测的精准度，不同于如同病毒和恶意代码等攻击防护，DDoS强调成本和资源的特殊性增加了企业自建防护体系的难度和成本。换句话说，除非企业有钱任性，并且拥有丰富经验的安全团队，抛开此类笔者还是建议找专业Anti－DDoS服务提供商。Anti－DDoS服务模式其实也有较大的变化，最早是本地清洗，等敌军杀到家门口再出门迎敌，那时候敌军规模不算大，虽然把家门口的敌军干掉了，但是上游通道还是被堵死了。然后是CDN模式，试图通过DNS智能解析来缓解DDoS攻击，但是CDN初衷是为了加速，并且只支持Web模式。再然后就来到了云防护时代，大多数的云计算服务提供商自己云上的客户会经常遭受DDoS攻击，为了解决云上客户的DDoS问题，云服务提供商会形成了自己的一套完整DDoS解决方案，正如阿里云提及的十年攻防一朝成盾，这就是一个经典的场景，云清洗效果得到市场认可之后，广阔天地大有作为，云服务提供商的DDoS清洗服务就面向广大众多非云用户了。



其实说到这里，云服务提供商的DDoS清洗服务有两个隐形优势：一是云上业务包罗万象，电商、游戏、金融、新型互联网，安全团队经过无数次攻防对抗之后，对各类业务的深刻理解以及DDoS检测规则与业务的耦合度非常人所能及；二是云服务提供商具备丰富的带宽资源，它可以将闲置带宽通过“去库存”的方式应用到抗D事业中去，这也是一般的云清洗服务商所不能提供的。这是最好的时代，也是最坏的时代。万物互联和智能生活的数字变革已然将临，数字变革给我们生活带来便捷的同时，同样也会从网络暗面进行破坏。如果哪天你看到“黑客利用5万台在线豆浆机攻瘫某金融机构官网24小时”这样的头条新闻，请不要惊讶，这就是关于未来可以预见的结果。

作者：孙维
链接：https://www.zhihu.com/question/19581905/answer/92890822
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。













方法如下，自行选择:

1 砸带宽，超过D的就好了；
2 封ip，宁可错杀一千，不放过一个；
3 搞定实施D你的组织（一般不是竞争对手），让他停止D；
4 把服务器搞到让组织D你的人的（比如竞争对手）同一个机房。



时间可以撕破任何装X，遇到CC之类的攻击，基本无解。


1、多买几个域名，一字排开，比如说有10个。
2、每个域名的接入服务器分别丢在不同的主流云系统上，并分别买一点CDN。
3、在云之间架隧道VPN，服务器相互之间通过VPN做数据同步和心跳。
4、留1-2个站点作为不对外提供服务的冗余节点，并做好保密措施。


DDoS（Distributed Denial of Service，分布式拒绝服务）主要通过大量合法的请求占用大量网络资源，从而使合法用户无法得到服务的响应，是目前最强大、最难防御的攻击之一。小编特地整理了从DDoS历史介绍、防护手段，以及多位阿里安全专家：吴在安全漏洞、初创企业网络安全等经验分享。纯视频：手机阅读请谨慎打开哦：

作者：阿里云云栖社区
链接：https://www.zhihu.com/question/19581905/answer/151754779
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。





🔵 检测ddos

看是否被攻击.









🔵 简介

  DDoS Distributed Denial of Service 分布式拒绝服务
  攻击的主要目的是让指定目标无法提供正常服务，甚至从互联网上消失，是目前最强大、最难防御的攻击之一。

  攻击原理 就是用成千上万的虚假用户. 访问服务器. 导致某服务器不能给正常用户..

  就像医院挂号.成千上万的药贩子去排队. 医院爆满.超出运营范围.真正的病人就挂不上号.





🔵 DDoS 分类

  按照发起的方式，DDoS可以简单分为三类。

  第一类以力取胜，海量数据包从互联网的各个角落蜂拥而来，堵塞IDC入口，让各种强大的硬件防御系统、快速高效的应急流程无用武之地。这种类型的攻击典型代表是ICMP Flood和UDP Flood，现在已不常见。

  第二类以巧取胜，灵动而难以察觉，每隔几分钟发一个包甚至只需要一个包，就可以让豪华配置的服务器不再响应。这类攻击主要是利用协议或者软件的漏洞发起，例如Slowloris攻击、Hash冲突攻击等，需要特定环境机缘巧合下才能出现。

  第三类是上述两种的混合，轻灵浑厚兼而有之，既利用了协议、系统的缺陷，又具备了海量的流量，例如SYN Flood攻击、DNS Query Flood攻击，是当前的主流攻击方式。

  本文将一一描述这些最常见、最具代表性攻击方式，并介绍它们的防御方案。






🔵 SYN Flood

    SYN Flood是互联网上最经典的DDoS攻击方式之一，最早出现于1999年左右，雅虎是当时最著名的受害者。
    SYN Flood攻击利用了TCP三次握手的缺陷，能够以较小代价使目标服务器无法响应，且难以追查。

    🔸标准的TCP三次握手过程如下：

      1. 客户端发送一个包含SYN标志的TCP报文，SYN即同步（Synchronize），
            同步报文会指明客户端使用的端口以及TCP连接的初始序号；

      2. 服务器在收到客户端的SYN报文后，将返回一个SYN+ACK（即确认Acknowledgement）的报文，
            表示客户端的请求被接受，同时TCP初始序号自动加1；

      3. 客户端也返回一个确认报文ACK给服务器端，同样TCP序列号被加1。


    经过这三步，TCP连接就建立完成。
    TCP协议为了实现可靠传输，在三次握手的过程中设置了一些异常处理机制。
    第三步中如果服务器没有收到客户端的最终ACK确认报文，会一直处于SYN_RECV状态，将客户端IP加入等待列表，并重发第二步的SYN+ACK报文。重发一般进行3-5次，大约间隔30秒左右轮询一次等待列表重试所有客户端。另一方面，服务器在自己发出了SYN+ACK报文后，会预分配资源为即将建立的TCP连接储存信息做准备，这个资源在等待重试期间一直保留。更为重要的是，服务器资源有限，可以维护的SYN_RECV状态超过极限后就不再接受新的SYN报文，也就是拒绝新的TCP连接建立。

    SYN Flood正是利用了上文中TCP协议的设定，达到攻击的目的。攻击者伪装大量的IP地址给服务器发送SYN报文，由于伪造的IP地址几乎不可能存在，也就几乎没有设备会给服务器返回任何应答了。因此，服务器将会维持一个庞大的等待列表，不停地重试发送SYN+ACK报文，同时占用着大量的资源无法释放。更为关键的是，被攻击服务器的SYN_RECV队列被恶意的数据包占满，不再接受新的SYN请求，合法用户无法完成三次握手建立起TCP连接。也就是说，这个服务器被SYN Flood拒绝服务了。






🔵 DNS Query Flood

    作为互联网最基础、最核心的服务，DNS自然也是DDoS攻击的重要目标之一。
    打垮DNS服务能够间接打垮一家公司的全部业务，或者打垮一个地区的网络服务。
    前些时候风头正盛的黑客组织anonymous也曾经宣布要攻击全球互联网的13台根DNS服务器，不过最终没有得手。

    UDP攻击是最容易发起海量流量的攻击手段，而且源IP随机伪造难以追查。
    但过滤比较容易，因为大多数IP并不提供UDP服务，直接丢弃UDP流量即可。
    所以现在纯粹的UDP流量攻击比较少见了，取而代之的是UDP协议承载的DNS Query Flood攻击。
    简单地说，越上层协议上发动的DDoS攻击越难以防御，因为协议越上层，与业务关联越大，防御系统面临的情况越复杂。

    DNS Query Flood就是攻击者操纵大量傀儡机器，对目标发起海量的域名查询请求。
    为了防止基于ACL的过滤，必须提高数据包的随机性。常用的做法是UDP层随机伪造源IP地址、随机伪造源端口等参数。
    在DNS协议层，随机伪造查询ID以及待解析域名。随机伪造待解析域名除了防止过滤外，还可以降低命中DNS缓存的可能性，尽可能
    多地消耗DNS服务器的CPU资源。




🔵 HTTP Flood

    上文描述的SYN Flood、DNS Query Flood在现阶段已经能做到有效防御了，真正令各大厂商以及互联网企业头疼的是HTTP Flood攻击。HTTP Flood是针对Web服务在第七层协议发起的攻击。它的巨大危害性主要表现在三个方面：发起方便、过滤困难、影响深远。

    SYN Flood和DNS Query Flood都需要攻击者以root权限控制大批量的傀儡机。
    收集大量root权限的傀儡机很花费时间和精力，而且在攻击过程中傀儡机会由于流量异常被管理员发现，攻击者的资源快速损耗而补充缓慢，导致攻击强度明显降低而且不可长期持续。
    HTTP Flood攻击则不同，攻击者并不需要控制大批的傀儡机，取而代之的是通过端口扫描程序在互联网上寻找匿名的HTTP代理或者SOCKS代理，攻击者通过匿名代理对攻击目标发起HTTP请求。
    匿名代理是一种比较丰富的资源，花几天时间获取代理并不是难事，因此攻击容易发起而且可以长期高强度的持续。

    另一方面，HTTP Flood攻击在HTTP层发起，极力模仿正常用户的网页请求行为，与网站业务紧密相关，安全厂商很难提供一套通用的且不影响用户体验的方案。在一个地方工作得很好的规则，换一个场景可能带来大量的误杀。

    最后，HTTP Flood攻击会引起严重的连锁反应，不仅仅是直接导致被攻击的Web前端响应缓慢，还间接攻击到后端的Java等业务层逻辑以及更后端的数据库服务，增大它们的压力，甚至对日志存储服务器都带来影响。

    有意思的是，HTTP Flood还有个颇有历史渊源的昵称叫做CC攻击。CC是Challenge Collapsar的缩写，而Collapsar是国内一家著名安全公司的DDoS防御设备。从目前的情况来看，不仅仅是Collapsar，所有的硬件防御设备都还在被挑战着，风险并未解除。





🔵 慢速连接攻击

    提起攻击，第一反应就是海量的流量、海量的报文。
    但有一种攻击却反其道而行之，以慢著称，以至于有些攻击目标被打死了都不知道是怎么死的，这就是慢速连接攻击，最具代表性的是rsnake发明的Slowloris。

    HTTP协议规定，HTTP Request以\r\n\r\n结尾表示客户端发送结束，服务端开始处理。那么，如果永远不发送\r\n\r\n会如何？Slowloris就是利用这一点来做DDoS攻击的。攻击者在HTTP请求头中将Connection设置为Keep-Alive，要求Web Server保持TCP连接不要断开，随后缓慢地每隔几分钟发送一个key-value格式的数据到服务端，如a:b\r\n，导致服务端认为HTTP头部没有接收完成而一直等待。如果攻击者使用多线程或者傀儡机来做同样的操作，服务器的Web容器很快就被攻击者占满了TCP连接而不再接受新的请求。







🔵 混合攻击

    以上介绍了几种基础的攻击手段，其中任意一种都可以用来攻击网络，甚至击垮阿里、百度、腾讯这种巨型网站。但这些并不是全部，不同层次的攻击者能够发起完全不同的DDoS攻击，运用之妙，存乎一心。

    高级攻击者从来不会使用单一的手段进行攻击，而是根据目标环境灵活组合。
    普通的SYN Flood容易被流量清洗设备通过反向探测、SYN Cookie等技术手段过滤掉，
    但如果在SYN Flood中混入SYN+ACK数据包，使每一个伪造的SYN数据包都有一个与之对应的伪造的客户端确认报文，这里的对应是指源IP地址、源端口、目的IP、目的端口、TCP窗口大小、TTL等都符合同一个主机同一个TCP Flow的特征，流量清洗设备的反向探测和SYN Cookie性能压力将会显著增大。
    其实SYN数据报文配合其他各种标志位，都有特殊的攻击效果，这里不一一介绍。对DNS Query Flood而言，也有独特的技巧。


    首先，DNS可以分为普通DNS和授权域DNS，攻击普通DNS，IP地址需要随机伪造，并且指明服务器要求做递归解析；但攻击授权域DNS，伪造的源IP地址则不应该是纯随机的，而应该是事先收集的全球各地ISP的DNS地址，这样才能达到最大攻击效果，使流量清洗设备处于添加IP黑名单还是不添加IP黑名单的尴尬处境。添加会导致大量误杀，不添加黑名单则每个报文都需要反向探测从而加大性能压力。

    另一方面，前面提到，为了加大清洗设备的压力不命中缓存而需要随机化请求的域名，但需要注意的是，待解析域名必须在伪造中带有一定的规律性，比如说只伪造域名的某一部分而固化一部分，用来突破清洗设备设置的白名单。道理很简单，腾讯的服务器可以只解析腾讯的域名，完全随机的域名可能会直接被丢弃，需要固化。但如果完全固定，也很容易直接被丢弃，因此又需要伪造一部分。

    其次，对DNS的攻击不应该只着重于UDP端口，根据DNS协议，TCP端口也是标准服务。在攻击时，可以UDP和TCP攻击同时进行。

    HTTP Flood的着重点，在于突破前端的cache，通过HTTP头中的字段设置直接到达Web Server本身。另外，HTTP Flood对目标的选取也非常关键，一般的攻击者会选择搜索之类需要做大量数据查询的页面作为攻击目标，这是非常正确的，可以消耗服务器尽可能多的资源。但这种攻击容易被清洗设备通过人机识别的方式识别出来，那么如何解决这个问题？很简单，尽量选择正常用户也通过APP访问的页面，一般来说就是各种Web API。正常用户和恶意流量都是来源于APP，人机差别很小，基本融为一体难以区分。

    之类的慢速攻击，是通过巧妙的手段占住连接不释放达到攻击的目的，但这也是双刃剑，每一个TCP连接既存在于服务端也存在于自身，自身也需要消耗资源维持TCP状态，因此连接不能保持太多。如果可以解决这一点，攻击性会得到极大增强，也就是说Slowloris可以通过stateless的方式发动攻击，在客户端通过嗅探捕获TCP的序列号和确认维护TCP连接，系统内核无需关注TCP的各种状态变迁，一台笔记本即可产生多达65535个TCP连接。

    前面描述的，都是技术层面的攻击增强。在人的方面，还可以有一些别的手段。如果SYN Flood发出大量数据包正面强攻，再辅之以Slowloris慢速连接，多少人能够发现其中的秘密？即使服务器宕机了也许还只发现了SYN攻击想去加强TCP层清洗而忽视了应用层的行为。种种攻击都可以互相配合，达到最大的效果。攻击时间的选择，也是一大关键，比如说选择维护人员吃午饭时、维护人员下班堵在路上或者在地铁里无线上网卡都没有信号时、目标企业在举行大规模活动流量飙升时等。

    这里描述的只是纯粹的攻击行为，因此不提供代码，也不做深入介绍。








🔵 来自P2P网络的攻击

    前面的攻击方式，多多少少都需要一些傀儡机，即使是HTTP Flood也需要搜索大量的匿名代理。如果有一种攻击，只需要发出一些指令，就有机器自动上来执行，才是完美的方案。这种攻击已经出现了，那就是来自P2P网络的攻击。

    大家都知道，互联网上的P2P用户和流量都是一个极为庞大的数字。如果他们都去一个指定的地方下载数据，使成千上万的真实IP地址连接过来，没有哪个设备能够支撑住。拿BT下载来说，伪造一些热门视频的种子，发布到搜索引擎，就足以骗到许多用户和流量了，但这只是基础攻击。

    高级P2P攻击，是直接欺骗资源管理服务器。如迅雷客户端会把自己发现的资源上传到资源管理服务器，然后推送给其他需要下载相同资源的用户，这样，一个链接就发布出去。通过协议逆向，攻击者伪造出大批量的热门资源信息通过资源管理中心分发出去，瞬间就可以传遍整个P2P网络。更为恐怖的是，这种攻击是无法停止的，即使是攻击者自身也无法停止，攻击一直持续到P2P官方发现问题更新服务器且下载用户重启下载软件时为止。











❤️ dos 工具




http://www.freebuf.com/sectool/36545.html

https://www.quora.com/What-are-the-best-tools-available-to-perform-a-DDoS-or-DoS-attack



🔵 攻击工具: 




Thc-ssl-dos – 
    It is a DOS attack tool and it can also be used to test the ssl renegotiation. 
    It is available under the backtrack linux or kali linux tools package.

It mainly checks whether a website or server is enabled with SSL-renegotiation, thereby checking for renegotiation vulnerability (CVE-2009-3555).

(You can learn more about ssl renegotiation here - https://devcentral.f5.com/articl...)

So what basically thc-ssl-docs do , it sends SSL requests(Client Hello) to a server & then rejects the reply from the server(Server Hello) multiple times. So eventually when the server tries to renegotiate during authentication, the client rejects it and thereby crashes the server making it a Denial of Service attack.

Syntax is like (port is optional in case of webpage)-

Syntax: thc-ssl-dos <options> ip port
so command will be (-accept parameter is must)

thc-ssl-dos 192.168.1.1 443 –accept










🔵  LOIC   

windows 绿色软件,最新版本 1.0.8、无序安装.需要 .net4.0

官方下载地址: https://sourceforge.net/projects/loic/
源码原理详解:  http://www.freebuf.com/sectool/88356.html


使用方法:
先从Select your target说起，URL这一栏填网站网址，比如http://www.baidu.com，或者是熟悉的http://www.jxfls.com

点击Lock on，会自动锁定网站IP地址，当然也可以用DOS PING
得到的ip为42.121.123.138


重点是attack opinions
首先是Timeout，比如上图的9001指的是最多用9001毫秒等待下一次从服务器发送的回应
这里填小一点，暂定为3000，太小了自己电脑吃不消

Port（端口）是80，http协议的默认端口，TM也不改一下，80端口最容易挨炮
其他一些网站可能用的其他端口


然后是method，楼猪推荐http，虽然http不稳定，但是特别有效果
UDP的话最终会先把自家的路由器打死，因为数据量太大了
TCP……自己试吧，和UDP没什么区别
楼猪不推荐UDP和TCP，要试一试的话去宽带牛一点的地方试一试

TRends指的是同时模拟多少个用户不停访问，暂时填40

然后把wait for reply 勾掉，免得还要check for reply

点击IMMA CHARIN MAH LAZER（WTF？什么意思）
反正是狂欢时刻到

楼猪的心随着那一行小数字（Requested和Downloaded）跳动
在短短两秒内就有1300多“人”访问了嘉祥官网








今天用的DDos软件叫LOIC（LOW ORBIT ION CANNON），是一款楼主最喜欢的DDOS软件，它提供三种攻击方法，分别是HTTP，UDP,TCP，可以使电脑的性能得到极致的发挥




LOTC是一个最受欢迎的DOS攻击工具。 这个工具被去年流行的黑客集团匿名者用于对许多大公司的网络攻击。 

它可以通过使用单个用户执行DOS攻击小型服务器，工具非常易于使用，即便你是一个初学者。 这个工具执行DOS攻击通过发送UDP,TCP或HTTP请求到受害者服务器。 你只需要知道服务器的IP地址或URL，其他的就交给这个工具吧。



Loic（低轨道离子加农炮）是一个叫4Chan-affiliated的团体开发的，这个工具被成千上万的匿名使用者使用，在网络环境中，造成了很多混乱，使用DDos来对一个网站进行压力测试。


匿名者使用的是修改过的Loic，是添加了HiveMind特性的版本。（鬼知道怎么翻译）
并且因为LOIC暴露攻击者IP，导致很多 Anonymous 被捕，在2011年匿名者组织就发出“Do NOT use LOIC.”的警告，并再未使用。
在放弃LOIC后匿名者进化出HOIC

https://en.wikipedia.org/wiki/High_Orbit_Ion_Cannon
再后来，….  (扯不下去了，扔下  http://www.freebuf.com/tools/36545.html 自个跑了)






我可以很通俗地来解释一下DoS（DDoS）拒绝服务攻击：

我们浏览一个网站，就要像这个网站发送数据包（合理请求），因为请求完全合理，那么也就意味着，网站将会正常处理我们的请求，这样就是说每一个请求都会消耗一些资源，那么在这样一种情景：比如大学抢课经常出现几千人同时在同一时间上网导致服务器"瘫痪"的事件，那么如果大家能理解到这里的话，我们简单来解释DoS就会变得很容易了，Dos就是你不停的发送某一个请求去占用服务器系统资源，就好比你充当了很多人同时访问一个网站一样，如果网站服务器无法承受这种压力的话自然会崩溃，对不对？ 

DoS：拒绝服务攻击
DDos：分布式拒绝服务攻击

虽然只是三个字（一个字母）的差别，这两个攻击的威力差别很大，Dos大多数只不过指的是一台主机（攻击机）对目标进行攻击（发送过量的数据包请求来占用服务器资源），而DDoS是一群计算机（被控制者控制的僵尸网络）对目标发起攻击，强度是Dos的很多倍（有幸曾经见过一秒几十G的流量的DDos攻击，僵尸网络包含了多台高性能服务器）。现在截止15年11月aliyun声称他们的服务器已经可以抵御每秒上百G的DDos流量攻击。






对于普通的中小型企业网站,,,,可能采取向一些DDOS防护公司租用”分布式Web服务器托管服务”的方式来在多台服务器之间共享(分担)面临DDOS攻击时产生的数据,,,,从而达到缓和DDOS攻击的目的

 

此法只适用于服务器数量不多的企业,,,,,,像FaceBook这种大型社交网站若租用该服务,,,,6万台服务器产生的租用,,维护等运营成本,,,,,会让它在还没被攻击前就倒闭

因此可以大胆断定FaceBook没有采用这种数据流负载共享服务,,,,,放心攻击吧~~~




在“ select your target " 中输入你要攻击的URL地址，然后单击右边的LOCK ON，软件会自动探测目标的IP并且显示在selected target 一栏中，此时NONE 会变成目标的IP

你要知道国际出口带宽
和硬件防火墙 不是假的   











🔵 HOIC


下载  https://sourceforge.net/projects/highorbitioncannon/












🔵 XOIC
这软件很难下载到. 放弃.

XOIC是另一个不错的DOS攻击工具。它根据用户选择的端口与协议执行DOS攻击任何服务器。XOIC开发者还声称XOIC比上面的LOIC在很多方面更强大呢。

一般来说,该工具有三种攻击模式,第一个被称为测试模式，是非常基本的； 第二个是正常的DOS攻击模式； 最后一个是带有HTTP / TCP / UDP / ICMP消息的DOS攻击模式,。 

对付小型网站来说，这是一个很有效的DDOS工具。 但是从来没有尝试的要小心点，你可能最终会撞自己的网站的服务器。 










3. HULK (HTTP Unbearable Load King)


HULK是另一个不错的DOS攻击工具，这个工具使用某些其他技术来避免通过攻击来检测。它有一个已知的用户代理列表，且使用的是随机请求。

在这里下载HULK: http://packetstormsecurity.com/files/112856/HULK-Http-Unbearable-Load-King.html 




4. DDOSIM—Layer 7 DDOS Simulator
DDOSIM是另一种流行的DOS攻击工具。 顾名思义,它是通过模拟控制几个僵尸主机执行DDOS攻击。所有僵尸主机创建完整的TCP连接到目标服务器。 

这个工具是用c++写的,并且在Linux系统上运行。 

这些是DDOSIM的主要特点： 

模拟几个僵尸攻击 
随机的IP地址 
TCP-connection-based攻击 
应用程序层DDOS攻击 
HTTP DDos等有效的请求 
与无效请求HTTP DDoS(类似于直流+ +攻击) 
SMTP DDoS 
TCP洪水连接随机端口





There are basically three types of DDOS attacks:

Application-layer DDOS attack
Protocol DOS attack
Volume-based DDOS attack
Application layer DDOS attack: Application-layer DDOS attacks are attacks that target Windows, Apache, OpenBSD, or other software vulnerabilities to perform the attack and crash the server.

Protocol DDOS attack: A protocol DDOS attacks is a DOS attack on the protocol level. This category includes Synflood, Ping of Death, and more.

Volume-based DDOS attack: This type of attack includes ICMP floods, UDP floods, and other kind of floods performed via spoofed packets.

Now your answer there are some basic tools you can use for DDos/DoS attacks like(read more about them online)





LOIC (Low Orbit Ion Canon)
XOIC
HULK - Http Unbearable Load King
DDOSIM - Layer 7 DDoS Simulator
RUDY:Long-term storage for Google Code Project Hosting.
Tor's Hammer - Slow POST Denial Of Service Testing Tool
PyLoris
OWASP DOS HTTP POST:Google Project Hosting
DAVOSET 1.1.3 ≈ Packet Storm
GoldenEye HTTP Denial Of Service Tool




🔵 kali 安装 goldeneye ❌..

https://github.com/jseidl/GoldenEye

git clone https://github.com/jseidl/GoldenEye && cd GoldenEye
./goldeneye.py http://www.0214.help



🔵 linux pentmenu
https://github.com/GinjaChris/pentmenu


wget https://raw.githubusercontent.com/GinjaChris/pentmenu/master/pentmenu && chmod +x ./pentmenu && ./pentmenu


可以ddos 但是好像没效果...


dos. 和 ddos 是两个东西...









