
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ å¼€æœºå¯åŠ¨ Supervisor âœ”ï¸ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ ç²¾ç®€ä¾‹1 zabbix_server

    â¦¿  vim /etc/supervisord.conf 
        ç¡®ä¿  [include] äº† /etc/supervisor é‡Œé¢çš„æ–‡ä»¶
        files = /etc/supervisor/*.conf

    â¦¿  cd /etc/supervisor

    â¦¿  ç»™æ¯ä¸ªå¯åŠ¨ç¨‹åºæ–°å»ºå•ç‹¬é…ç½®æ–‡ä»¶.
      vi /etc/supervisor/zabbix-server.conf

        [program:zabbix-server]
        directory= /       ; è¿™ä¸ªå‚æ•°å¥½åƒä¸èƒ½çœçš„.
        command = /usr/local/zabbix-server/sbin/zabbix_server
        autostart = true
        startsecs = 5
        autorestart = true
        startretries = 3
        user = root
        redirect_stderr = true
        stopasgroup=true


    â¦¿ é‡è½½é…ç½®æ–‡ä»¶
      systemctl daemon-reload && systemctl reload supervisord.service

    â¦¿ é‡å¯ supervisor
      systemctl restart supervisord.service

    â¦¿ æµ‹è¯• 
      nmap -p 10051 127.0.0.1



ğŸ”¸ ç²¾ç®€ä¾‹2 zabbix-agent 

    â¦¿  cd /etc/supervisor

    â¦¿  ç»™æ¯ä¸ªå¯åŠ¨ç¨‹åºæ–°å»ºå•ç‹¬é…ç½®æ–‡ä»¶.
      vi /etc/supervisor/zabbix-agent.conf

    [program:zabbix-server]
    directory= /
    command = /usr/local/zabbix-server/sbin/zabbix_agentd
    autostart = true
    startsecs = 5
    autorestart = true
    startretries = 3
    user = root
    redirect_stderr = true
    stopasgroup=true


    â¦¿ é‡è½½é…ç½®æ–‡ä»¶
      systemctl daemon-reload && systemctl reload supervisord.service

    â¦¿ é‡å¯ supervisor
      systemctl restart supervisord.service
      ç°åœ¨ä¸ç”¨å¯åŠ¨ zabbix_agentd, supervisorä¼šè‡ªåŠ¨å¸®ä½ å¯åŠ¨çš„.

    â¦¿ æµ‹è¯• 
      nmap -p 10051,10050 127.0.0.1




















ğŸ”¸ Supervisor Centos7
		â—ï¸â—ï¸â—ï¸ Supervisoræ˜¯ä¸€ä¸ªç”¨pythonå†™çš„è¿›ç¨‹ç®¡ç†ç¨‹åºï¼Œä¸ä»…ä»…å¯ä»¥ç”¨æ¥ç®¡ç†è¿›ç¨‹ï¼Œè¿˜å¯ä»¥ç”¨æ¥åšå¼€æœºå¯åŠ¨ã€‚â—ï¸â—ï¸â—ï¸
		â—ï¸â—ï¸â—ï¸ Supervisoræ˜¯ä¸€ä¸ªç”¨pythonå†™çš„è¿›ç¨‹ç®¡ç†ç¨‹åºï¼Œä¸ä»…ä»…å¯ä»¥ç”¨æ¥ç®¡ç†è¿›ç¨‹ï¼Œè¿˜å¯ä»¥ç”¨æ¥åšå¼€æœºå¯åŠ¨ã€‚â—ï¸â—ï¸â—ï¸
		â—ï¸â—ï¸â—ï¸ Supervisoræ˜¯ä¸€ä¸ªç”¨pythonå†™çš„è¿›ç¨‹ç®¡ç†ç¨‹åºï¼Œä¸ä»…ä»…å¯ä»¥ç”¨æ¥ç®¡ç†è¿›ç¨‹ï¼Œè¿˜å¯ä»¥ç”¨æ¥åšå¼€æœºå¯åŠ¨ã€‚â—ï¸â—ï¸â—ï¸



â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ å¼€æœºå¯åŠ¨ Supervisorâœ”ï¸ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ä¸ºäº†èƒ½å¤Ÿåœ¨æœºå™¨å¯åŠ¨ä¹‹åè‡ªåŠ¨å¯åŠ¨supervisorï¼Œéœ€è¦æŠŠsupervisorè¿›ç¨‹é…ç½®è¿›systemdï¼Œ


â¦¿ å®‰è£… Supervisor   yum install supervisor -y
â¦¿ å¸è½½ Supervisor   yum remove supervisor -y

â¦¿ ä¿®æ”¹ supervisord.service å®ç°å¼€æœºè‡ªå¯
  vi /usr/lib/systemd/system/supervisord.service

# supervisord service for systemd (CentOS 7.0+)
# by ET-CS (https://github.com/ET-CS)
[Unit]
Description=Supervisor daemon

[Service]
Type=forking
ExecStart=/usr/bin/supervisord -c /etc/supervisord.conf
ExecStop=/usr/bin/supervisorctl $OPTIONS shutdown
ExecReload=/usr/bin/supervisorctl $OPTIONS reload
KillMode=process
Restart=on-failure
RestartSec=42s

[Install]
WantedBy=multi-user.target




â¦¿ é‡æ–°åŠ è½½ supervisor
  systemctl daemon-reload && systemctl reload supervisord.service

â¦¿ æ¿€æ´»å¼€æœºå¯åŠ¨å‘½ä»¤
  systemctl enable supervisord.service

â¦¿ å¸¸ç”¨å‘½ä»¤
  systemctl status supervisord.service
  systemctl start supervisord.service && systemctl status supervisord.service
  systemctl stop supervisord.service && systemctl status supervisord.service

â¦¿ é‡å¯æµ‹è¯• æ˜¯å¦è‡ªå¯
  systemctl status supervisord.service









â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ  Web ç®¡ç†ç•Œé¢âœ”ï¸ ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé»˜è®¤é…ç½®æ˜¯æ²¡æœ‰å¼€å¯webç®¡ç†ç•Œé¢ï¼Œ
éœ€è¦ä¿®æ”¹supervisord.confé…ç½®æ–‡ä»¶æ‰“å¼€httpè®¿æƒé™ï¼Œå°†ä¸‹é¢çš„é…ç½®ï¼š
vim /etc/supervisord.conf


;[inet_http_server]         ; inet (TCP) server disabled by default
;port=127.0.0.1:9001        ; (ip_address:port specifier, *:port for all iface)
;username=user              ; (default is no username (open server))
;password=123               ; (default is no password (open server))

ä¿®æ”¹æˆï¼š

[inet_http_server]         ; inet (TCP) server disabled by default
port=0.0.0.0:9001          ; (ip_address:port specifier, *:port for all iface)
username=user              ; (default is no username (open server))
password=123               ; (default is no password (open server))



  portï¼š    ç»‘å®šè®¿é—®IPå’Œç«¯å£ï¼Œip è¦å¡«å†™ 0.0.0.0 è¿™æ ·åˆ«çš„ç”µè„‘æ‰èƒ½è®¿é—®.
  usernameï¼šç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å 
  passwordï¼šç™»å½•ç®¡ç†åå°çš„å¯†ç 




â¦¿ é‡è½½é…ç½®æ–‡ä»¶
  systemctl daemon-reload && systemctl reload supervisord.service

â¦¿ é‡å¯ supervisor
  systemctl restart supervisord.service && systemctl status supervisord.service

â¦¿ æµè§ˆå™¨æµ‹è¯•
  23.105.192.96:9001 è¾“å…¥ user  123 ç™»å½•




ğŸ”¸ Nginx

â¦¿ æ·»åŠ è™šæ‹Ÿä¸»æœº 
  lnmp vhost add 
  ================================================
  Virtualhost infomation:
  Your domain: sup.0214.help
  Home Directory: /home/wwwroot/sup.0214.help
  Rewrite: none
  Enable log: no
  Create database: no
  Create ftp account: no
  ================================================

 cd /home/wwwroot && ls
 cd /usr/local/nginx/conf/vhost && ls

â¦¿ é…ç½®è™šæ‹Ÿä¸»æœº
vi /usr/local/nginx/conf/vhost/sup.0214.help.conf
vi /usr/local/nginx/conf/vhost/sup1.0214.help.conf


server {
  listen 80;
  server_name sup.0214.help;

  location / {
      proxy_pass         http://127.0.0.1:9001;
  }
}


â¦¿ é…ç½®é»˜è®¤é…ç½®æ–‡ä»¶
  cat /usr/local/nginx/conf/nginx.conf

    include vhost/sup.0214.help.conf;
    include vhost/sup1.0214.help.conf;


â¦¿ é‡å¯nginx    sudo /etc/init.d/nginx restart
â¦¿ åŸŸåè§£æ
â¦¿ æµè§ˆå™¨æµ‹è¯•   sup.0214.help è¾“å…¥ user 123 å°±å¯ä»¥ç™»å½•äº†







â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ   ä¾‹ä¸€: zabbix-server å¼€æœºè‡ªå¯ ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

é…ç½®æ–‡ä»¶ä¿®æ”¹.


ğŸ”¸ è¿è¡Œ
  supervisord -c /etc/supervisord.conf   æˆ–  supervisord
  é»˜è®¤æ˜¯åŠ è½½  /etc/supervisord.conf è¿™ä¸ªé…ç½®æ–‡ä»¶çš„. æ‰€ä»¥å¯ä»¥çœç•¥.


ğŸ”¸ program é…ç½®

ä¸Šé¢æˆ‘ä»¬å·²ç»æŠŠ supervisrod è¿è¡Œèµ·æ¥äº†ï¼Œç°åœ¨å¯ä»¥æ·»åŠ æˆ‘ä»¬è¦ç®¡ç†çš„è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ã€‚
å¯ä»¥æŠŠæ‰€æœ‰é…ç½®é¡¹éƒ½å†™åˆ° supervisord.conf æ–‡ä»¶é‡Œï¼Œä½†å¹¶ä¸æ¨èè¿™æ ·åšï¼Œ
è€Œæ˜¯é€šè¿‡ include çš„æ–¹å¼æŠŠä¸åŒçš„ç¨‹åºï¼ˆç»„ï¼‰å†™åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶é‡Œã€‚
ä¸ºäº†ä¸¾ä¾‹ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç›®å½• /etc/supervisor/ ç”¨äºå­˜æ”¾è¿™äº›é…ç½®æ–‡ä»¶ï¼Œ
ç›¸åº”çš„ï¼ŒæŠŠ /etc/supervisord.conf é‡Œ include éƒ¨åˆ†çš„çš„é…ç½®ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¯æŒè‡ªå®šä¹‰è·¯å¾„ï¼š


â€¢ æ–°å»ºæ–‡ä»¶å¤¹
  mkdir /etc/supervisor


â€¢ ä¿®æ”¹ é…ç½®æ–‡ä»¶çš„ include æ¨¡å—
  vim /etc/supervisord.conf 
    [include]
    files = /etc/supervisor/*.conf





â€¢ æ–°å»ºé…ç½®æ–‡ä»¶
cd /etc/supervisor/

vi /etc/supervisor/zabbix-server.conf

[program:zabbix-server]
directory= /
command = /usr/local/zabbix-server/sbin/zabbix_server
autostart = true
startsecs = 5
autorestart = true
startretries = 3
user = root
redirect_stderr = true
stopasgroup=true



â¦¿ é‡è½½é…ç½®æ–‡ä»¶
  systemctl daemon-reload && systemctl reload supervisord.service

â¦¿ é‡å¯ supervisor
  systemctl stop supervisord.service
  systemctl start supervisord.service
  systemctl restart supervisord.service
  
  systemctl status supervisord.service


â¦¿ ç„¶åé‡å¯æœåŠ¡å™¨æµ‹è¯•...
âœ˜âœ˜âˆ™GCE ~ âœ nmap -p 10051 127.0.0.1
å…·ä½“æˆåŠŸäº†é¢.....







â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ å®ä¾‹äºŒ: SSR å¼€æœºè‡ªå¯ ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

â¦¿ æ–°å»ºé…ç½®æ–‡ä»¶

â€¢ æ–°å»ºæ–‡ä»¶å¤¹ mkdir /etc/supervisor
 
vi /etc/supervisor/SSR.conf

[program:SSR]
directory= /       ; è¿™ä¸ªå‚æ•°å¥½åƒä¸èƒ½çœçš„.
command = sh /root/shadowsocksr/run.sh
autostart = true
startsecs = 5
autorestart = true
startretries = 3
user = root
redirect_stderr = true
stopasgroup=true



â¦¿ é‡è½½é…ç½®æ–‡ä»¶
  systemctl daemon-reload && systemctl reload supervisord.service

â¦¿ é‡å¯ supervisor
  systemctl restart supervisord.service


  systemctl stop supervisord.service
  systemctl start supervisord.service  
  systemctl status supervisord.service


â¦¿ ç„¶åé‡å¯æœåŠ¡å™¨æµ‹è¯•...







                






â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ  é…ç½®è¯¦è§£  ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”¸ é…ç½®æ–‡ä»¶è¯¦è§£     vim /etc/supervisord.conf

[unix_http_server]
file=/tmp/supervisor.sock   ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨
;chmod=0700                 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700
;chown=nobody:nogroup       ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid

;[inet_http_server]         ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢
;port=127.0.0.1:9001        ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§
;username=user              ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å
;password=123               ; ç™»å½•ç®¡ç†åå°çš„å¯†ç 

[supervisord]
logfile=/tmp/supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD/supervisord.log
logfile_maxbytes=50MB        ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MB
logfile_backups=10           ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10
loglevel=info                ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace
pidfile=/tmp/supervisord.pid ; pid æ–‡ä»¶
nodaemon=false               ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨
minfds=1024                  ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024
minprocs=200                 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200

; the below section must remain in the config file for RPC
; (supervisorctl/web interface) to work, additional interfaces may be
; added by defining them in separate rpcinterface: sections
[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´
;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord

; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶
[include]
files = relative/directory/*.ini    ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini









[inet_http_server]         ;   supervisor çš„ web ç®¡ç†ç•Œé¢ï¼Œè¿™ä¸ª web åå°ä½¿ç”¨ Basic Auth çš„æ–¹å¼è¿›è¡Œèº«ä»½è®¤è¯ã€‚
port=222.24.51.147:9001        ; é…ç½®çš„ ip åœ°å€å’Œç«¯å£
username=user              ;  ç”¨æˆ·å
password=123               ; å¯†ç 
 
ï¼›è¿›ç¨‹ç®¡ç†çš„é…ç½®ï¼Œéå¸¸é‡è¦
[program:php-fpm]   
directory=/   ;è¿›ç¨‹è¿è¡Œå‰ï¼Œä¼šå‰åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•
command=/usr/sbin/php-fpm ; å¯åŠ¨å‘½ä»¤
user=root
stdout_logfile=/var/log/supervisor/%(program_name)s_access.log ; stdout æ—¥å¿—è¾“å‡ºä½ç½®
stderr_logfile=/var/log/supervisor/%(program_name)s_err.log ; stderr æ—¥å¿—è¾“å‡ºä½ç½®
autostart=true ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨å¯åŠ¨
autorestart=true ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
startsecs=10 ; å¯åŠ¨ 10 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨
 
;[include]                         ; æŠŠæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ supervisord.conf å¹¶ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œä¸€æ—¦ç®¡ç†çš„è¿›ç¨‹è¿‡å¤šï¼Œå°±å¾ˆéº»çƒ¦ã€‚
                                       ï¼›æ‰€ä»¥ä¸€èˆ¬éƒ½ä¼š æ–°å»ºä¸€ä¸ªç›®å½•æ¥ä¸“é—¨æ”¾ç½®è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ include çš„æ–¹å¼æ¥è·å–è¿™äº›é…ç½®ä¿¡æ¯
                                       ï¼› æ¥¼ä¸»å†™çš„æ˜¯ files = /etc/supervisord/conf.d/*.conf 
;files = relative/directory/*.ini






























â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ  å®ä¾‹      ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
é€šè¿‡è„šæœ¬ è¿è¡Œ zabbix-agent 

systemctl start  zabbix-agent.service




[program:nginx]      ï¼›nginx é…ç½®ç¤ºä¾‹
directory=/  
command=/usr/sbin/nginx -c /etc/nginx/nginx.conf
user=root
stdout_logfile=/var/log/supervisor/%(program_name)s_access.log 
stderr_logfile=/var/log/supervisor/%(program_name)s_err.log
autostart=true 
autorestart=true 
startsecs=10 

supervisorè¿˜è¦æ±‚ç®¡ç†çš„ç¨‹åºæ˜¯édaemonç¨‹åºï¼Œsupervisordä¼šå¸®ä½ æŠŠå®ƒè½¬æˆdaemonç¨‹åºï¼Œ
å› æ­¤å¦‚æœç”¨supervisoræ¥ç®¡ç†nginxçš„è¯ï¼Œå¿…é¡»åœ¨nginxçš„é…ç½®æ–‡ä»¶é‡Œæ·»åŠ ä¸€è¡Œè®¾ç½®daemon offè®©nginxä»¥édaemonæ–¹å¼å¯åŠ¨ã€‚


















æ–°å»ºé…ç½®
vi /etc/supervisor/test.conf


[program:flume]
directory = /export/flume/apache-flume-1.6.0-bin/
command = nohup bin/flume-ng agent -c conf -f conf/flume.conf -n agent -Dflume.root.logger=INFO,console > /dev/null 2>&1 &
autostart = true
startsecs = 5
autorestart = true
startretries = 3
user = root
redirect_stderr = true
stdout_logfile_maxbytes = 20MB
stdout_logfile_backups = 10
stdout_logfile = /export/flume/logs/sup_flume_stdout.log
;IT will stop all processes including child process
stopasgroup=true




[program:usercenter]
directory = /home/leon/projects/usercenter       ; ç¨‹åºçš„å¯åŠ¨ç›®å½•
command = gunicorn -c gunicorn.py wsgi:app         ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„
process_name=%(program_name)s       ; process_name expr (default %(program_name)s)
numprocs=1           ; number of processes copies to start (def 1)
autostart = true     ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨
startsecs = 1        ; å¯åŠ¨ 1 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†
autorestart = true   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
startretries = 3     ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3
user = leon          ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨
redirect_stderr = true          ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false
stdout_logfile_maxbytes = 20MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MB
stdout_logfile_backups = 10     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°
; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰
stdout_logfile = /data/logs/usercenter_stdout.log
;è¿™ä¸€é…ç½®é¡¹çš„ä½œç”¨æ˜¯ï¼šå¦‚æœsupervisordç®¡ç†çš„è¿›ç¨‹pxåˆäº§ç”Ÿäº†è‹¥å¹²å­è¿›ç¨‹ï¼Œä½¿ç”¨supervisorctlåœæ­¢pxè¿›ç¨‹ï¼Œåœæ­¢ä¿¡å·ä¼šä¼ æ’­ç»™pxäº§ç”Ÿçš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œç¡®ä¿å­è¿›ç¨‹ä¹Ÿä¸€èµ·åœæ­¢ã€‚è¿™ä¸€é…ç½®é¡¹å¯¹å¸Œæœ›åœæ­¢æ‰€æœ‰è¿›ç¨‹çš„éœ€æ±‚æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚
stopasgroup=true

; å¯ä»¥é€šè¿‡ environment æ¥æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§å¸¸è§çš„ç”¨æ³•æ˜¯ä¿®æ”¹PYTHONPATH ;process environment additions      
; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere



stopasgroup=trueã€‚è¿™ä¸€é…ç½®é¡¹çš„ä½œç”¨æ˜¯ï¼šå¦‚æœsupervisordç®¡ç†çš„è¿›ç¨‹pxåˆäº§ç”Ÿäº†è‹¥å¹²å­è¿›ç¨‹ï¼Œä½¿ç”¨supervisorctlåœæ­¢pxè¿›ç¨‹ï¼Œåœæ­¢ä¿¡å·ä¼šä¼ æ’­ç»™pxäº§ç”Ÿçš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œç¡®ä¿å­è¿›ç¨‹ä¹Ÿä¸€èµ·åœæ­¢ã€‚è¿™ä¸€é…ç½®é¡¹å¯¹å¸Œæœ›åœæ­¢æ‰€æœ‰è¿›ç¨‹çš„éœ€æ±‚æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚
autostart=trueã€‚è¿™ä¸€é…ç½®é¡¹çš„ä½œç”¨æ˜¯ï¼šå½“å¯åŠ¨supervisordçš„æ—¶å€™ä¼šå°†è¯¥é…ç½®é¡¹è®¾ç½®ä¸ºtrueçš„æ‰€æœ‰è¿›ç¨‹è‡ªåŠ¨å¯åŠ¨ã€‚
ä¸€ä»½é…ç½®æ–‡ä»¶è‡³å°‘éœ€è¦ä¸€ä¸ª [program:x]éƒ¨åˆ†çš„é…ç½®ï¼Œæ¥å‘Šè¯‰ supervisord éœ€è¦ç®¡ç†é‚£ä¸ªè¿›ç¨‹ã€‚[program:x]è¯­æ³•ä¸­çš„ x è¡¨ç¤º program nameï¼Œä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆsupervisorctl æˆ– web ç•Œé¢ï¼‰æ˜¾ç¤ºï¼Œåœ¨ supervisorctl ä¸­é€šè¿‡è¿™ä¸ªå€¼æ¥å¯¹ç¨‹åºè¿›è¡Œ startã€restartã€stop ç­‰æ“ä½œã€‚






ğŸ”¸ Supervisor ç®€ä»‹
Supervisor æœ‰ä¸¤ä¸ªä¸»è¦çš„ç»„æˆéƒ¨åˆ†ï¼š

supervisordï¼Œè¿è¡Œ Supervisor æ—¶ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ supervisordï¼Œå®ƒè´Ÿè´£å¯åŠ¨æ‰€ç®¡ç†çš„è¿›ç¨‹ï¼Œå¹¶å°†æ‰€ç®¡ç†çš„è¿›ç¨‹ä½œä¸ºè‡ªå·±çš„å­è¿›ç¨‹æ¥å¯åŠ¨ï¼Œè€Œä¸”å¯ä»¥åœ¨æ‰€ç®¡ç†çš„è¿›ç¨‹å‡ºç°å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚
supervisorctlï¼Œæ˜¯å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œ stopã€startã€restart ç­‰å‘½ä»¤ï¼Œæ¥å¯¹è¿™äº›å­è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚







ã€å¯åŠ¨ supervisordã€‘ã€€ã€€ supervisord -c /etc/supervisord.conf   æˆ–  supervisord
ã€åœæ­¢ supervisordã€‘ supervisorctl shutdown
ã€é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‘  supervisorctl reload



å¯åŠ¨supervisordç®¡ç†çš„æ‰€æœ‰è¿›ç¨‹
supervisorctl start all
åœæ­¢supervisordç®¡ç†çš„æ‰€æœ‰è¿›ç¨‹
supervisorctl stop all
å¯åŠ¨supervisordç®¡ç†çš„æŸä¸€ä¸ªç‰¹å®šè¿›ç¨‹
supervisorctl start program-name // program-nameä¸º[program:xx]ä¸­çš„xx
åœæ­¢supervisordç®¡ç†çš„æŸä¸€ä¸ªç‰¹å®šè¿›ç¨‹
supervisorctl stop program-name  // program-nameä¸º[program:xx]ä¸­çš„xx
é‡å¯æ‰€æœ‰è¿›ç¨‹æˆ–æ‰€æœ‰è¿›ç¨‹
supervisorctl restart all // é‡å¯æ‰€æœ‰supervisorctl reatart program-name // é‡å¯æŸä¸€è¿›ç¨‹ï¼Œprogram-nameä¸º[program:xx]ä¸­çš„xx
æŸ¥çœ‹supervisordå½“å‰ç®¡ç†çš„æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€
supervisorctl status




ğŸ”¸ supervisorctl

ä½¿ç”¨ supervisorctl å®¢æˆ·ç«¯å‘½ä»¤

Supervisorctl æ˜¯ supervisord çš„ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯å·¥å…·ï¼Œå¯åŠ¨æ—¶éœ€è¦æŒ‡å®šä¸ supervisord ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™ä¸ supervisord ä¸€æ ·æŒ‰ç…§é¡ºåºæŸ¥æ‰¾é…ç½®æ–‡ä»¶

supervisorctl -c /etc/supervisord.conf
ä¸Šé¢è¿™ä¸ªå‘½ä»¤ä¼šè¿›å…¥ supervisorctl çš„ shell ç•Œé¢ï¼Œç„¶åå¯ä»¥æ‰§è¡Œä¸åŒçš„å‘½ä»¤äº†ï¼š

> status    # æŸ¥çœ‹ç¨‹åºçŠ¶æ€
> stop usercenter   # å…³é—­ usercenter ç¨‹åº
> start usercenter  # å¯åŠ¨ usercenter ç¨‹åº
> restart usercenter    # é‡å¯ usercenter ç¨‹åº
> reread    ï¼ƒ è¯»å–æœ‰æ›´æ–°ï¼ˆå¢åŠ ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šå¯åŠ¨æ–°æ·»åŠ çš„ç¨‹åº
> update    ï¼ƒ é‡å¯é…ç½®æ–‡ä»¶ä¿®æ”¹è¿‡çš„ç¨‹åº
ä¸Šé¢è¿™äº›å‘½ä»¤éƒ½æœ‰ç›¸åº”çš„è¾“å‡ºï¼Œé™¤äº†è¿›å…¥ supervisorctl çš„ shell ç•Œé¢ï¼Œç­‰åŒäºç›´æ¥åœ¨ bash ç»ˆç«¯è¿è¡Œï¼š

$ supervisorctl status
$ supervisorctl stop usercenter
$ supervisorctl start usercenter
$ supervisorctl restart usercenter
$ supervisorctl reread
$ supervisorctl update









2. å¯åŠ¨ 
supervisord -c /etc/supervisord.conf



é…ç½®
vim /etc/supervisord.conf

åœ¨é…ç½®æ–‡ä»¶åº•éƒ¨ï¼Œé…ç½®include

[include]
files=/etc/supervisor/*.conf #è‹¥ä½ æœ¬åœ°æ— /etc/supervisorç›®å½•ï¼Œè¯·è‡ªå»º



ç”¨supervisorç®¡ç†è¿›ç¨‹ï¼Œé…ç½®å¦‚ä¸‹ï¼š

cd /etc/supervisor
vim ossfs.conf # è¿™é‡Œçš„æ–‡ä»¶åç§°è‡ªå®šä¹‰

åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š

; è®¾ç½®è¿›ç¨‹çš„åç§°ï¼Œä½¿ç”¨ supervisorctl æ¥ç®¡ç†è¿›ç¨‹æ—¶éœ€è¦ä½¿ç”¨è¯¥è¿›ç¨‹å
[program:your_program_name] 
command=python server.py --port=9000
;numprocs=1                 ; é»˜è®¤ä¸º1
;process_name=%(program_name)s   ; é»˜è®¤ä¸º %(program_name)sï¼Œå³ [program:x] ä¸­çš„ x
directory=/home/python/tornado_server ; æ‰§è¡Œ command ä¹‹å‰ï¼Œå…ˆåˆ‡æ¢åˆ°å·¥ä½œç›®å½•
user=oxygen                 ; ä½¿ç”¨ oxygen ç”¨æˆ·æ¥å¯åŠ¨è¯¥è¿›ç¨‹
; ç¨‹åºå´©æºƒæ—¶è‡ªåŠ¨é‡å¯ï¼Œé‡å¯æ¬¡æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œé»˜è®¤ä¸º3æ¬¡
autorestart=true            
redirect_stderr=true        ; é‡å®šå‘è¾“å‡ºçš„æ—¥å¿—
stdout_logfile = /var/log/supervisord/tornado_server.log
loglevel=info





è¿™é‡Œæ˜¯å¯åŠ¨è¦é…ç½®çš„å‚æ•°ï¼Œè¯·æ ¹æ®è‡ªå·±çš„é¡¹ç›®è‡ªå®šä¹‰æ·»åŠ 

æ›´æ”¹äº†supervisoré…ç½®æ–‡ä»¶ï¼Œéœ€è¦é‡å¯,è¿è¡Œä»¥ä¸‹æŒ‡ä»¤
supervisorctl reload


4.supervisorctlçš„ç”¨æ³•

supervisord : å¯åŠ¨supervisor
supervisorctl reload :ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åé‡æ–°å¯åŠ¨supervisor
supervisorctl status :æŸ¥çœ‹supervisorç›‘ç®¡çš„è¿›ç¨‹çŠ¶æ€
supervisorctl start è¿›ç¨‹å ï¼šå¯åŠ¨XXXè¿›ç¨‹
supervisorctl stop è¿›ç¨‹å ï¼šåœæ­¢XXXè¿›ç¨‹
supervisorctl stop allï¼šåœæ­¢å…¨éƒ¨è¿›ç¨‹ï¼Œæ³¨ï¼šstartã€restartã€stopéƒ½ä¸ä¼šè½½å…¥æœ€æ–°çš„é…ç½®æ–‡ä»¶ã€‚
supervisorctl updateï¼šæ ¹æ®æœ€æ–°çš„é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨æ–°é…ç½®æˆ–æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ï¼Œé…ç½®æ²¡æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ä¸ä¼šå—å½±å“è€Œé‡å¯







5.è‹¥ä¸ä½¿ç”¨æ§åˆ¶å°æ¥ç®¡ç†è¿›ç¨‹ï¼Œç”¨æµè§ˆå™¨æ¥ç®¡ç†ï¼Œè¯¥å¦‚ä½•é…ç½®ï¼Ÿ

vim /etc/supervisord.conf

é…ç½® inet_http_server

[inet_http_server]       
port=127.0.0.1:9001     ; æœåŠ¡å™¨ip
username=xxx        ;è‡ªå®šä¹‰
password=xxx        ;è‡ªå®šä¹‰








ğŸ”¸ ç”¨ supervisor å®ç°å¼€æœºè‡ªå¯.



vi /etc/supervisord.conf


[program:zabbix-agent]
command=sh 11.sh
directory=/home/




