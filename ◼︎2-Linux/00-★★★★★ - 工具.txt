â¤ï¸ nohupï¼Œ


ğŸ”µ jqï¼Œå‘½ä»¤è¡Œçš„jsonæŸ¥è¯¢å’Œæ ¼å¼åŒ–å·¥å…·ï¼Œé€‚åˆæŸ¥çœ‹restæ¥å£çš„è¾“å‡º


â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ     Misc     ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”µ hydraä¹å¤´é¾™ æš´åŠ›ç ´è§£


ğŸ”µ last lastlogï¼ˆè¿ç»´ç¥å™¨å’Œæˆ‘ä»¬æ™®é€šç”¨æˆ·æ²¡å…³ç³»ï¼‰


ğŸ”µ brctlç½‘æ¡¥å·¥å…·


ğŸ”µ route-næŸ¥çœ‹ipä¸è·¯ç”±




ğŸ”µ ag
    Ag > Ack > Grep Vimä¸‹é¢æˆ‘ç”¨äº†é•¿æ—¶é—´çš„ grep ï¼ŒçœŸæ˜¯ä¼¤ä¸èµ·å•Šã€‚
    å…¨å±€ä»£ç æœç´¢ æ¯”è¾ƒå¿«... ä½†æ˜¯æ–‡ä»¶å°±ä¸ä¸€å®šäº† ..

    â¦¿ Mac OS  å®‰è£…:  brew install the_silver_searcher
    â¦¿ Centos7 å®‰è£…:  yum install the_silver_searcher -y

    â¦¿ ä½¿ç”¨   ag 'hx' /www/t086.com
      å¸¸ç”¨å‚æ•°
      -i å¿½ç•¥å¤§å°å†™
      -l åªåˆ—å‡ºæ–‡ä»¶å
      -g æ–‡ä»¶ååŒ¹é…
      --php åªæœç´¢phpæ–‡ä»¶
      --ignore-dir å¿½ç•¥ç›®å½•

      â€¢ ç”¨æ³• man ag
    å¦‚ï¼šag --ignore-dir sitedata --php hx /www/9enjoy.com

    ag HelloWorld
    å°±ä¼šæœç´¢ æ‰€æœ‰æ–‡ä»¶ã€€



ğŸ”µ tig
  https://github.com/jonas/tig
  ç»ˆç«¯ git å·¥å…·é¡¹ç›®..
  â¦¿ Mac OS  å®‰è£…:  brew install tig
  â¦¿ Centos7 å®‰è£…:  yum install tig


ğŸ”µ yapfï¼š
  Googleå¼€å‘çš„pythonä»£ç æ ¼å¼è§„èŒƒåŒ–å·¥å…·ï¼Œæ”¯æŒpep8ä»¥åŠGoogleä»£ç é£æ ¼ã€‚
  https://github.com/google/yapf
  â¦¿ å®‰è£… pip install yapf




ğŸ”µ NetHogs
  NetHogsâ€”â€”Linuxä¸‹æŒ‰è¿›ç¨‹å®æ—¶ç»Ÿè®¡ç½‘ç»œå¸¦å®½åˆ©ç”¨ç‡

  ç½‘ä¸Šæœ‰å¾ˆå¤šé€‚ç”¨äºLinuxæ“ä½œç³»ç»Ÿçš„å¼€æºç½‘ç»œç›‘è§†å·¥å…·.
  ä½ å¯ä»¥ç”¨å‘½ä»¤iftopæ¥æ£€æŸ¥å¸¦å®½ä½¿ç”¨æƒ…å†µ. 
  netstatç”¨æ¥æŸ¥çœ‹æ¥å£ç»Ÿè®¡æŠ¥å‘Š,
  è¿˜æœ‰topç›‘æ§ç³»ç»Ÿå½“å‰è¿è¡Œè¿›ç¨‹.
  ä½†æ˜¯å¦‚æœä½ æƒ³è¦æ‰¾ä¸€ä¸ªèƒ½å¤ŸæŒ‰è¿›ç¨‹å®æ—¶ç»Ÿè®¡ç½‘ç»œå¸¦å®½åˆ©ç”¨ç‡,é‚£ä¹ˆNetHogså°±æ˜¯ä½ æ‰€éœ€è¦çš„å”¯ä¸€å·¥å…·.


  â¦¿ å®‰è£…   yum install nethogs -y
    sudo nethogs
    sudo nethogs -d 5  åˆ·æ–°é¢‘ç‡.




ğŸ”µ æé€Ÿèœ—ç‰›ï¼šapt-fast

  å¦‚æœä½ åœ¨Debianæˆ–Ubuntuç³»ç»Ÿä¸Šç»å¸¸æ„Ÿè§‰åˆ°apt-get æˆ– aptitudeåŒ…å®‰è£…é€Ÿåº¦è¿‡æ…¢ï¼Œé‚£ä¹ˆè¿™é‡Œå°±æœ‰å‡ ç§æ”¹å–„è¿™ä¸€æƒ…å†µçš„æ–¹æ³•ã€‚ä½ æœ‰æ²¡æœ‰è€ƒè™‘è¿‡æ”¹å˜æ­£è¢«ä½¿ç”¨çš„é»˜è®¤é•œåƒç«™ç‚¹ï¼Ÿä½ æœ‰æ²¡æœ‰æ’é™¤å› ç‰¹ç½‘è¿æ¥çš„ä¸Šæ¸¸å¸¦å®½æˆä¸ºç“¶é¢ˆçš„å¯èƒ½ï¼Ÿ

  å®ƒèƒ½åŠ é€ŸåŒ…çš„ä¸‹è½½é€Ÿåº¦ã€‚apt-fastæœ¬è´¨ä¸Šé‡‡ç”¨aria2ä¸‹è½½å·¥å…·ï¼Œè¿™æ¬¾å·¥å…·èƒ½å¤Ÿä»¥â€œå—â€çš„æ–¹å¼ä»å¤šä¸ªé•œåƒå¹¶è¡Œä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ï¼ˆå°±åƒBitTorrentä¸‹è½½ï¼‰ã€‚





ğŸ”µ ngxtop
    Nginxæ—¥å¿—å®æ—¶ç›‘æ§ã€æ’æŸ¥æ•´ç†å·¥å…· - ngxtop

    è¦å®æ—¶æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å˜åŠ¨æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„åº”è¯¥æ˜¯tail -f /path/to/logï¼Œ
    ä½†æ˜¯è¿™æ ·çœ‹ç½‘ç«™çš„è®¿é—®æ—¥å¿—æ˜¯ç›¸å½“å´©æºƒçš„ï¼Œå¥½ä¸€ç‚¹å¯ä»¥å†™ä¸ªè„šæœ¬è¿›è¡Œç­›é€‰ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†äººè¿˜æ˜¯ä¸æ“…é•¿çš„ï¼Œ
    ä»Šå¤©å°±æ¨èç»™å¤§å®¶ä¸€ä¸ªNginxæ—¥å¿—å·¥å…·ï¼šngxtopã€‚

    è¯´èµ·topå·¥å…·æœ‰å¾ˆå¤šå¦‚ï¼šiftopã€htopã€ntopç­‰ï¼Œä»Šå¤©è¯´çš„ngxtopåŠŸèƒ½ä¹Ÿæ¯«ä¸é€Šè‰²ï¼Œä¸ä»…èƒ½å®æ—¶ç›‘æ§Nginxæ—¥å¿—çš„è®¿é—®è¿˜å¯ä»¥å¯¹ä»¥å‰çš„æ—¥å¿—è¿›è¡Œæ’æŸ¥æ•´ç†ã€‚

    â¦¿ å®‰è£…: pip install ngxtop
      å®æ—¶ç›‘æ§æ—¥å¿—, é¦–å…ˆè¦æ‰¾åˆ°æ—¥å¿—æ–‡ä»¶è·¯å¾„.
      ngxtop -l /var/log/nginx/error.log
      ngxtop -l /home/wwwlogs/nginx_error.log
      åˆ°æ—¶å€™ä¼šæœ‰ä¸‹é¢è¿™æ ·çš„è¡¨æ ¼å‡ºæ¥. æ–¹ä¾¿æŸ¥çœ‹!!

      Summary:
      |   count | avg_bytes_sent   |   2xx |   3xx |   4xx |   5xx |
      |---------+------------------+-------+-------+-------+-------|
      |	0 |                  |     0 |     0 |     0 |     0 |

      Detailed:
      | request_path   | count   | avg_bytes_sent   | 2xx   | 3xx   | 4xx   | 5xx   |
      |----------------+---------+------------------+-------+-------+-------+-------|






ğŸ”µ iptraf ï¼ˆç½‘å¡ç›‘å¬å·¥å…·ï¼‰ç¥å™¨ï¼  yum install iptraf -y





ğŸ”µ swaks
    Swaksæ˜¯ç”±John Jetmoreç¼–å†™å’Œç»´æŠ¤çš„ä¸€ç§åŠŸèƒ½å¼ºå¤§ï¼Œçµæ´»ï¼Œå¯è„šæœ¬åŒ–ï¼Œé¢å‘äº‹åŠ¡çš„SMTPæµ‹è¯•å·¥å…·ã€‚
    å¯å‘ä»»æ„ç›®æ ‡å‘é€ä»»æ„å†…å®¹çš„é‚®ä»¶ã€‚
    â€œswaksâ€è¿™ä¸ªåå­—æ˜¯â€SWiss Army Knife Smtpâ€çš„é¦–å­—æ¯ç¼©ç•¥è¯.
    é‚®ä»¶ä¼ªé€ 
    http://www.freebuf.com/sectool/92397.html





ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸

ğŸ”µ tmuxï¼š

â¦¿ å‚è€ƒæ–‡ç« 
    https://mba811.gitbooks.io/mac-dev/content/iTerm/tmux.html
    http://wdxtub.com/2016/03/30/tmux-guide/
    http://mingxinglai.com/cn/2012/09/tmux/


ğŸ”¸ ç®€ä»‹

  tmuxä½¿ç”¨C/Sæ¨¡å‹æ„å»ºï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å•å…ƒæ¨¡å—ï¼š
  serveræœåŠ¡å™¨ã€‚è¾“å…¥tmuxå‘½ä»¤æ—¶å°±å¼€å¯äº†ä¸€ä¸ªæœåŠ¡å™¨ã€‚
  sessionä¼šè¯ã€‚ä¸€ä¸ªæœåŠ¡å™¨å¯ä»¥åŒ…å«å¤šä¸ªä¼šè¯
  windowçª—å£ã€‚ä¸€ä¸ªä¼šè¯å¯ä»¥åŒ…å«å¤šä¸ªçª—å£ã€‚
  paneé¢æ¿ã€‚ä¸€ä¸ªçª—å£å¯ä»¥åŒ…å«å¤šä¸ªé¢æ¿ã€‚




    iTermæ˜¯ä¸€ä¸ªGUIè½¯ä»¶ï¼Œå®ƒçš„çª—æ ¼åªæ˜¯çª—æ ¼è€Œå·²ï¼
    è€ŒTmuxæ˜¯ç»ˆç«¯å¤ç”¨ï¼Œåœ¨ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ä¸­ä¸ä»…å¯ä»¥æ˜¾ç¤ºå¤šä¸ªShellçš„å†…å®¹ï¼Œè€Œä¸”å¯ä»¥ä¿æŒå¤šä¸ªä¼šè¯

    Tmux å’Œ screen æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
    åŠŸèƒ½å·®ä¸å¤š ä½†æ˜¯ tmux å¼ºå¤§å¾ˆå¤š..

    tmuxæ˜¯linuxä¸­ä¸€ç§ç®¡ç†çª—å£çš„ç¨‹åºã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šMacè‡ªå¸¦çš„Iterm2å¾ˆå¥½ç”¨å•Šã€‚æ—¢æ”¯æŒå¤šæ ‡ç­¾ï¼Œä¹Ÿæ”¯æŒçª—ä½“å†…éƒ¨Panelçš„åˆ†å‰²ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨tmuxï¼Ÿå…¶å®ï¼Œå¤šæ ‡ç­¾å’Œåˆ†å‰²çª—ä½“åªæ˜¯tmuxçš„éƒ¨åˆ†åŠŸèƒ½ã€‚ç”¨tmuxçš„ä¸»è¦åŸå› æ˜¯å®ƒæä¾›äº†ä¸€ä¸ªçª—ä½“ç»„éšæ—¶å­˜å‚¨å’Œæ¢å¤çš„åŠŸèƒ½ã€‚çœ‹çœ‹ä»¥ä¸‹çš„ä½¿ç”¨åœºæ™¯æ˜¯å¦é€‚åˆä½ ï¼š

    å…¬å¸å°å¼æœºå¼€äº†ä¸€å †vimå’Œlogæ‰“å°çª—å£ä¸‹ç­äº†ã€‚åˆ°å®¶åçµæ„Ÿçªå‘ï¼Œæƒ³è¦ç»§ç»­codingï¼Œç™»é™†VPNï¼ŒSSHè¿ä¸Šå°å¼åå‘ç°åˆè¦é‡æ–°æ‰“å¼€å„ç§çª—å£ï¼Œç¬é—´æ²¡å¿ƒæƒ…äº†ã€‚ã€‚ã€‚FMLï¼è¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥åœ¨ä½ çš„å…¬å¸å°å¼æœºä¸Šè£…ä¸ªtmuxã€‚åŒä¸€ç»„å·¥ä½œç¯å¢ƒï¼Œåœ¨å¤šå¤„å…±äº«ã€‚
    å…¬å¸æœåŠ¡å™¨ä¸Šè°ƒè¯•ç¨‹åºï¼Œå¼€äº†ä¸€å †çª—å£ã€‚å‡ºå»åƒäº†ä¸ªé¥­ï¼Œå‘ç°SSHè¶…æ—¶äº†ï¼Œbroken pipeã€‚é‡å¤´å¼€å§‹ã€‚ã€‚ã€‚FMLï¼å¦‚æœä½ ä¹‹å‰ä½¿ç”¨äº†tmuxå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œattachå°±èƒ½æ‰¾å›åŸæ¥æ‰“å¼€çš„é‚£äº›çª—å£ã€‚




    ç»ˆç«¯å¤ç”¨å·¥å…·ï¼Œæ›¿ä»£screenã€nohupã€‚
    æ¯”å¦‚åœ¨ iterm ä¸‹è¦åœ¨vps2ä¸‹å¼€å¤šä¸ªçª—å£.  è¦ä¹ˆä¸€æ¬¡æ¬¡çš„ssh.
    è¦ä¹ˆå°± ç”¨ tmux . è¿™ä¸ªæ˜¯å®‰è£…åœ¨æœåŠ¡å™¨ç«¯çš„.

    å®‰è£…å¥½å . åœ¨ç»ˆç«¯è¾“å…¥ tmux å°±å¯åŠ¨äº†. .
    å¯åŠ¨ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å‘½ä»¤è¡Œæœ€åº•éƒ¨å¤šäº†ä¸€æ¡ç»¿è‰²çš„çŠ¶æ€æ¡ï¼Œä¸Šé¢æ˜¾ç¤ºäº†ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚è®¡ç®—æœºåå’Œæ—¶é—´ç­‰ã€‚ è¦é€€å‡º tmuxï¼Œå¯ä»¥è¾“å…¥ exit å›è½¦æˆ–è€…æŒ‰ä¸‹ç»„åˆé”® [Ctrl+d] ã€‚

ğŸ”¸ å®‰è£…
      brew install tmux
      yum install tmux -y



ğŸ”¸ åŸºæœ¬æ“ä½œ.

    tmux              æ–°å»ºä¼šè¯.
    tmux new -s vps1  æ–°å»ºåä¸º vps1 çš„ä¼šè¯
    tmux show -g      tmuxå½“å‰é…ç½®,éœ€è¿›å…¥tmuxæ“ä½œ  å¯æŸ¥çœ‹å‰ç½®å¿«æ·é”®æ˜¯ prefix C-b
    tmux ls           å½“å‰æœ‰å“ªäº›Session
    tmux a -t name    æ¢å¤æŸä¸ªsession

    c           æ–°å»ºçª—å£.  æ–°çª—å£æ˜¯æ²¡æœ‰tabçš„. åªä¼šåœ¨åº•ä¸‹ç»¿è‰²æ ç›®é‡Œæ˜¾ç¤º.
    0-9         åˆ‡æ¢åˆ°å‡ å·çª—å£. å½“å‰çª—å£åº•éƒ¨ç»¿æ æœ‰ä¸ªæ˜Ÿå·è¡¨ç¤º.
    n           è·³åˆ°ä¸‹ä¸€ä¸ªçª—å£

    "(shift+')  æ°´å¹³æ–°å»ºpanel
    %(shift 5)  å‚ç›´æ–°å»ºpanel
    o           é¼ æ ‡è·³åˆ°ä¸‹ä¸€ä¸ªpanel.  

    ç©ºæ ¼        è‡ªåŠ¨åˆ‡æ¢panelå¸ƒå±€æ’åˆ—

    !(shift 1)  å½“å‰panel å˜æˆæ–°çª—å£


    C-æ–¹å‘é”®   è°ƒæ•´panelå¤§å° 


    t          æ˜¾ç¤ºæ—¶é’Ÿ

    x  å…³é—­panle
    &  å…³é—­çª—å£
    d  åå°è¿è¡Œå½“å‰ä¼šè¯.




ğŸ”¸ å‰ç½®å¿«æ·é”®ä¿®æ”¹.

    é»˜è®¤å¿«æ·é”®æ˜¯ ctrl b  ä¸å–œæ¬¢å¯ä»¥æ”¹... 
    æ–°å»ºé…ç½®æ–‡ä»¶. vi ~/.tmux.conf

    #è§£é™¤Ctrl+b ä¸å‰ç¼€çš„å¯¹åº”å…³ç³»
    unbind C-b

    #è®¾ç½®å‰ç¼€ä¸ºCtrl + a
    set -g prefix C-a

    è¦ä½¿å¾—é…ç½®ç”Ÿæ•ˆå¾—é‡æ–°åŠ è½½ é…ç½®æ–‡ä»¶. ä¸ç­‰äºé‡å¯ iterm!!!
    åœ¨ tmux é‡Œé¢è¾“å…¥  âŒƒ+b shift+; å°±èƒ½è¿›å…¥tmuxçš„å‘½ä»¤è¡Œæ¨¡å¼äº†, 
    è¾“å…¥source-file ~/.tmux.conf å°±èƒ½é‡æ–°åŠ è½½ tmux é…ç½®æ–‡ä»¶äº†.
    ç„¶åå†è¿›å…¥ tmux ç”¨ tmux show -g çœ‹å¿«æ·é”®å°±æ”¹æ‰äº†.!!


ğŸ”¸ å¿«æ·é”®ä¿®æ”¹
    #up
    bind-key k select-pane -U
    #down
    bind-key j select-pane -D
    #left
    bind-key h select-pane -L
    #right
    bind-key l select-pane -R

    ä¹‹åå°±èƒ½ç”¨ å¿«æ·é”®+hjkl æ¥åˆ‡æ¢paneläº†.


    â¦¿ åˆ†ç¦»ä¼šè¯
    é€€å‡º tmux å¯ä»¥ä½¿ç”¨ exit å‘½ä»¤æˆ–è€… [Ctrl+d] ç»„åˆé”®ï¼Œé€€å‡º tmux ä¼šæŠŠä¼šè¯ç»“æŸæ‰ï¼Œå°±åƒå¹³å¸¸å…³é—­ç»ˆç«¯ç¨‹åºä¸€æ ·ã€‚ä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯èƒ½ä½ å¹¶ä¸å¸Œæœ›è¿™æ ·ï¼Œå› ä¸ºæœ‰äº›ç¨‹åºæ˜¯è¦ä¿æŒè¿è¡Œçš„ï¼Œä¾‹å¦‚ rails çš„æµ‹è¯•æœåŠ¡ã€telnetè¿æ¥è¿œç¨‹æœåŠ¡å™¨ç­‰ç­‰ã€‚


    åˆ†ç¦»å . å¯ä»¥ä¸€ç›´è¿è¡Œ... å“ªæ€•ä½ æŠŠ itermç¨‹åºå…³é—­...

    å¦‚æœä½ æƒ³çŸ¥é“å½“å‰tmuxçš„è®¾ç½®ï¼Œå¯é€šè¿‡tmux show -gæ¥æŸ¥çœ‹ï¼ˆè¯¥å‘½ä»¤éœ€è¦tmuxæ­£åœ¨è¿è¡Œï¼‰ã€‚ ä½ å¯èƒ½ä¼šéœ€è¦æŠŠè¿™äº›è®¾ç½®å¯¼å‡ºä¸ºæ–‡ä»¶ï¼š

    tmux list-keys åˆ—å‡ºæ‰€æœ‰å¯ä»¥çš„å¿«æ·é”®å’Œå…¶è¿è¡Œçš„ tmux å‘½ä»¤
    tmux list-commands åˆ—å‡ºæ‰€æœ‰çš„ tmux å‘½ä»¤åŠå…¶å‚æ•°
    tmux info æµå‡ºæ‰€æœ‰çš„ session, window, pane, è¿è¡Œçš„è¿›ç¨‹å·ï¼Œç­‰ã€‚


â¤ï¸ netstat


    åˆ—å‡ºæ‰€æœ‰ç«¯å£ netstat -a

    3. æ˜¾ç¤ºæ¯ä¸ªåè®®çš„ç»Ÿè®¡ä¿¡æ¯
    Â  æ˜¾ç¤ºæ‰€æœ‰ç«¯å£çš„ç»Ÿè®¡ä¿¡æ¯ netstat -s
      æ˜¾ç¤º TCP æˆ– UDP ç«¯å£çš„ç»Ÿè®¡ä¿¡æ¯ netstat -st æˆ– -su

    4. åœ¨ netstat è¾“å‡ºä¸­æ˜¾ç¤º PID å’Œè¿›ç¨‹åç§° netstat -p
    netstat -p å¯ä»¥ä¸å…¶å®ƒå¼€å…³ä¸€èµ·ä½¿ç”¨ï¼Œå°±å¯ä»¥æ·»åŠ  â€œPID/è¿›ç¨‹åç§°â€ åˆ° netstat è¾“å‡ºä¸­ï¼Œè¿™æ · debugging çš„æ—¶å€™å¯ä»¥å¾ˆæ–¹ä¾¿çš„å‘ç°ç‰¹å®šç«¯å£è¿è¡Œçš„ç¨‹åºã€‚


    5. åœ¨ netstat è¾“å‡ºä¸­ä¸æ˜¾ç¤ºä¸»æœºï¼Œç«¯å£å’Œç”¨æˆ·å (host, port or user)
    å½“ä½ ä¸æƒ³è®©ä¸»æœºï¼Œç«¯å£å’Œç”¨æˆ·åæ˜¾ç¤ºï¼Œä½¿ç”¨ netstat -nã€‚å°†ä¼šä½¿ç”¨æ•°å­—ä»£æ›¿é‚£äº›åç§°ã€‚
    åŒæ ·å¯ä»¥åŠ é€Ÿè¾“å‡ºï¼Œå› ä¸ºä¸ç”¨è¿›è¡Œæ¯”å¯¹æŸ¥è¯¢



    6. æŒç»­è¾“å‡º netstat ä¿¡æ¯
    netstat å°†æ¯éš”ä¸€ç§’è¾“å‡ºç½‘ç»œä¿¡æ¯


    9. æ‰¾å‡ºç¨‹åºè¿è¡Œçš„ç«¯å£
    å¹¶ä¸æ˜¯æ‰€æœ‰çš„è¿›ç¨‹éƒ½èƒ½æ‰¾åˆ°ï¼Œæ²¡æœ‰æƒé™çš„ä¼šä¸æ˜¾ç¤ºï¼Œä½¿ç”¨ root æƒé™æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡æ¯ã€‚

    æ˜¾ç¤ºç½‘ç»œæ¥å£åˆ—è¡¨



ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ Mosh ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸
è‡ªå®¶çš„å®½å¸¦çƒ‚å·äº†...ä¸¢åŒ…éå¸¸ä¸¥é‡.... ä¸«çš„.... ä¸ºå•¥å‘¢....

â¤ï¸  Mosh    https://mosh.org/


â—ï¸â—ï¸â—ï¸â—ï¸ è¯­æ³•:  mosh --ssh="ssh -p 2222" root@23.105.192.96 â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸
â—ï¸â—ï¸â—ï¸â—ï¸ è¯­æ³•:  mosh --ssh="ssh -p 2222" root@104.224.139.45 â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸
â—ï¸â—ï¸â—ï¸â—ï¸ è¯­æ³•:  mosh --ssh="ssh -p 2222" root@23.105.192.96 â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸



ç”¨ mosh  root@23.105.192.96 æ­»æ´»ä¸è¡Œ?




ğŸ”¸ ä¼˜ç‚¹
    â—ï¸â—ï¸ ç½‘ç»œæ–­çº¿èƒ½è‡ªåŠ¨æ¢å¤SSHè¿æ¥,  ä½¿ç”¨UDP æ¶ˆé™¤å¡é¡¿ â—ï¸â—ï¸
    â—ï¸â—ï¸ ç½‘ç»œæ–­çº¿èƒ½è‡ªåŠ¨æ¢å¤SSHè¿æ¥,  ä½¿ç”¨UDP æ¶ˆé™¤å¡é¡¿ â—ï¸â—ï¸

    Mosh æ˜¯ä¸€ä¸ªæ›¿ä»£ SSH çš„å…è´¹è½¯ä»¶ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯æ”¯æŒç½‘ç»œæ¼«æ¸¸å’Œé—´æ­‡æ€§è¿æ¥ã€‚
    Mosh ä¼šä¸æ–­çš„åŒæ­¥æ‚¨æœ¬åœ°å’Œè¿œç¨‹è®¡ç®—æœºçš„è¿æ¥ä¼šè¯ï¼Œä»¥ç¡®ä¿è®¡ç®—æœºåœ¨åˆ‡æ¢æ— çº¿è¿æ¥æˆ–ä¼‘çœ åå¯ä»¥è‡ªåŠ¨é‡æ–°è¿æ¥åˆ°æœåŠ¡å™¨ã€‚


  æŒç»­è¿æ¥ï¼š
    å¦‚æœæ‚¨çš„ç½‘ç»œä¸­æ–­ï¼ŒMoshå°†ä¼šåœ¨æ–°ç½‘ç»œå¯ç”¨çš„æ—¶å€™è‡ªåŠ¨é‡æ–°è¿æ¥æœåŠ¡å™¨ã€‚

  å‡å°‘ç½‘ç»œå»¶æ—¶ï¼š
    SSH éœ€è¦ç­‰å¾…æœåŠ¡å™¨å“åº”åï¼Œæ‰æ˜¾ç¤ºæ‚¨çš„è¾“å…¥å†…å®¹ã€‚è€Œ Mosh ä¼šé©¬ä¸Šæ˜¾ç¤ºæ‚¨çš„è¾“å…¥ï¼Œç¼–è¾‘ï¼Œåˆ é™¤ç­‰å†…å®¹ã€‚
    åƒ SSHï¼Œä½†æ¯” SSH æ›´å¥½ï¼šMosh ä¼šé€šè¿‡ SSH ç™»å½•åˆ°æœåŠ¡å™¨ï¼Œç„¶åè¿è¡Œæ™®é€šç»ˆç«¯åº”ç”¨ç¨‹åºã€‚


ğŸ”¸ å®‰è£…
    éœ€è¦æœåŠ¡å™¨å’Œæœ¬åœ°åŒæ—¶å®‰è£… mosh

    Centos7 å®‰è£… Mosh   yum install mosh
    Mac OS  å®‰è£… Mosh   å®˜ç½‘ä¸‹è½½å®¢æˆ·ç«¯ https://mosh.org/  

    â¦¿ mac é‡è£…
        ä¹‹å‰æ˜¯ç”¨ pkg çš„å®‰è£…åŒ…... è¿™ç§æ–¹å¼ä¸å¥½å¸è½½..... åªèƒ½æ‰‹åŠ¨åˆ é™¤ä¸‹é¢æ–‡ä»¶.
        /usr/local/bin/mosh
        /usr/local/bin/mosh-client
        /usr/local/bin/mosh-server
        /usr/local/share/man/man1/mosh-client.1
        /usr/local/share/man/man1/mosh-server.1
        /usr/local/share/man/man1/mosh.1

        å»ºè®®ç”¨ brew.
        




ğŸ”¸ æœåŠ¡ç«¯
    â¦¿ å¯åŠ¨ mosh:   mosh-server

        ğŸ‘¹ æœåŠ¡ç«¯å¯åŠ¨ä¸äº†.
          âœ˜âœ˜âˆ™ğ’—2 ~ âœ  mosh-server
              mosh-server needs a UTF-8 native locale to run.
              Unfortunately, the local environment (LC_CTYPE=C) specifies
              the character set "US-ASCII",
              The client-supplied environment ([no charset variables]) specifies
              the character set "US-ASCII".

                â—ï¸â—ï¸åœ¨~/.bashrc æˆ–è€…~/.zshrc æ·»åŠ ä¸€è¡Œå³å¯ï¼š export LC_ALL="en_US.UTF-8"â—ï¸â—ï¸
                ç„¶åé‡æ–°è¿æœåŠ¡å™¨ å°±å¯ä»¥å¼€å¯moshæœåŠ¡å™¨


    â¦¿ åˆ¤æ–­æœåŠ¡ç«¯æ˜¯å¦å¼€å¯
        nmap -sU -p 60000-60005 127.0.0.1

          ğŸ‘¹ 60002/udp open|filtered unknown
              âœ˜âœ˜âˆ™ğ’—1 /etc âœ nmap -sU -p 60000-60005 127.0.0.1
                  Starting Nmap 6.40 ( http://nmap.org ) at 2017-07-23 20:17 CST
                  Nmap scan report for localhost.localdomain (127.0.0.1)
                  Host is up (0.000079s latency).
                  PORT      STATE         SERVICE
                  60000/udp closed        unknown
                  60001/udp closed        unknown
                  60002/udp open|filtered unknown
                  60003/udp closed        unknown
                  60004/udp closed        unknown
                  60005/udp closed        unknown

æœåŠ¡å™¨æ˜¯å¯åŠ¨äº†. ä½†æ˜¯è¢«filtered...  
è¦ä¹ˆæ˜¯é˜²ç«å¢™.è¦ä¹ˆæ˜¯ä»€ä¹ˆè®¾ç½®
å…ˆæ¥çœ‹é˜²ç«å¢™.


  â¦¿ ä½¿ç”¨.

      mosh æœ‰è‡ªå·±çš„ç«¯å£. è€Œä¸æ˜¯ç”¨çš„sshç«¯å£.


      è¯­æ³•:  mosh ç”¨æˆ·å@æœåŠ¡å™¨IP
      mosh root@104.224.139.45
      mosh root@104.224.139.45 --ssh="ssh -p 2222" 


é»˜è®¤æ˜¯ç”¨çš„æ˜¯ 60000 çš„udpç«¯å£.
å› ä¸º Mosh ä½¿ç”¨çš„æ˜¯ UDP ç«¯å£ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¸Šéœ€è¦æ‰“å¼€æŸ UDP ç«¯å£ã€‚
å› ä¸ºMoshç”¨çš„æ˜¯UDPç«¯å£, æ‰€ä»¥è¦åœ¨æœåŠ¡å™¨ä¸Šé¢æ‰“å¼€ç«¯å£, æ‰“å¼€60001åˆ°61000ä»»ä½•ä¸€ä¸ªç«¯å£å³å¯.




æŸ¥çœ‹ 60000 è¿™ä¸ªudpç«¯å£æœ‰æ²¡æœ‰å¼€å¯. æ²¡å¼€å¯å°±æ˜¯æ²¡è¿è¡Œ mosh æœåŠ¡.æ€ä¹ˆè¿è¡Œå‘¢..
 nmap -sU -p 60000 127.0.0.1
 nmap -sU -p 60000-60005 127.0.0.1



ğŸ‘¹ å®¢æˆ·ç«¯è¿ä¸ä¸Š.
/usr/local/bin/mosh: Could not connect to 23.105.192.96, last tried 23.105.192.96: IO::Socket::INET: connect: Connection refused
ssh_exchange_identification: Connection closed by remote host
/usr/local/bin/mosh: Did not find remote IP address (is SSH ProxyCommand disabled?).

export LANG="en_US.UTF-8"

 65 export LANG="en_US.UTF-8"
 66 export LC_ALL="en_US.UTF-8"





ğŸ‘¹ ssh_exchange_identification: Connection closed by remote host

è¿™ä¸ªæç¤ºæ˜¯å…¸å‹çš„tcp_wrapperé…ç½®äº†ä¸å…è®¸ä½ è¿™ä¸ªipç™»å½•ssh
æœ€ç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯è®©/etc/hosts.allow å’Œ/etc/hosts.denyé‡Œé¢çš„æ‰€æœ‰ä¿¡æ¯éƒ½ä¸ç”Ÿæ•ˆ,å…¨éƒ¨æ³¨é”€æ‰,é‡å¯SSHæœåŠ¡å°±å¯ä»¥äº†.
åº”è¯¥æ˜¯æœåŠ¡ç«¯çš„ 
ç™»å½•æœåŠ¡å™¨å‘ç°è¿™ä¸¤ä¸ªç«¯å£éƒ½æ˜¯ç©ºçš„å•Š..




Mosh è¿˜æœ‰chrome æµè§ˆå™¨çš„æ¡Œé¢åº”ç”¨. 
å®‰è£…åä¼šå’Œåˆ«çš„ç¨‹åºä¸€æ ·å®‰è£…åˆ° mac çš„ app é‡Œé¢. 
é€šè¿‡è¿™ä¸ªå¯åŠ¨çš„. è€Œä¸æ˜¯é€šè¿‡chrome æµè§ˆå™¨å¯åŠ¨çš„...

 

ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸

â¤ï¸ supervisor

  Supervisor ç›¸å½“å¼ºå¤§,ä¸è¿‡æˆ‘ä»¬å¯èƒ½åªéœ€è¦ç”¨åˆ°å…¶ä¸­ä¸€å°éƒ¨åˆ†ã€‚

  supervisor æ˜¯ä¸€ä¸ª C/S æ¨¡å‹çš„ç¨‹åº. æœ‰æœåŠ¡ç«¯ å’Œ å®¢æˆ·ç«¯.
    supervisord   æœåŠ¡ç«¯é…ç½®
    supervisorctl å®¢æˆ·ç«¯é…ç½®

  supervisor ç”¨æ¥è¿›ç¨‹ç®¡ç†. å¦‚æœæŸäº›è¿›ç¨‹å‘ç”Ÿæ„å¤– å¯ä»¥è‡ªåŠ¨é‡å¯è¿™äº›è¿›ç¨‹.



  â¦¿ Mac å®‰è£…               pip install supervisor
  â¦¿ Centos7 å®‰è£…           pip install supervisor
  â¦¿ supervisor é»˜è®¤é…ç½®:   echo_supervisord_conf
  â¦¿ å¯¼å‡ºé»˜è®¤é…ç½®           echo_supervisord_conf > /etc/supervisord.conf
                          sudo sh -c "echo_supervisord_conf > /etc/supervisord.conf"

  â¦¿ å¯åŠ¨: supervisord -c /etc/supervisord.conf
  â¦¿ çŠ¶æ€: ps aux | grep supervisord


  â¦¿ é…ç½® /etc/supervisord.conf

  [unix_http_server]
  file=/tmp/supervisor.sock   ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨
  ;chmod=0700                 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700
  ;chown=nobody:nogroup       ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid

  ;[inet_http_server]         ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢
  ;port=127.0.0.1:9001        ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§
  ;username=user              ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å
  ;password=123               ; ç™»å½•ç®¡ç†åå°çš„å¯†ç 

  [supervisord]
  logfile=/tmp/supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD/supervisord.log
  logfile_maxbytes=50MB        ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MB
  logfile_backups=10           ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10
  loglevel=info                ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace
  pidfile=/tmp/supervisord.pid ; pid æ–‡ä»¶
  nodaemon=false               ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨
  minfds=1024                  ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024
  minprocs=200                 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200

  ; the below section must remain in the config file for RPC
  ; (supervisorctl/web interface) to work, additional interfaces may be
  ; added by defining them in separate rpcinterface: sections
  [rpcinterface:supervisor]
  supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

  [supervisorctl]
  serverurl=unix:///tmp/supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´
  ;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord

  ; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶
  [include]
  files = relative/directory/*.ini    ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini




  â¦¿ ä½¿ç”¨ supervisorctl
  Supervisorctl æ˜¯ supervisord çš„ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯å·¥å…·ï¼Œå¯åŠ¨æ—¶éœ€è¦æŒ‡å®šä¸ supervisord ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™ä¸ supervisord ä¸€æ ·æŒ‰ç…§é¡ºåºæŸ¥æ‰¾é…ç½®æ–‡ä»¶ã€‚

  supervisorctl -c /etc/supervisord.conf