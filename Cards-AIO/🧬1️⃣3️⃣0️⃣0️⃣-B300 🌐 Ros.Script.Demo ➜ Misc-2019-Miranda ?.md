```
# è„šæœ¬ç®€ä»‹ 2019-07-3-19 -- By jian.xu
#
#ğŸ”µ ç¯å¢ƒä»‹ç»
# 4ä¸ªç‰©ç†ç½‘å¡. ä¸‰ä¸ªå¤–ç½‘ ä¸€ä¸ªå†…ç½‘
#
#ğŸ”µ ç™»å½•
# ğŸ”¶ è™šæ‹Ÿæœº
#      admin ç©ºå¯†ç  
#      é»˜è®¤æç¤º åˆå§‹é…ç½®æ˜¯ LAN 192.168.88.1     æŒ‰ r å¯ä»¥å–æ¶ˆé¢„è®¾.
# ğŸ”¶ Winbox
#      winbox é»˜è®¤ä¼šç›´æ¥æœç´¢ ros è·¯ç”±å™¨çš„. æ²¡æœ‰IP ä¹Ÿå¯ä»¥ç™»å½• (é€šè¿‡ç½‘å¡ mac åœ°å€ç™»å½•)
#      è¦å‘½ä»¤è¡Œ ssh ç™»å½•å°±å¾— è®¾ipåæ‰è¡Œäº†.
# 
#ğŸ”µ æ—¶åŒºè®¾ç½®
# /system clock print
/system clock set time-zone-autodetect=no 
/system clock set time-zone-name=Asia/Shanghai
#
# ğŸ”¶ åˆ—ç½‘å¡ & ç½‘å¡å¯ç”¨çŠ¶æ€
#    /interface print   âœ  R æ˜¯ run ä¹Ÿå°±æ˜¯ç½‘å¡æ˜¯å¯ç”¨çš„. 
#
# ğŸ”¶ è®¾IP.  ç„¶åping. æ¥åˆ¤æ–­ç‰©ç†ç½‘å£å¯¹åº”ros é‡Œé¢çš„ç½‘å¡å
#    ip address add address=IP/æ©ç  interface=ç½‘å¡å
#    ip address add address=10.9.9.254/24 interface=ether1
#
#ğŸ”¶ å¯åœæœåŠ¡
#    â¦¿ æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€    /ip service print
#        æœ‰xæ˜¯åœç”¨çš„. æ²¡xæ˜¯å¯ç”¨çš„; ä¸ºäº†å®‰å…¨æœ€å¥½åªå¼€ ssh winbox å…¶ä»–å…¨éƒ¨åœæ‰.
#
#    â¦¿ åœæ­¢æœåŠ¡
/ip service disable telnet
/ip service disable www
/ip service disable ftp
#
#
#ğŸ”¶ SSH é…ç½® ğŸ’¯
#    â¦¿ è¿æ¥
#    é¦–å…ˆå‰ææ˜¯ å®‰è£… ros çš„æ—¶å€™. æœ‰å®‰è£… secure å¥—ä»¶. ä¸ç„¶ä¸è¡Œçš„...
#    è€Œä¸”å®¢æˆ·ç«¯ ssh ç‰ˆæœ¬æ¯”è¾ƒæ–°. ä¼šç¦ç”¨ä¸€äº›è€çš„åè®®. å®¢æˆ·ç«¯è¿œç¨‹æ—¶å€™éœ€è¦æŒ‡å®šä¸€äº›å‚æ•°
#    ssh -o KexAlgorithms=diffie-hellman-group14-sha1 -o HostKeyAlgorithms=+ssh-dss admin@10.9.9.254
#
#    â¦¿ å¯†é’¥ä¸Šä¼          ssh-copy-id ä¹Ÿè®¸ä¼šæœ‰é—®é¢˜. åªèƒ½å…¬é’¥æ‹·è´è¿‡å»å§. ç®—äº†å§...
#    â¦¿ æ”¹å¼ºå¯†ç 
#    â¦¿ ç¦å¯†ç ç™»å½•:   /ip ssh set always-allow-password-login=no
#    â¦¿ æ”¹SSHç«¯å£     /set ssh port=22222
#
#ğŸ”¶ ç”¨æˆ·é…ç½®
#
#    â¦¿ åˆ—æ‰€æœ‰ç”¨æˆ·    /user print 
#    â¦¿ åˆ›å»ºæ–°ç”¨æˆ·    /user add name=xujian0 group=full
#    â¦¿ åˆ é™¤ admin    /user remove admin
#        å…ˆæ–°ç”¨æˆ·ssh ç™»å½•. ç„¶åæ‰èƒ½åˆ  admin 
#
#    â¦¿ è®¾ç”¨æˆ·å¯†ç :  å…ˆç©ºå¯†ç ç™»å½•. password å°±å¯ä¿®æ”¹å¯†ç .
#
#
#ğŸ”µ ç½‘å¡ âœ”
#
#â¦¿ æ”¹å
#    /interface set "old name" name="new name"
#
#    /interface set "ether1" name="UU--WAN.1601"
#    /interface set "ether2" name="MU--WAN.1602"
#    /interface set "ether3" name="MD--WAN.4G"
#    /interface set "ether4" name="DD--LAN.10"
#
#â¦¿ å¯åœ
#    /interface disable ç½‘å¡åºå·
#    /interface disable 2
#
#
#ğŸ”¶ é™æ€IP é…ç½®
#
/ip address add address=172.16.21.1/24 interface=UU--WAN.1601
/ip address add address=172.16.21.2/24 interface=MU--WAN.1602
/ip address add address=192.168.8.254/24 interface=MD--WAN.4G
/ip address add address=10.9.9.254/8 interface=DD--LAN.10
#
#        ip address print ã€€ã€€
#        ip address add address=IP/æ©ç  interface=ç½‘å¡å
#        ip address remove åºåˆ—å·
#
#
#
#ğŸ”µ é˜²ç«å¢™ - NAT é…ç½®
#ğŸ”¶ WHY 
#    å‡å¦‚æˆ‘ä»¬çš„ ros æ˜¯äºŒçº§è·¯ç”±.  ä¸€çº§è·¯ç”±æ˜¯ 192.168.8.0/24 
#    ROS çš„ WAN å£çš„IP (192.168.8.254)é…å¥½å. 
#    ROS è·¯ç”±å™¨æœ¬èº«å°±å¯ä»¥ç›´æ¥ ping. wanå£çš„å¤–éƒ¨åœ°å€äº†(å¦‚ 192.168.8.133)
#        
#    ä½†æ˜¯ ä»è·¯ç”±å™¨ lan å£å‡ºæ¥çš„è®¾å¤‡ ( 10.9.9.133 )å°±ä¸èƒ½ping 192.168.8.133
#    å› ä¸º 10.9 æ˜¯å†…ç½‘  192.168 æ˜¯å¤–ç½‘.
#    å†…ç½‘è¦è®¿é—®å¤–ç½‘. éƒ½æ˜¯è¦è·¯ç”±å™¨ è®¾ç½® nat çš„. æ™®é€šè·¯ç”±å™¨ ä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬è®¾ç½®å¥½çš„.  
#    ros è¿™ç§å®Œå…¨æ‰‹åŠ¨è®¾ç½®çš„ å°±å¾—æˆ‘ä»¬è‡ªå·±åŠ  src-nat è·¯ç”±.(ä»å†…ç½‘åˆ°å¤–ç½‘çš„nat å« src-nat )
#

ğŸ”¶ Filter è¡¨
# /ip firewall filter print
# filter è¡¨è§„åˆ™
#
#ğŸ”¶ NAT è¡¨ 
#    / ip firewall nat print 
#    / ip firewall nat remove 0
#
#    / ip firewall nat add action=masquerade chain=srcnat ğŸ’¯    æ‰€æœ‰å‡ºå£ç½‘å¡éƒ½è®¾ nat
#    / ip firewall nat add action=masquerade chain=srcnat  out-interface=UU--WAN.1601  ğŸ’¯ æŸä¸ªå‡ºå£ç½‘å¡æ‰è®¾ nat
#    masquerade çš„æ„æ€æ˜¯ ä¸ç®¡å‡ºå£çš„IP æ€ä¹ˆå˜. éƒ½ä¼šè‡ªåŠ¨æ›´æ–°. ä¸ç„¶ å‡ºå£IP å˜ä¸€æ¬¡. nat è§„åˆ™å°±å¾—æ›´æ–°ä¸€æ¬¡!!!
#
#
#
#ğŸ”µ è·¯ç”±é…ç½® (ç½‘å…³é…ç½®)
#
#    é»˜è®¤æ˜¯ æ²¡ 0.0.0.0/0 çš„è·¯ç”±.  
#    æŠŠè¿™ä¸ª 0.0.0.0/0 è®¾ç½®åˆ°å“ªä¸ª ros ä¸Šçš„ç½‘å¡. é‚£ä¸ªç½‘å¡å°±æ˜¯é»˜è®¤ç½‘å…³!!! 
#    é»˜è®¤ç½‘å…³åªæœ‰ä¸€ä¸ªçš„!!! å…¶ä»–éƒ½æ˜¯é™æ€è·¯ç”±!!!
#
# ğŸ”¶ HOW 
#    /ip route print 
#    /ip route remove 0
#
/ip route add dst-address=0.0.0.0/0 gateway=172.16.21.254
#        â—ï¸ ä¸Šå¤–ç½‘çš„è¯è¦é…ç½® å¤–éƒ¨çš„ ç½‘å…³ ä¸æ˜¯é…ros ç½‘å¡çš„ IPåœ°å€. ğŸ’¯ğŸ’¯ â—ï¸ 
#
#
#ğŸ”µ DNS é…ç½® ğŸ’¯
#   /ip dns print 
#   /ip dns set servers=223.5.5.5,8.8.8.8
#

```