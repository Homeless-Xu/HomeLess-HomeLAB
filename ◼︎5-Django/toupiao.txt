ğŸ”µ å¼€å‘ç¯å¢ƒ

    Centos6 VPSæœåŠ¡å™¨,å¹¶éæœ¬æœº! sshåˆ°æœåŠ¡å™¨.
    æœåŠ¡å™¨IP: 23.105.192.96
    æœåŠ¡å™¨åŸŸå: www.0214.help 
    Django: 1.11.1
    Python: 2.7
    Myslq:  5.1


ğŸ”¸ åˆ›å»º Mysql æ•°æ®åº“.

      Name: djSiteDBã€å­—ç¬¦:utf8ã€Collation:utf8_bin
      User: root
      Password: .....


ğŸ”¸ åˆ›å»ºé¡¹ç›®: 
    rm -R /home/djSite || cd /home && django-admin startproject djSite
    ğŸ‘â€ğŸ—¨ || ä¸æ˜¯ && ; &&: å‰é¢å‘½ä»¤æ‰§è¡ŒæˆåŠŸæ‰ä¼šç»§ç»­æ‰§è¡Œåé¢å‘½ä»¤. ||:ä¸ç®¡å‰é¢å‘½ä»¤æ˜¯å¦æˆåŠŸéƒ½ä¼šæ‰§è¡Œåé¢å‘½ä»¤

    â¦¿ é¡¹ç›®è·¯å¾„: /home/
    â¦¿ é¡¹ç›®åç§°: djSite


ğŸ”¸  settings.py mysql æ•°æ®åº“é…ç½®

            DATABASES = {
                'default': {
                    'ENGINE': 'django.db.backends.sqlite3',
                    'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
                }
            }

            æ”¹æˆ

            DATABASES = {
                'default': {
                    'ENGINE': 'django.db.backends.mysql',
                    'NAME': 'djSiteDB',
                    'USER': 'root',
                    'PASSWORD': 'xxxxxxxxxxxx',
                    'HOST': '127.0.0.1',
                    'PORT': '3306',
                }
            }


    ğŸ‘â€ğŸ—¨ sed ä¸€é”®ä¿®æ”¹å‘½ä»¤: 
        æ‡’å¾—viç¼–è¾‘çš„è¯ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤. 
        é•¿äº†ç‚¹.è€Œä¸”æœ‰äº›åœ°æ–¹è¦æ”¹æˆä½ è‡ªå·±çš„.ä½†æ˜¯äº²æµ‹æœ‰æ•ˆçš„.

        sed -i "s/django.db.backends.sqlite3/django.db.backends.mysql/g; s/'NAME': os.path.join(BASE_DIR, 'db.sqlite3')/'NAME': 'djSiteDB'/g" /home/djSite/djSite/settings.py &&  sed -i "/'NAME': 'djSiteDB'/a \ \n\t'USER': 'root',\n\t'PASSWORD': 'xujian0219',\n\t'HOST': '127.0.0.1',\n\t'PORT': '3306', " /home/djSite/djSite/settings.py


        ä¸€é”®å‘½ä»¤è§£æ:


        1. ä¿®æ”¹ engine è¡Œ
            sed -i "s/django.db.backends.sqlite3/django.db.backends.mysql/g" /home/djSite/djSite/settings.py


        2. ä¿®æ”¹: NAME è¡Œ
            sed -i "s/'NAME': os.path.join(BASE_DIR, 'db.sqlite3')/'NAME': 'djSiteDB'/g" /home/djSite/djSite/settings.py

        3. ç”¨ åˆ†å·; ç»“åˆä¸Šé¢ä¸¤æ­¥éª¤
            sed -i "s/django.db.backends.sqlite3/django.db.backends.mysql/g; s/'NAME': os.path.join(BASE_DIR, 'db.sqlite3')/'NAME': 'djSiteDB'/g" /home/djSite/djSite/settings.py


        4. åœ¨ 'NAME': os.path.join(BASE_DIR, 'db.sqlite3') è¡Œä¸‹é¢
            æ·»åŠ userã€passwordã€hostã€port.4è¡Œ! 

          sed -i "/'NAME': 'djSiteDB'/a \ \n\t'USER': 'root',\n\t'PASSWORD': 'xujian0219',\n\t'HOST': '127.0.0.1',\n\t'PORT': '3306', " /home/djSite/djSite/settings.py

            å¤šè¡ŒåŠ å›è½¦é”® \n å°±å¯ä»¥äº†.æ³¨æ„è¦åŠ åˆ¶è¡¨ç¬¦:\t! Pythonéå¸¸æ³¨æ„ç¼©è¿›çš„.
            â—ï¸ è¿™é‡Œæœ‰ä¸ªå‘. ç¬¬ä¸€è¡Œæ˜¯ `\ \n\t` æ³¨æ„å’Œåˆ«çš„è¡Œä¸åŒ åŠ äº†æ–œæ†+ç©ºæ ¼.åŸå› æœªçŸ¥
            â—ï¸ è¿™é‡Œæœ‰ä¸ªå‘. ç¬¬ä¸€è¡Œæ˜¯ `\ \n\t` æ³¨æ„å’Œåˆ«çš„è¡Œä¸åŒ åŠ äº†æ–œæ†+ç©ºæ ¼.åŸå› æœªçŸ¥
            â—ï¸ è¿™é‡Œæœ‰ä¸ªå‘. ç¬¬ä¸€è¡Œæ˜¯ `\ \n\t` æ³¨æ„å’Œåˆ«çš„è¡Œä¸åŒ åŠ äº†æ–œæ†+ç©ºæ ¼.åŸå› æœªçŸ¥


        5. ç”¨ && ç»“åˆ 3.4ä¸¤æ­¥
        æ³¨æ„æ˜¯å…ˆæ‰§è¡Œ3 å†æ”¯æŒ4çš„ .åˆ°æ‰§è¡Œç¬¬å››æ­¥çš„æ—¶å€™å·²ç»å˜æˆ 'NAME': 'djSiteDB',

        sed -i "s/django.db.backends.sqlite3/django.db.backends.mysql/g; s/'NAME': os.path.join(BASE_DIR, 'db.sqlite3')/'NAME': 'djSiteDB'/g" /home/djSite/djSite/settings.py &&  sed -i "/'NAME': 'djSiteDB'/a \ \n\t'USER': 'root',\n\t'PASSWORD': 'xujian0219',\n\t'HOST': '127.0.0.1',\n\t'PORT': '3306', " /home/djSite/djSite/settings.py


        6. æŸ¥çœ‹ç»“æœ
        cat /home/djSite/djSite/settings.py





ğŸ”¸ å¼€å¯æœåŠ¡å™¨å…¬ç½‘IPè®¿é—®æƒé™.

    sudo vi /home/djSite/djSite/settings.py 
        ALLOWED_HOSTS = [] è¡Œæ”¹æˆ:
        ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] 

    ğŸ‘â€ğŸ—¨ sed ä¸€é”®ä¿®æ”¹å‘½ä»¤:
      sed -i '/ALLOWED_HOSTS/c ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] ' /home/djSite/djSite/settings.py

          -i æ˜¯ç›´æ¥ä¿®æ”¹æºæ–‡ä»¶.  æµ‹è¯•çš„è¯å¯ä»¥ç”¨ -n ,ç­‰æµ‹è¯•æˆåŠŸåå†ç”¨-i
          sed -i '/xxx/c yyy'  æ›¿æ¢å«æœ‰xxxçš„æ•´è¡Œæˆyyy
          ä½ è¦ç”¨çš„è¯ ç›´æ¥æ”¹23.105.192.96 å’Œ www.0214.help æˆä½ è‡ªå·±çš„.


ğŸ”¸ å¯åŠ¨å¼€å‘æœåŠ¡å™¨ & æµè§ˆå™¨æ‰“å¼€: 23.105.192.96:8000

    cd /home/djSite && python manage.py runserver 0.0.0.0:8000
    éœ€è¦åœ¨/home/djSiteç›®å½•ä¸‹è¿è¡Œ. å› ä¸ºéœ€è¦ç”¨åˆ°manage.py

    æµè§ˆå™¨æƒ³è¦æ‰“å¼€: 23.105.192.96:8000 
    ä¼šæœ‰æŠ¥é”™. éœ€è¦å…ˆè®¾ç½®ä¸‹settings.py é‡Œé¢çš„ALLOWED_HOSTS
    ä¹Ÿå°±æ˜¯è¿è¡ŒæœåŠ¡å™¨ä¸Šçš„é‚£ä¸ªIP/åŸŸå. æä¾›å¯¹å¤–æœåŠ¡.
    æœ‰äº›æœåŠ¡å™¨æ˜¯æœ‰å¤šä¸ªå…¬ç½‘IPåœ°å€çš„.





â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
admin åå°
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ Admin åå°
    ç°åœ¨ ä¸»é¡µèƒ½è¿›å»äº†. è™½ç„¶æ²¡æœ‰ä»€ä¹ˆå†…å®¹.å†…å®¹æˆ‘ä»¬å…ˆä¸ç®¡.
    æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç®¡ç†åå°. 23.105.192.96:8000/admin

    æƒ³è¦ç™»å½•åå°.å¿…é¡»å…ˆå»ºç«‹åå°è´¦æˆ·.
    è¦å»ºç«‹è´¦æˆ·å¿…é¡»å…ˆå»ºç«‹æ•°æ®åº“è¡¨æ¥å‚¨å­˜è´¦æˆ·ä¿¡æ¯.
    ğŸ‘â€ğŸ—¨ æ•°æ®æ˜¯å­˜åœ¨æ•°æ®åº“ä¸­çš„. 
    åªè¦ä½ ä¸åˆ æ•°æ®åº“.å°±ç®—åˆ é™¤å¹¶é‡å»ºdjsiteè¿™ä¸ªé¡¹ç›®.ä¹‹å‰å»ºç«‹çš„adminçš„è´¦æˆ·ä¿¡æ¯è¿˜æ˜¯å­˜åœ¨æ•°æ®åº“ä¸­çš„. 
    ä¹Ÿå°±æ˜¯è¯´ æ•°æ®è¡¨åªéœ€è¦å»ºç«‹ä¸€æ¬¡å°±å¯ä»¥äº†.
    ä¹Ÿå°±æ˜¯è¯´.åªè¦èƒ½ä»æ•°æ®åº“ä¸­è·å–å¯¹åº”æ•°æ®. ä½ å°±å¯ä»¥æ­£å¸¸ç™»å½• 23.105.192.96:8000/admin è¿™ä¸ªé¡µé¢.


    â¦¿ å»ºç«‹ æ•°æ®åº“è¡¨
        cd /home/djSite/ && python manage.py migrate

        ä¼šå‡ºç°ä¸€å †ok. ç„¶åå»23.105.192.96:8000/admin å°±å¯ä»¥çœ‹åˆ°åå°ç™»å½•é¡µé¢äº†.
        ä¸‹é¢å°±æ˜¯åˆ›å»º æ•°æ®åº“ç®¡ç†å‘˜å¸å·äº†

    â¦¿ åˆ›å»ºç™»å½•å¸å·
        python manage.py createsuperuser

    â¦¿ ç™»å½• Adminç®¡ç†é¡µé¢
        åˆ°è¿™é‡Œ ä¸€ä¸ªé¡¹ç›®å°±ç®—å»ºç«‹æˆåŠŸäº†.
        æ¥ä¸‹æ¥å°±æ˜¯æ¨¡æ¿äº†.

        æ­£å¸¸çš„ç®¡ç†é¡µé¢æ˜¯å¯ä»¥ç¼–è¾‘æ–‡æ¡£çš„.æ¯”å¦‚åšå®¢çš„æ–‡ç« . 
        æˆ‘ä»¬è¿™ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰.é‚£æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å»ºç«‹æ¨¡æ¿.

        æ¨¡æ¿æ˜¯ä»€ä¹ˆ. æ‹¿åšå®¢æ–‡ç« æ¥è¯´. 
        æ¯ç¯‡æ–‡ç« éƒ½æ˜¯ç”±: æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€åˆ›å»ºæ—¶é—´ã€æ ‡ç­¾ã€åˆ†ç±» ç­‰ç­‰ç»„æˆçš„ 
        è¿™äº›éƒ½éœ€è¦åœ¨æ•°æ®åº“é‡Œå…ˆå®šä¹‰. ç„¶åæ‰å¯ä»¥åˆ›å»ºæ–‡ç« .
        ä¸‹é¢å°±æ˜¯æœ‰ä¸ªæ¨¡æ¿çš„äº†.



â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
æ¨¡æ¿
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸


â¦¿ åˆ›å»ºæŠ•ç¥¨æ¨¡æ¿
    cd /home/djSite/ && python manage.py startapp polls && tree

â¦¿ ç›®å½•ç»“æ„
    .
    |-- djSite
    |   |-- __init__.py
    |   |-- __init__.pyc
    |   |-- settings.py
    |   |-- settings.pyc
    |   |-- urls.py
    |   |-- urls.pyc
    |   |-- wsgi.py
    |   `-- wsgi.pyc
    |-- manage.py
    `-- polls
        |-- __init__.py
        |-- admin.py
        |-- apps.py
        |-- migrations
        |   `-- __init__.py
        |-- models.py
        |-- tests.py
        `-- views.py



ğŸ”¸ settings.py ä¸­å¯ç”¨pollsæ¨¡å—.

    vi /home/djSite/djSite/settings.py

            INSTALLED_APPS = [
              ......
                'polls',                     INSTALLED_APPSä¸­æ–°å¢è¿™ä¸€è¡Œæ¥å¯ç”¨æ¨¡å—!
            ]


    ğŸ‘â€ğŸ—¨ ä¸€é”®å‘½ä»¤
      sed -i "/django.contrib.staticfiles/a \ \n    'polls'," /home/djSite/djSite/settings.py && cat /home/djSite/djSite/settings.py

      åŠ ç©ºè¡Œ.  å†åŠ å››ä¸ªç©ºæ ¼ æ¥ç¼©è¿›.



ğŸ”¸ æ¨¡å— HTML å†…å®¹ä¿®æ”¹
    æŠ•ç¥¨æ¨¡å—ä¹ˆ. è‚¯å®šæœ‰ä¸€ä¸ªç½‘é¡µæ¥æ˜¾ç¤ºæŠ•ç¥¨ä¿¡æ¯äº†, ç¼–è¾‘ views.py å°±å¯ä»¥ä¿®æ”¹ç½‘é¡µçš„æ˜¾ç¤ºå†…å®¹

    vi /home/djSite/polls/views.py
    æ·»åŠ ä¸‹é¢3è¡Œ

    from django.http import HttpResponse

    def index(request):
      return HttpResponse("Hello, world. You're at the polls index.")


    ğŸ‘â€ğŸ—¨ ä¸€é”®å‘½ä»¤
    echo -e "from django.http import HttpResponse \n \ndef index(request):\n    return HttpResponse(\"Hello, world. You're at  the polls index.\")" > /home/djSite/polls/views.py

    â—ï¸ æ³¨æ„ç¼©è¿›. \t åˆ¶è¡¨ç¬¦.åˆ°åº•æ˜¯ä¸¤ç©ºæ ¼ è¿˜æ˜¯4ä¸ªç©ºæ ¼. è¿˜æ˜¯8ä¸ªç©ºæ ¼!! å¾ˆæœ‰å…³ç³»çš„; ç›´æ¥ç”¨ç©ºæ ¼æ¥ç¼©è¿›.

    ğŸ‘â€ğŸ—¨ åŠ¨æ€æŸ¥çœ‹æ–‡ä»¶(å¯é€‰)
      tail -20f /home/djSite/polls/views.py
      åŠ¨æ€æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨20è¡Œ; å¿…é¡»åŠ få‚æ•°æ‰ä¼šæ˜¯åŠ¨æ€çš„. 20æ˜¯è¡Œæ•°. éšæ„è®¾ç½®.
      åŠ¨æ€å°±æ˜¯æ–‡ä»¶ä¸€è¢«ä¿®æ”¹. å°±èƒ½è‡ªåŠ¨æ›´æ–°æ–‡æ¡£. ä¸ç”¨å†å»catæŸ¥çœ‹äº†. å¯¹æ—¥å¿—æ–‡ä»¶å°¤å…¶æœ‰æ•ˆ.




ğŸ”¸ æ¨¡å— HTML ç½‘å€é…ç½®
    ä¸Šé¢å·²ç»æŠŠç½‘é¡µå†…å®¹æå®šäº†(è™½ç„¶åªæœ‰ä¸€è¡Œæ–‡å­—: "Hello, world. You're at  the polls index.)
    ä¸‹é¢æˆ‘ä»¬å°±è¦æ˜¾ç¤ºè¿™ä¸ªç½‘é¡µäº†.  ç½‘é¡µå½“ç„¶éœ€è¦ç½‘å€äº†.
    å‡è®¾æˆ‘ä»¬è¦æŠŠ: 23.105.192.96:8000/polls è¿™ä¸ªç½‘å€ç»™ä¸Šé¢çš„ç½‘é¡µ. å°±éœ€è¦é…ç½® urls.py

    æ–°å»ºçš„ç©ºç™½é¡¹ç›®æœ‰ä¸ª urls.py  è·¯å¾„æ˜¯/home/djSite/djSite/urls.py è¿™ä¸ªæ˜¯é¡¹ç›®çš„æ ¸å¿ƒ urls.py é…ç½®æ–‡ä»¶.
    ä½†æ˜¯ä¸€ä¸ªé¡¹ç›®.å¾€å¾€å«æœ‰å¾ˆå¤šæ¨¡å—. æ¨¡å—å°±åº”è¯¥æ˜¯å•ç‹¬çš„! åº”è¯¥å’Œé¡¹ç›®åˆ†ç¦»å¼€æ¥!!! 
    æ‰€ä»¥æ¯ä¸ªæ¨¡å—éƒ½åº”è¯¥æœ‰è‡ªå·±ç‹¬ç«‹çš„urls.py ; æˆ‘ä»¬å°±éœ€è¦åœ¨æ¨¡å—ä¸‹æ‰‹åŠ¨å»ºç«‹ urls.py è¿™ä¸ªæ–‡ä»¶.
    è™½ç„¶ä¹Ÿå¯ä»¥æŠŠ æ‰€æœ‰æ¨¡å—çš„urlé…ç½® å†™åˆ°é¡¹ç›®æ ¸å¿ƒ urls.py ä¸­. ä½†æ˜¯ä¸€æ—¦æ¨¡å—å¤šäº†. ä½ è‡ªå·±éƒ½æä¸æ¸…æ¥šé‚£ä¸ªè·¯å¾„å¯¹åº”é‚£ä¸ªæ¨¡å—. è¿™æ˜¯ä¸å¯æ¥å—çš„. åæ­£ä¸€å¥è¯.åœ¨æ¯ä¸ªæ¨¡å—ä¸‹å»ºç«‹å•ç‹¬çš„urls.pyæ–‡ä»¶.



    â¦¿ polls ä¸‹æ–°å»º urls.py

    vi /home/djSite/polls/urls.py å…¨éƒ¨å†…å®¹æ”¹æˆå¦‚ä¸‹:

        from django.conf.urls import url            âœ ä¸ç®¡
        from . import views                         âœ views å’Œ url æ˜¯å¯¹åº”çš„. æ‰€ä»¥è¦å¼•å…¥å½“å‰æ¨¡å—çš„views
                                                    âœ . å°±æ˜¯å½“å‰æ–‡ä»¶å¤¹çš„æ„æ€
        urlpatterns = [
            url(r'^$', views.index, name='index'),  âœ è¿™ä¸ªå°±æ˜¯ urls.py çš„æ ¸å¿ƒäº†. ä¸‹é¢ä»”ç»†è®²è§£.
        ]


    â¦¿ url(r'^$', views.index, name='index')
          r'^$'        âœ æ­£åˆ™å¼. åŒ¹é…ç½‘å€.
          views.index  âœ ç½‘å€å¯¹åº”çš„ç½‘é¡µ. åŒ¹é…çš„ç½‘å€å°±ä¼šæ˜¾ç¤ºè¿™ä¸ªç½‘é¡µçš„å†…å®¹.
                       âœ views.index ä¸­çš„ . å¯ä»¥çœ‹æˆæ–‡ä»¶å¤¹ä¸Šä¸‹çº§å…³ç³». å¦‚: views æ–‡ä»¶å¤¹é‡Œçš„ index æ–‡ä»¶
                       âœ åœ¨è¿™é‡Œå°±æ˜¯ views.py æ–‡ä»¶ä¸­ä¸Šä¸€æ­¥æ–°å»ºçš„ index ç±»:  def index(request):
          name='index' âœ åˆ«å. æ— æ‰€è°“


    ğŸ‘â€ğŸ—¨ ä¸€é”®å‘½ä»¤:
        echo -e "from django.conf.urls import url \n\nfrom . import views\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n]" > /home/djSite/polls/urls.py

    ğŸ‘â€ğŸ—¨ æŸ¥çœ‹æ–‡ä»¶   tail -20f /home/djSite/polls/urls.py





ğŸ”¸ é¡¹ç›® urls.py ç½‘å€é…ç½®
    ç°åœ¨è¿˜ä¸èƒ½è®¿é—® 23.105.192.96:8000/polls.
    æˆ‘ä»¬æŠŠ polls æ¨¡å—é‡Œé¢çš„ urls.py å¯¼å…¥åˆ°é¡¹ç›®æ ¸å¿ƒ urls.pyä¸­åå°±å¯ä»¥è®¿é—®äº†.


   â¦¿ vi /home/djSite/djSite/urls.py

      é»˜è®¤è®¾ç½®: 

          from django.conf.urls import url
          from django.contrib import admin

          urlpatterns = [
              url(r'^admin/', admin.site.urls),
          ]


      æ”¹æˆå¦‚ä¸‹:

          from django.conf.urls import include, url    âœ æ–°åŠ äº† include,
          from django.contrib import admin

          urlpatterns = [
              url(r'^polls/', include('polls.urls')),  âœ æ–°åŠ äº†è¿™è¡Œ
              url(r'^admin/', admin.site.urls),
          ]


    ğŸ‘â€ğŸ—¨ ä¸€é”®å‘½ä»¤

    sed -i "s/from django.conf.urls import url/from django.conf.urls import include, url/g" /home/djSite/djSite/urls.py && sed -i "/url(r'\^admin\/'/i \     url(r'^polls/', include('polls.urls'))," /home/djSite/djSite/urls.py


        ğŸ‘â€ğŸ—¨ è¿˜æ˜¯é‚£ä¸ªç¼©è¿›çš„å‘. /iåé¢å¿…é¡»åŠ '\ ';  
        tab æœ‰æ—¶å€™æ˜¯4ä¸ªç©ºæ ¼. æœ‰æ—¶å€™æ˜¯ä¸¤ä¸ªç©ºæ ¼.æœ‰çš„æ—¶å€™æ˜¯8ä¸ªç©ºæ ¼. çœ‹è®¾ç½®çš„.å¾ˆéº»çƒ¦.
         ç®€å•ç‚¹ tab ç›´æ¥ç”¨å››ä¸ªç©ºæ ¼æ¥æ›¿æ¢. æ‰€ä»¥è¿™é‡Œæ˜¯ '/i \    ' \å·¦è¾¹ä¸€ä¸ªç©ºæ ¼,\å³è¾¹1+4=5ä¸ªç©ºæ ¼.

        1. from django.conf.urls import url âœ from django.conf.urls import include, url
            sed -i "s/from django.conf.urls import url/from django.conf.urls import include, url/g" /home/djSite/djSite/urls.py

        2. url(r'^admin/'âœ ä¸Šæ–¹æ·»åŠ ä¸€è¡Œ âœ url(r'^polls/', include('polls.urls')),
            sed -n "/url(r'\^admin\/'/i \     url(r'^polls/', include('polls.urls'))," /home/djSite/djSite/urls.py

        3. tail -20f /home/djSite/djSite/urls.py


ğŸ”¸ è®¿é—® 23.105.192.96:8000/polls
    ç°åœ¨å°±å¯ä»¥è®¿é—® è¿™ä¸ªç½‘å€äº†!  åˆ°è¿™é‡Œå·®ä¸å¤š django å…¥é—¨äº†,æ¥ä¸‹å»çš„å°±æ˜¯æ·±å…¥äº†.
    æ¯”å¦‚ ç½‘é¡µçš„è®¾è®¡. ç°åœ¨23.105.192.96:8000/polls åªæœ‰ä¸€è¡Œæ–‡å­—. å¤ªlowäº†...
    æ¯”å¦‚ å¼„ä¸ªåšå®¢æ¨¡å—. æ¥å†™åšå®¢!!!



â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
è¿›é˜¶: å®Œå–„ æŠ•ç¥¨æ¨¡å‹:polls
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸



ğŸ”¸ æ¨¡å‹ç®€ä»‹
    æ¨¡å‹æ¦‚å¿µæœ‰ç‚¹æŠ½è±¡. ä¸¾ä¸ªä¾‹å­å§.
    åšå®¢: å¾ˆå¤šæ–‡ç« ç»„æˆ; æ–‡ç« ç”±æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´ã€æ ‡ç­¾ã€åˆ†ç±» ç­‰ç­‰ç»„æˆ.

    æ‰€æœ‰æ–‡ç« ä¿¡æ¯éƒ½æ˜¯å‚¨å­˜åœ¨æ•°æ®åº“ä¸­çš„. é‚£ä¹ˆæ•°æ®åº“æ˜¯å¦‚ä½•å‚¨å­˜æ–‡ç« çš„å‘¢!

    å¥½çš„åšå®¢ç½‘ç«™æœ‰å¾ˆå¤šåŠŸèƒ½å¦‚: 
        å¯ä»¥æ ¹æ®å‘å¸ƒæ—¶é—´å¯¹æ–‡ç« æ’åº.
        å¯ä»¥æ ¹æ®æ ‡ç­¾ ç­›é€‰å‡ºå¯¹åº”çš„æ–‡ç« 
        å¯ä»¥æ ¹æ®å¤§ç±» ç­›é€‰å‡ºå¯¹åº”æ ‡ç­¾å’Œå¯¹åº”æ–‡ç« .

    è¦å®ç°è¿™äº›åŠŸèƒ½. å°±éœ€è¦ä½ å»ºç«‹æ¨¡å‹äº†.è¿™ä¸ªè¦ç¨å¾®äº†è§£ç‚¹æ•°æ®åº“çŸ¥è¯†.
    ä½ å½“ç„¶å¯ä»¥æŠŠæ•´ç‰‡æ–‡ç« éƒ½æ”¾åˆ°æ•°æ®åº“è¡¨çš„ä¸€ä¸ªå­—æ®µä¸­.

    ä½ ä¹Ÿå¯ä»¥æŠŠ 
        æ‰€æœ‰æ–‡ç« çš„æ ‡é¢˜ éƒ½æ”¾åœ¨æ•°æ®åº“è¡¨æ ‡é¢˜å­—æ®µä¸­.
        æ‰€æœ‰æ–‡ç« çš„å†…å®¹ éƒ½æ”¾åœ¨æ•°æ®åº“è¡¨å†…å®¹å­—æ®µä¸­.
        æ‰€æœ‰æ–‡ç« çš„æ ‡ç­¾ éƒ½æ”¾åœ¨æ•°æ®åº“è¡¨æ ‡ç­¾å­—æ®µä¸­.
        æ‰€æœ‰æ–‡ç« çš„å¤§ç±» éƒ½æ”¾åœ¨æ•°æ®åº“è¡¨å¤§ç±»å­—æ®µä¸­.
            ç„¶åä½ è¦è®¿é—®æŸç¯‡æ–‡ç« çš„æ—¶å€™. æŠŠä¸Šé¢çš„æ•°æ®ç»“åˆèµ·æ¥å°±æ˜¯ä¸€ç¯‡æ–‡ç« äº†.
            è¿™æ ·çš„æ¨¡å‹è®¾è®¡ å°±å¯ä»¥å®ç°å¾ˆå¤šå¾ˆå¤šåŠŸèƒ½äº†.



ğŸ”¸ æŠ•ç¥¨æ¨¡å‹å®ä¾‹

æ¨¡å‹æ˜¯å…³äºä½ çš„è‹å‰§çš„å”¯ä¸€çš„ç¡®å®šçš„æ¥æº.
æ¨¡å‹åŒ…å«æ‚¨æ­£åœ¨å‚¨å­˜çš„æ•°æ®çš„åŸºæœ¬å­—æ®µå’Œè¡Œä¸º.
æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰æ‚¨çš„æ•°æ®æ¨¡å‹ ç„¶åè‡ªåŠ¨çš„ä»ä¸­è·å–æ•°æ®.


å¦‚ç®€å•çš„æŠ•ç¥¨è½¯ä»¶ä¸­.  æˆ‘ä»¬ä¼šåˆ›å»ºä¸¤ä¸ªæ¨¡å‹:
é—®é¢˜ question  å’Œ é€‰æ‹© choice

ä¸€ä¸ªé—®é¢˜æœ‰ä¸€ä¸ªé—®é¢˜å†…å®¹ å’Œé—®é¢˜å‘å¸ƒæ—¶é—´.

ä¸€ä¸ªé€‰æ‹©æœ‰é€‰æ‹©çš„æ–‡æœ¬å’ŒæŠ•ç¥¨è®¡æ•°å™¨.
æ¯ä¸ªé€‰æ‹©éƒ½ä¼šå’Œä¸€ä¸ªé—®é¢˜å…³è”.
è¿™äº›æ¦‚å¿µé€šè¿‡ç®€å•çš„pythonç±»å°±å¯ä»¥è¡¨ç°å‡ºæ¥.
æŒ‰ç…§ä»¥ä¸‹ä»£ç ï¼Œç¼–è¾‘ä½ çš„polls/models.pyæ–‡ä»¶ã€‚


cat /home/djSite/polls/models.py

é»˜è®¤å†…å®¹:
    from __future__ import unicode_literals
    from django.db import models

æ·»åŠ ä¸‹é¢6è¡Œ: 
  class Question(models.Model):                           âœ é—®é¢˜æ¨¡å‹
      question_text = models.CharField(max_length=200)    âœ é—®é¢˜å†…å®¹
      pub_date = models.DateTimeField('date published')   âœ é—®é¢˜å‘å¸ƒæ—¶é—´

  class Choice(models.Model):                                           âœ é€‰æ‹©æ¨¡å‹
      question = models.ForeignKey(Question, on_delete=models.CASCADE)  âœ é€‰æ‹©å¯¹åº”çš„é—®é¢˜
      choice_text = models.CharField(max_length=200)                    âœ é€‰æ‹©é¡¹çš„æ–‡æœ¬
      votes = models.IntegerField(default=0)                            âœ è®¡æ•°å™¨


    â¦¿ ä»£ç è§£æ
        è¿™äº›ä»£ç éå¸¸æ˜ç¡®ã€‚
        æ¯ä¸ªæ¨¡å‹é€šè¿‡ä¸€ä¸ªç»§æ‰¿è‡ªdjango.db.models.Modelçš„ç±»æ¥è¡¨ç¤ºã€‚
        æ¯ä¸ªæ¨¡å‹éƒ½æœ‰ä¸€äº›ç±»å˜é‡ï¼Œæ¯ä¸ªå˜é‡éƒ½è¡¨ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®åº“å­—æ®µã€‚

        æ¯ä¸ªå­—æ®µé€šè¿‡å®ä¾‹ä¸­çš„ä¸€ä¸ªå­—æ®µç±»è¡¨ç¤ºï¼Œ
            CharFieldæ˜¯å­—ç¬¦å­—æ®µï¼Œ
            DateTimeFieldæ˜¯æ—¶é—´å­—æ®µã€‚è¿™ä¼šå‘Šè¯‰Djangoæ¯ä¸ªå­—æ®µä¿å­˜ç€ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚

        æ¯ä¸ªå­—æ®µå®ä¾‹çš„åå­—ï¼ˆæ¯”å¦‚question_textå’Œpub_dateï¼‰æ˜¯å­—æ®µçš„å¯¹æœºå™¨å‹å¥½çš„æ ¼å¼çš„åå­—ï¼Œä½ ä»¥åå¯ä»¥åœ¨ä½ çš„Pythonä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œä½ çš„æ•°æ®åº“ä¹Ÿä¼šç”¨å®ƒä½œä¸ºåˆ—åç§°ã€‚

        ä½ å¯ä»¥ä½¿ç”¨ï¼ˆå¯é€‰çš„ï¼‰ç¬¬ä¸€ä¸ªä½ç½®å‚æ•°ä½œä¸ºæŒ‡å®šçš„å¯è¯»çš„åç§°ã€‚ä»–å¯ä»¥ç”¨äºDjangoçš„å‡ ä¸ªintrospectiveï¼ˆå†…çœï¼‰éƒ¨åˆ†ï¼ŒåŒæ—¶ä½œä¸ºæ–‡æ¡£ã€‚å¦‚æœæ²¡æœ‰æä¾›ï¼Œåˆ™Djangoå°†ä½¿ç”¨æœºå™¨å¯è¯»çš„åç§°ä½œä¸ºåå­—ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªå¯¹Question.pub_dateå®šä¹‰äº†ä¸€ä¸ªåå­—ã€‚å¯¹äºå…¶ä»–æ‰€æœ‰çš„å­—æ®µéƒ½ä¼šé»˜è®¤ä½¿ç”¨è‡ªå·±çš„æœºå™¨åä½œä¸ºåå­—ã€‚

        æœ‰äº›å­—æ®µç±»æœ‰ä¸€äº›å¿…é¡»çš„å‚æ•°è¦å¡«ã€‚ä¸¾ä¾‹ï¼ŒCharFieldè¦æ±‚ä½ ç»™å‡ºæœ€å¤§é•¿åº¦max_lengthã€‚è¿™ä¸ä»…ä¼šç”¨åœ¨æ•°æ®åº“ä¸­ï¼Œä¹Ÿä¼šåœ¨éªŒè¯ä¸­ä½¿ç”¨ï¼Œåé¢æˆ‘ä»¬ä¼šè®²åˆ°ã€‚

        ä¸€ä¸ªå­—æ®µä¹Ÿå¯ä»¥æ‹¥æœ‰å¾ˆå¤šå¯é€‰çš„å‚æ•°ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç­votesçš„é»˜è®¤å€¼è®¾æˆäº†0ã€‚

        æœ€åä¸€ç‚¹ï¼Œæ³¨æ„å…³ç³»æ˜¯ç”±å¤–é”®å®šä¹‰çš„ã€‚è¿™å‘Šè¯‰Djangoï¼Œæ¯ä¸€ä¸ªChoiceéƒ½å’Œåªå’Œä¸€ä¸ªé—®é¢˜ç›¸å…³ã€‚Djangoæ”¯æŒæ‰€æœ‰å¸¸è§çš„æ•°æ®åº“å…³ç³»ï¼šå¤šå¯¹ä¸€ï¼Œå¤šå¯¹å¤šï¼Œä¸€å¯¹ä¸€ã€‚





    ğŸ‘â€ğŸ—¨ ä¸€é”®å‘½ä»¤
        echo -e "class Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n" >> /home/djSite/polls/models.py







ğŸ”¸ æ¿€æ´»æ¨¡å‹..
    ä¹‹å‰å·²ç»åšäº†è¿™æ­¥. ä¹Ÿå°±æ˜¯åœ¨ settings.py çš„ installed_apps ä¸‹æ·»åŠ  'polls' è¿™è¡Œ.
    å…¶å® 'polls' = 'polls.apps.pollsConfig'  è¿˜æ˜¯ç›´æ¥å†™ 'polls' æ¥çš„ç®€å•.




ğŸ”¸ è¿ç§»ç®€ä»‹

    makemigrations è¿ç§»çš„æ„æ€. 
    models.py æ¨¡æ¿æ”¹å˜å. éœ€è¦æŠŠæ”¹å˜çš„ä¸œè¥¿ åŒæ­¥ åˆ°æ•°æ®åº“ä¸­. æ‰€ä»¥å°±éœ€è¦è¿ç§»..
    ç±»ä¼¼gitæƒ³è¦åŒæ­¥åˆ°æœåŠ¡å™¨.å°±å¾—å…ˆ æäº¤ç‰ˆæœ¬: command.


    â¦¿ python manage.py makemigrations polls
        å‘Šè¯‰Djangoä½ å·²ç»å¯¹ä½ çš„modelåšå‡ºäº†ä¸€äº›æ”¹å˜ï¼Œå¹¶ä¸”ä½ å¸Œæœ›è¿™äº›æ”¹å˜å¯ä»¥ä½œä¸ºmigrationå­˜å‚¨èµ·æ¥ã€‚
        å°±å¥½åƒgit çš„commond . ä¿å­˜ä¸€ä¸ªç‰ˆæœ¬. ä½†æ˜¯å¹¶ä¸åŒæ­¥åˆ°æœåŠ¡å™¨.

            âœ  djSite python manage.py makemigrations polls
            Migrations for 'polls':
              polls/migrations/0001_initial.py
                - Create model Choice
                - Create model Question
                - Add field question to choice



    â¦¿ python manage.py sqlmigrate polls 0001 (å¯é€‰)
        çœ‹ä¸Šä¸€æ­¥å…·ä½“åˆ›å»ºäº†ä»€ä¹ˆä¸œè¥¿! 

            âœ  djSite python manage.py sqlmigrate polls 0001
            BEGIN;
            --
            -- Create model Choice
            --
            CREATE TABLE `polls_choice` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `choice_text` varchar(200) NOT NULL, `votes` integer NOT NULL);
            --
            -- Create model Question
            --
            CREATE TABLE `polls_question` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `question_text` varchar(200) NOT NULL, `pub_date` datetime NOT NULL);
            --
            -- Add field question to choice
            --
            ALTER TABLE `polls_choice` ADD COLUMN `question_id` integer NOT NULL;
            ALTER TABLE `polls_choice` ADD CONSTRAINT `polls_choice_question_id_c5b4b260_fk_polls_question_id` FOREIGN KEY (`question_id`) REFERENCES `polls_question` (`id`);
            COMMIT;



    â¦¿ python manage.py migrate
        åŒæ­¥æ›´æ”¹åˆ°æ•°æ®åº“. 
        å¥½æ¯”git çš„push.


    â¦¿ æ€»ç»“:
        1. æ›´æ”¹ä½ çš„æ¨¡å‹ï¼ˆåœ¨ models.py ä¸­ï¼‰ã€‚
        2. è¿è¡Œ python manage.py makemigrations æ¥åˆ›å»ºè¿™äº›æ›´æ”¹çš„è¿ç§»
        3. è¿è¡Œ python manage.py migrate        å°†è¿™äº›æ›´æ”¹åº”ç”¨äºæ•°æ®åº“ã€‚



    è¿ç§»éå¸¸å¼ºå¤§ï¼Œä»–å¯ä»¥è®©ä½ ä¸€è¾¹å»ºè®¾ä½ çš„é¡¹ç›®ï¼Œä¸€è¾¹æ…¢æ…¢åœ°æ”¹å˜ä½ çš„æ•°æ®åº“ï¼Œè€Œä¸”ä¸ç”¨åˆ é™¤ä½ çš„æ•°æ®åº“æˆ–è€…è¡¨ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚
    å®ƒä¸“é—¨ç”¨äºå®æ—¶å‡çº§æ•°æ®åº“ï¼Œè€Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚

    Djangoæœ‰å•ç‹¬çš„å‘½ä»¤æ¥åˆ¶ä½œå’Œåº”ç”¨è¿ç§»çš„åŸå› æ˜¯å› ä¸ºæ‚¨å¯ä»¥æäº¤è¿ç§»åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¹¶å°†å…¶å‘é€åˆ°æ‚¨çš„åº”ç”¨ç¨‹åº; 

    ç®€å•ç†è§£ å°±åƒgit. åªè¦ä½ ä¿å­˜äº†æŸä¸€ç‰ˆæœ¬å.ä½ å¯ä»¥éšæ„ä¿®æ”¹æ–‡ä»¶. åæ­£å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ¢å¤åˆ°ä¹‹å‰ä¿å­˜çš„çŠ¶æ€.








ğŸ”¸ è¿ç§»å®ä¾‹

    python manage.py makemigrations polls
        åˆ›å»ºè¿ç§»(gitæäº¤ç‰ˆæœ¬)

    python manage.py migrate
        åŒæ­¥æ•°æ®åº“ (git push: åŒæ­¥æœ¬åœ°åˆ°æœåŠ¡å™¨)



ğŸ”µ Django API
    ä¸ºä»€ä¹ˆè¦å­¦API. å…¶å®Django æ˜¯åå‘åç«¯çš„. ä¸»è¦å°±æ˜¯å’ŒAPIæ‰“äº¤é“. å¦‚åˆ›å»ºæ•°æ®åº“å•Š. åˆ›å»ºå˜é‡.
    ç„¶åå‰ç«¯ç”¨è¿™äº›å˜é‡ å°±å¯ä»¥åˆ›å»ºå‡ºç½‘é¡µäº†..... å¥½åƒæ˜¯è¿™æ ·çš„.

    â—ï¸â—ï¸â—ï¸APIéƒ¨åˆ†å‚è€ƒè‡ª: http://www.jianshu.com/p/fc049fd5e2a9
    â—ï¸â—ï¸â—ï¸APIéƒ¨åˆ†å‚è€ƒè‡ª: http://www.jianshu.com/p/fc049fd5e2a9


cd /home/djSite && python manage.py shell

â¦¿ æ•°æ®åº“ API
>>> from polls.models import Question, Choice
  âœ å¯¼å…¥æ–°å»ºçš„æ¨¡å‹ç±»

>>> Question.objects.all()
<QuerySet []>
  âœ æŸ¥çœ‹æ‰€æœ‰ Question, ä¼šè¿”å›ä¸€ä¸ªç©ºçš„æ•°ç»„. è¯´æ˜æ²¡æœ‰ä»»ä½•questions.
  âœ ä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªé—®é¢˜.   

>>> from django.utils import timezone
  âœ é—®é¢˜éœ€è¦ä¸€ä¸ªæé—®æ—¶é—´. æ‰€ä»¥è¦å…ˆå¯¼å…¥æ—¶åŒºæ¨¡å—.æ¥è·å¾—æ—¶é—´.

>>> q = Question(question_text="What's new?", pub_date=timezone.now())
  âœ å®šä¹‰ä¸€ä¸ªé—®é¢˜; é—®é¢˜æ˜¯ä¸€ä¸ªæ•°ç»„. æœ‰ä¸¤éƒ¨åˆ†ç»„æˆ: é—®é¢˜å†…å®¹. å’Œé—®é¢˜å‘å¸ƒæ—¶é—´.
      ğŸ‘¹ NameError: name 'timezone' is not defined
        è¿™é‡Œæœ‰å¯èƒ½æŠ¥é”™. é‚£æ˜¯å› ä¸ºä½ é¡¹ç›® settings.pyé‡Œæ²¡æœ‰è®¾ç½®æ—¶åŒº.
        è®¾ç½®ä¸‹æ—¶åŒºç„¶åé€€å‡º  python manage.py shell é‡æ–°æ¥ä¸€éå°±å¯ä»¥äº†.
        sudo vi /home/djSite/djSite/settings.py âœ  TIME_ZONE = 'UTC' ä¸­çš„UTCæ”¹æˆ  Asia/Shanghai

        ğŸ‘â€ğŸ—¨ ä¸€é”®ä¿®æ”¹å‘½ä»¤
        sed -i "s/TIME_ZONE = 'UTC'/TIME_ZONE = 'Asia\/Shanghai'/g" /home/djSite/djSite/settings.py

>>> q.save()
  âœ ä¿å­˜é—®é¢˜åˆ°æ•°æ®åº“! ä¸Šé¢åªæ˜¯åˆ›å»º.æ²¡æœ‰ä¿å­˜. 

>>> q.id
1L
  âœ æ—¢ç„¶ä¿å­˜åˆ°æ•°æ®åº“äº†. è€Œä¸”è¿™æ˜¯ç¬¬ä¸€ä¸ªé—®é¢˜é‚£ä¹ˆæ•°æ®åº“è¡¨ä¸­çš„ç¬¬ä¸€è¡Œ. ä¹Ÿå°±æ˜¯åˆ†é…äº† id=1
  âœ æœ‰äº›æ•°æ®åº“id åˆ†é…çš„æ˜¯1 , æœ‰æ•ˆæ•°æ®åº“åˆ†é…çš„æ˜¯ 1L. æ²¡å•¥åŒºåˆ«.

>>> q.question_text
"What's new?"
>>> q.pub_date
datetime.datetime(2017, 6, 2, 3, 45, 57, 919271, tzinfo=<UTC>)
  âœ ä»æ•°æ®åº“ä¸­å–å‡ºè¿™ä¸ªé—®é¢˜ä¿¡æ¯.


>>> q.question_text = "what's up?"
>>> q.save()
>>> q.question_text
"what's up?"
  âœ è¿˜å¯ä»¥é€šè¿‡æ•°æ®åº“æ¥ä¿®æ”¹é—®é¢˜å†…å®¹!


>>> Question.objects.all()
<QuerySet [<Question: Question object>]>
  âœ æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„æ‰€æœ‰é—®é¢˜
  ğŸ‘¹ è¿™ä¸ª<> å®Œå…¨çœ‹ä¸æ‡‚å•Š..   è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç¼–è¾‘polls/models.py ä¸­çš„é—®é¢˜æ¨¡å‹æ¥è§£å†³.
  ğŸ”¸æ·»åŠ  __str__()æ–¹æ³•åˆ°Questionå’ŒChoice å°±å¯ä»¥äº†
 
        vi /home/djSite/polls/models.py
        æ•´ä¸ªæ–‡ä»¶æ”¹æˆå¦‚ä¸‹(æ‰‹åŠ¨æ”¹å§. æ³¨æ„ç¼©è¿›. ä¸æä¾›ä¸€é”®è„šæœ¬äº†): 

        # -*- coding: utf-8 -*-
        from __future__ import unicode_literals
        from django.db import models
        from django.utils.encoding import python_2_unicode_compatible     # support Python 2


        # Create your models here.

        @python_2_unicode_compatible      # support Python 2
        class Question(models.Model):
            question_text = models.CharField(max_length=200)
            pub_date = models.DateTimeField('date published')

            def __str__(self):
                return self.question_text

        @python_2_unicode_compatible     # support Python 2
        class Choice(models.Model):
            question = models.ForeignKey(Question, on_delete=models.CASCADE)
            choice_text = models.CharField(max_length=200)
            votes = models.IntegerField(default=0)

            def __str__(self):
                return self.choice_text


       ğŸ‘â€ğŸ—¨ __str__()æ–¹æ³•çš„æ·»åŠ æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸å…‰æ˜¯ä¸ºäº†ä½ è‡ªå·±å¤„ç†äº¤äº’æç¤ºçš„æ–¹ä¾¿ï¼Œä¹Ÿæ˜¯å› ä¸ºå¯¹è±¡çš„å±•ç¤ºæ˜¯é€šè¿‡Djangoçš„è‡ªåŠ¨ç”Ÿæˆadminçš„ã€‚
         æ³¨æ„ä¸Šé¢çš„æ˜¯æ™®é€šPythonæ–¹æ³•ï¼Œä¸‹é¢æˆ‘ä»¬å†æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•.

    ğŸ”¸ æ·»åŠ  è‡ªå®šä¹‰æ–¹æ³•: was_published_recently

      import datetime

      from django.db import models
      from django.utils import timezone

      class Question(models.Model):
          def was_published_recently(self):
              return self.pub_date >= timezone.now() - datetime.timedelta(days=1)




    ğŸ”¸ polls/models.py æœ€ç»ˆå˜æˆå¦‚ä¸‹:

        # -*- coding: utf-8 -*-
        from __future__ import unicode_literals

        import datetime
        from django.db import models
        from django.utils import timezone
        from django.utils.encoding import python_2_unicode_compatible


        # Create your models here.

        @python_2_unicode_compatible
        class Question(models.Model):
            question_text = models.CharField(max_length=200)
            pub_date = models.DateTimeField('date published')

            def __str__(self):
                return self.question_text

            def was_published_recently(self):
                return self.pub_date >= timezone.now() - datetime.timedelta(days=1)


        @python_2_unicode_compatible
        class Choice(models.Model):
            question = models.ForeignKey(Question, on_delete=models.CASCADE)
            choice_text = models.CharField(max_length=200)
            votes = models.IntegerField(default=0)



      ğŸ‘â€ğŸ—¨ ä¿å­˜è¿™äº›æ›´æ”¹å¹¶é€šè¿‡å†æ¬¡è¿è¡Œpython manage.py shellå¯åŠ¨ä¸€ä¸ªæ–°çš„Python shellï¼š

    ğŸ”¸ å†æ¬¡è¿è¡Œ Python shell

      >>> from polls.models import Question, Choice
      >>> Question.objects.all()
      <QuerySet [<Question: what's up?>]>
        âœ ç°åœ¨ __str__() å°±ç”Ÿæ•ˆäº†.



      >>> Question.objects.filter(id=1)
      <QuerySet [<Question: what's up?>]>
        âœ Django æä¾›äº†éå¸¸å¤šçš„API. æ¯”å¦‚ filter å¯ä»¥ç­›é€‰å†…å®¹.

      >>> Question.objects.filter(question_text__startswith='what')
      <QuerySet [<Question: what's up?>]>
        âœ æ³¨æ„å¤§å°å†™.question_text__startswith='what' ä¸ç­‰äº question_text__startswith='What'


      >>> from django.utils import timezone
      >>> current_year = timezone.now().year
      >>> Question.objects.get(pub_date__year=current_year)
      <Question: what's up?>
        âœ ç”šè‡³è¿˜èƒ½æŒ‰æ—¶é—´è¿‡æ»¤, è¿™é‡Œå°±è¿‡æ»¤å‡ºäº† ä»Šå¹´å‘èµ·çš„æé—®


      >>> Question.objects.get(id=2)
        âœ æ ¹æ®IDæŸ¥æ‰¾é—®é¢˜.

      >>> Question.objects.get(pk=1)
      <Question: what's up?>
        âœ æŸ¥è¯¢ primary key ä¸»é”®. æ˜¯æœ€å¸¸ç”¨çš„. Django æä¾›äº†ä¸€ä¸ªprimaryç¼©å†™ :pk 


      >>> q = Question.objects.get(pk=1)
      >>> q.was_published_recently()
      True
        âœ æŸ¥è¯¢æ˜¯å½“å‰é—®é¢˜å¦ç”Ÿæ•ˆ??


    â¦¿ ä¸‹é¢ç»™é—®é¢˜æ·»åŠ å¤šé€‰!

      >>> q = Question.objects.get(pk=1)
        âœ å®šä¹‰ q 

      >>> q.choice_set.all()
      <QuerySet []>
        âœ æ˜¾ç¤ºqè¿™ä¸ªé—®é¢˜çš„ æ‰€æœ‰é€‰é¡¹. æˆ‘ä»¬æ²¡æœ‰è®¾ç½®è¿‡ä»»ä½•é€‰é¡¹.æ‰€æœ‰ç°åœ¨æ˜¯ç©ºçš„.


      >>> q.choice_set.create(choice_text='Not much', votes=0)
      <Choice: Not much>
        âœ ç»™qè¿™ä¸ªé—®é¢˜ æ·»åŠ ç¬¬ä¸€ä¸ªé€‰é¡¹: Not much


      >>> q.choice_set.create(choice_text='The sky', votes=0)
      <Choice: The sky>
        âœ ç»™qè¿™ä¸ªé—®é¢˜ åŠ ç¬¬äºŒä¸ªé€‰é¡¹: The sky


      >>> c = q.choice_set.create(choice_text='Just hacking again', votes=0)
        âœ ç»™qè¿™ä¸ªé—®é¢˜ åŠ ç¬¬ä¸‰ä¸ªé€‰é¡¹: Just hacking again
        âœ æŠŠqé—®é¢˜ å…³è”åˆ° cé—®é¢˜;  å…³è”å°±æ˜¯ä¸¤ä¸ªé—®é¢˜æœ‰è”ç³».....

      >>> c.question
      <Question: What's up?>
        âœ ç°åœ¨cé—®é¢˜ å°±ç­‰äºq é—®é¢˜äº†.

      >>> q.choice_set.all()
      <QuerySet [<Choice: Not much>, <Choice: The sky>, <Choice: Just hacking again>]>
        âœ ç°åœ¨qé—®é¢˜ä¸‹é¢å°±æœ‰ä¸‰ä¸ªé€‰é¡¹äº†.
      >>> q.choice_set.count()
      3
        âœ qé—®é¢˜çš„é€‰é¡¹æ•°é‡


      >>> Choice.objects.filter(question__pub_date__year=current_year)
      <QuerySet [<Choice: Not much>, <Choice: The sky>, <Choice: Just hacking again>]>
        âœ æ‰¾å‡º æ‰€æœ‰pub_date æ˜¯ä»Šå¹´çš„é€‰é¡¹.
        âœ åŒä¸‹åˆ’çº¿ ä»€ä¹ˆæ„æ€...

      >>> c = q.choice_set.filter(choice_text__startswith='Just hacking')
      >>> c.delete()
        âœ åˆ é™¤ä¸€ä¸ªæé—®.








â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
Django è¿›é˜¶: åšå®¢æ­å»º                   å‚è€ƒ:https://www.dannysite.com/blog/235/
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸



ğŸ”µ ç®€ä»‹

    åšå®¢æ˜¯ä¸€ä¸ªåŠŸèƒ½çš„é›†åˆ. æ˜¯ä¸€ä¸ªæ¨¡å—. 
    åšå®¢å®Œå…¨å¯ä»¥åœ¨ä¸Šé¢çš„ djSiteé¡¹ç›®ä¸‹ç»§ç»­. æ–°å»ºä¸ªæ¨¡æ¿å°±å¯ä»¥äº†.


ğŸ”µ MVC & MTV

    â¦¿ MVC:
        Mï¼šæ•°æ®å­˜å–éƒ¨åˆ†ï¼Œç”± django æ•°æ®åº“å±‚å¤„ç†ï¼›
        Vï¼šé€‰æ‹©æ˜¾ç¤ºå“ªäº›æ•°æ®è¦æ˜¾ç¤ºä»¥åŠæ€æ ·æ˜¾ç¤ºçš„éƒ¨åˆ†ï¼Œç”±è§†å›¾å’Œæ¨¡æ¿å¤„ç†ï¼›
        Cï¼šæ ¹æ®ç”¨æˆ·è¾“å…¥å§”æ´¾è§†å›¾çš„éƒ¨åˆ†ï¼Œç”± Django æ¡†æ¶æ ¹æ® URLconf è®¾ç½®ï¼Œå¯¹ç»™å®š URL è°ƒç”¨é€‚å½“çš„ Python å‡½æ•°ã€‚


    â¦¿ MTVï¼š
        M ä»£è¡¨æ¨¡å‹ï¼ˆModelï¼‰ï¼š å³æ•°æ®å­˜å–å±‚ã€‚è¯¥å±‚å¤„ç†ä¸æ•°æ®ç›¸å…³çš„æ‰€æœ‰äº‹åŠ¡ï¼šå¦‚ä½•å­˜å–ã€å¦‚ä½•éªŒè¯æœ‰æ•ˆæ€§ã€åŒ…å«å“ªäº›è¡Œä¸ºä»¥åŠæ•°æ®ä¹‹é—´çš„å…³ç³»ç­‰ï¼›
        T ä»£è¡¨æ¨¡æ¿(Template)ï¼šå³è¡¨ç°å±‚ã€‚è¯¥å±‚å¤„ç†ä¸è¡¨ç°ç›¸å…³çš„å†³å®šï¼šå¦‚ä½•åœ¨é¡µé¢æˆ–å…¶ä»–ç±»å‹æ–‡æ¡£ä¸­è¿›è¡Œæ˜¾ç¤ºï¼›
        V ä»£è¡¨è§†å›¾ï¼ˆViewï¼‰ï¼š  å³ä¸šåŠ¡é€»è¾‘å±‚ã€‚è¯¥å±‚åŒ…å«å­˜å–æ¨¡å‹åŠè°ƒå–æ°å½“æ¨¡æ¿çš„ç›¸å…³é€»è¾‘ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ¨¡å‹ä¸æ¨¡æ¿ä¹‹é—´çš„æ¡¥æ¢ã€‚

    â¦¿ Django
        Django é‡Œæ›´å…³æ³¨çš„æ˜¯æ¨¡å‹ï¼ˆModelï¼‰ã€æ¨¡æ¿ï¼ˆTemplateï¼‰å’Œè§†å›¾ï¼ˆViewsï¼‰ï¼Œå› æ­¤ Django ä¹Ÿè¢«ç§°ä¸º MTV æ¡†æ¶ã€‚
        æ¡†æ¶: å°±æ˜¯æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆå¥½å‡ ä¸ªéƒ¨åˆ†.

      â—ï¸ä¸‹é¢è¿™ä¸ªæ¨¡å¼åœ¨å¼€å‘ä¸­è‡³å…³é‡è¦ï¼Œå› æ­¤å¿…é¡»ç‰¢è®°åœ¨å¿ƒå¹¶è¿ç”¨åˆ°å®é™…å¼€å‘è¿‡ç¨‹ä¸­ã€‚
          æ¨¡å‹å°±æ˜¯:Model    âœ æ„å»ºæ•°æ®åº“. å­˜å‚¨æ•°æ®
          æ¨¡æ¿å°±æ˜¯:Template âœ æŠŠå®Œæ•´çš„ HTML åˆ†æˆå‡ éƒ¨åˆ†. è¦ç”¨çš„æ—¶å€™å¼•å…¥æ¨¡æ¿å°±å¯ä»¥. å¦‚: head.html body.html footer.html
          è§†å›¾å°±æ˜¯:view     âœ è¿æ¥æ•°æ®åº“å’Œæ¨¡æ¿. å®šä¹‰æ¨¡æ¿æ€ä¹ˆä»æ•°æ®åº“è·å–æ•°æ®,è·å–ä»€ä¹ˆæ•°æ®.
          æœ€åä¸€ä¸ª:url      âœ é€šè¿‡æ­£åˆ™å¼åŒ¹é….æŠŠç½‘å€å’Œ viewé‡Œçš„ç½‘é¡µå¯¹åº”èµ·æ¥.




ğŸ”µ æ„æƒ³: 
    æƒ³è¦å®ç°ä»€ä¹ˆ. æƒ³è¦è¾¾åˆ°æ€æ ·çš„æ•ˆæœ.

    åšå®¢: æ ‡é¢˜ã€ä½œè€…ã€æ­£æ–‡ã€å‘å¸ƒæ—¶é—´ã€åˆ†ç±»ã€å¤§ç±»ã€æ˜Ÿçº§ã€æé—®æ¡†.

    åšå®¢åˆ—è¡¨å‘ˆç°åšå®¢.
    åšå®¢æ’åº. æ‰‹åŠ¨+æ—¶é—´å€’åº.
    åšå®¢æ‘˜è¦! 
    åšå®¢è¯¦æƒ…é¡µé¢.



    ğŸ”¸ æ–°å¢ myblog æ¨¡å—: myblog
          cd /home/djSite/ && python manage.py startapp myblog && ls

    ğŸ”¸ æ¿€æ´» myblog æ¨¡å—:
          å°±æ˜¯å»settings.py æŠŠ'myblog'åŠ åˆ° INSTALLED_APPS é‡Œé¢å»å°±å¯ä»¥äº†.
          sed -i "/django.contrib.staticfiles/a \ \n    'myblog'," /home/djSite/djSite/settings.py && cat /home/djSite/djSite/settings.py

          - ä½ çš„è¯æŠŠmyblog å’Œ æ–‡ä»¶è·¯å¾„æ¢æ‰å°±å¯ä»¥äº†



ğŸ”µ å»ºç«‹æ¨¡å‹ Model

ğŸ”¸ ç®€ä»‹
    è¦å»ºç«‹æ¨¡å‹,é¦–å…ˆè¦çŸ¥é“ä½ æƒ³å®ç°ä»€ä¹ˆåŠŸèƒ½. ç„¶åé€šè¿‡éœ€æ±‚æ¥å»ºç«‹æ¨¡å‹, è¿™å°±æ˜¯MVCä¸­çš„M(model)å±‚.å†³å®šäº†æ•°æ®çš„å­˜å‚¨.

    æ¨¡å‹å±‚: æ•°æ®å­˜å‚¨å±‚. å¤„ç†å’Œæ•°æ®æœ‰å…³çš„æ‰€æœ‰äº‹æƒ….å¦‚: å¦‚ä½•å­˜å–ã€å¦‚ä½•éªŒè¯ã€åŒ…å«å“ªäº›è¡Œä¸ºã€ä»¥åŠæ•°æ®ä¹‹é—´çš„å…³ç³».

    åšå®¢æ‹¥æœ‰æ ‡é¢˜ã€ä½œè€…ã€æ­£æ–‡åŠå‘å¸ƒçš„æ—¶é—´ç­‰åŸºæœ¬çš„å…ƒç´ ã€‚åŒæ—¶ï¼Œä¸€ä¸ªåšå®¢è¿˜ä¼šéš¶å±äºä¸€ä¸ªåˆ†ç±»ï¼Œå¹¶å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾ã€‚åšå®¢ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¯„è®ºï¼Œè¯„è®ºä¸­è¦è®°å½•è¯„è®ºè€…çš„ç§°å‘¼ã€é‚®ç®±ä»¥åŠè¯„è®ºå†…å®¹ï¼›


    ä»ä¸­å¯ä»¥çœ‹å‡ºï¼š

    ç›´æ¥ä¸åšå®¢ç›¸å…³çš„æ¨¡å‹åº”åŒ…å«ä¸‰ä¸ªï¼šåšå®¢ã€åˆ†ç±»ä»¥åŠæ ‡ç­¾ã€‚

    åšå®¢åŒ…å«æ ‡é¢˜ã€ä½œè€…ã€æ­£æ–‡ã€å‘å¸ƒæ—¶é—´ç­‰åŸºç¡€å­—æ®µã€‚

    åˆ†ç±»å’Œæ ‡ç­¾åˆ™åº”æœ‰åç§°ï¼›

    ä¸€ä¸ªåšå®¢ä»…éš¶å±äºä¸€ä¸ªåˆ†ç±»ï¼Œåè¿‡æ¥ä¸€ä¸ªåˆ†ç±»åˆ™å¯ä»¥åŒ…å«å¤šä¸ªåšå®¢ï¼Œè¿™æ˜¯æ˜æ˜¾çš„ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå› æ­¤åšå®¢ä¸­åº”æœ‰ä¸€ä¸ªå¤–é”®å…³è”è‡³åˆ†ç±»ï¼›

    ä¸€ä¸ªåšå®¢å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾ï¼Œåè¿‡æ¥ä¸€ä¸ªæ ‡ç­¾é¡µä¼šåŒ…å«å¤šä¸ªåšå®¢ï¼Œå› æ­¤æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼›

    è¿˜æœ‰ä¸€ä¸ªè¯„è®ºæ¨¡å‹æ¥å­˜å‚¨ç”¨æˆ·è¯„è®ºï¼Œå¹¶ä¸»åŠ¨å…³è”åˆ°åšå®¢ä¸Šå»ã€‚ä¸€ä¸ªåšå®¢å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¯„è®ºï¼Œä½†åè¿‡æ¥è¯„è®ºåªé’ˆå¯¹ä¸€ç¯‡åšå®¢ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚


    æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ä»¥æ­¤å»ºç«‹å¯¹åº”çš„æ¨¡å‹ï¼Œæœ€åŸºç¡€çš„ä»£ç å¦‚ä¸‹ï¼š






ğŸ”¸ é…ç½®æ¨¡å‹: Models.py

    vi /home/djSite/myblog/models.py   æ·»åŠ ä¸‹é¢. è‡ªå¸¦çš„ä¸¤ä¸ªfrom ä¸å»ç®¡å®ƒ.
    
        class Category(models.Model):
            name = models.CharField('åç§°', max_length=16)
        # âœ å»ºç«‹åˆ†ç±»; CharField æ˜¯å­—ç¬¦ç±»å‹å­—æ®µ;  å­—æ®µé•¿åº¦;
        

        class Tag(models.Model):
            name = models.CharField('åç§°', max_length=16)
        # âœ å»ºç«‹æ ‡ç­¾; CharField æ˜¯å­—ç¬¦ç±»å‹å­—æ®µ;  å­—æ®µé•¿åº¦;
        
        
        class Blog(models.Model):
            title = models.CharField('æ ‡é¢˜', max_length=32)               # âœ åšå®¢æ ‡é¢˜
            author = models.CharField('ä½œè€…', max_length=16)              # âœ åšå®¢ä½œè€… 
            content = models.TextField('æ­£æ–‡')                            # âœ åšå®¢æ­£æ–‡, TextField(æ–‡æœ¬æ¡†)å­—æ®µç±»å‹; æ— å¤§å°é™åˆ¶. 
            created = models.DateTimeField('å‘å¸ƒæ—¶é—´', auto_now_add=True) # âœ åšå®¢åˆ›å»ºæ—¶é—´. æ—¶é—´å­—æ®µç±»å‹; 
            category = models.ForeignKey(Category, verbose_name='åˆ†ç±»')   # âœ åšå®¢ å¤§ç±»
            tags = models.ManyToManyField(Tag, verbose_name='æ ‡ç­¾')       # âœ åšå®¢ æ ‡ç­¾
        

        class Comment(models.Model):
            blog = models.ForeignKey(Blog, verbose_name='åšå®¢')            # âœ è¯„è®ºå¯¹åº”çš„åšå®¢
            name = models.CharField('ç§°å‘¼', max_length=16)                 # âœ è¯„è®ºè€…åç§°
            email = models.EmailField('é‚®ç®±')                              # âœ è¯„è®ºè€…é‚®ç®±
            content = models.CharField('å†…å®¹', max_length=140)             # âœ è¯„è®ºå†…å®¹
            created = models.DateTimeField('å‘å¸ƒæ—¶é—´', auto_now_add=True)  # âœ è¯„è®ºæ—¶é—´




ğŸ”¸ åŒæ­¥æ¨¡å‹åˆ°æ•°æ®åº“
    æ¨¡å‹åªæ˜¯åˆ©ç”¨ Django æä¾›çš„ ORM å®Œæˆå¯¹å®é™…è¡¨ç»“æ„çš„æ˜ å°„ï¼Œå› æ­¤åœ¨å®Œæˆæ¨¡å‹å®šä¹‰åï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶çœŸæ­£åŒæ­¥åˆ°å®é™…çš„æ•°æ®åº“ä¸­å»ã€‚
    æ–°ç‰ˆæœ¬çš„ Django ä¸­ï¼Œè¯¥æ“ä½œéœ€è¦åˆ†æˆä¸¤æ­¥.


    â¦¿ ç‰ˆæœ¬ä¿å­˜:
    python manage.py makemigrations myblog

    â¦¿ çœŸæ­£åŒæ­¥:
    python manage.py migrate

        âœ  djSite python manage.py migrate
        System check identified some issues:

        WARNINGS:
        ?: (mysql.W002) MySQL Strict Mode is not set for database connection 'default'
          HINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode
        Operations to perform:
          Apply all migrations: admin, auth, contenttypes, myblog, polls, sessions
        Running migrations:
          Applying myblog.0001_initial... OK





ğŸ”¸ æ·»åŠ å†…å®¹

    æ—¢ç„¶å­˜å‚¨åšå®¢çš„åœ°æ–¹å·²ç»æœ‰äº†ï¼Œç°åœ¨æ˜¯æ—¶å€™å°è¯•å¾€é‡Œé¢æ’å…¥ä¸€äº›æ•°æ®äº†ï¼Œè¿™ä¹Ÿæ–¹ä¾¿ä¹‹ååœ¨å®ç°åŠŸèƒ½ä¹‹åè¿›è¡Œæµ‹è¯•ã€‚
    ä¼ ç»Ÿçš„æ–¹å¼å¯ä»¥é€‰æ‹©æ‰‹åŠ¨è¿æ¥åˆ°æ•°æ®åº“ï¼Œå†™åŸç”Ÿçš„ SQL æ¥å®Œæˆè¯¥æ­¥éª¤ã€‚
    å½“ç„¶è¿˜æœ‰ä¸€ä¸ªæ›´â€œé…·â€çš„æ–¹æ³•å°±æ˜¯åˆ©ç”¨ Django å†…ç½®çš„ç«™ç‚¹ç®¡ç†å·¥å…·ã€‚


    â¦¿ ç¼–è¾‘ myblog/admin.py
      è¦æƒ³è®©åˆšå®šä¹‰çš„æ¨¡å‹åœ¨ç«™ç‚¹ç®¡ç†ä¸­å±•ç¤ºï¼Œå°±éœ€è¦åœ¨æ­¤å°†æ‰€éœ€çš„æ¨¡å‹æ˜¾ç¤ºçš„æ·»åŠ åˆ° blog/admin.py ä¸­.

      æ·»åŠ ä¸‹é¢ä¸¤è¡Œ: 
          from .models import Category, Tag, Blog
          admin.site.register([Category, Tag, Blog])

      é‡æ–°è¿è¡Œ runserver å¼€å‘æœåŠ¡å™¨å¹¶ç”¨æµè§ˆå™¨æ‰“å¼€: 23.105.192.96:8000/admin/ è®¿é—®Adminç®¡ç†åå°.
      åº”è¯¥èƒ½çœ‹åˆ°æˆ‘ä»¬æ‰€æœŸæœ›çš„å†…å®¹ï¼š  å¯ä»¥åˆ›å»º: blogsã€categorysã€tags.


ğŸ”¸ ä¼˜åŒ–ç¼–è¾‘.
    admin é‡Œé¢çš„ç¼–è¾‘...  åªæœ‰ä¸ªè¾“å…¥æ¡†. éå¸¸ä¸‘é™‹å•Š! æƒ³è¦wordé‚£æ ·åä¸½çš„ç¼–è¾‘æ–‡ç« æ˜¯ä¸å¯èƒ½çš„.
    å¾ˆå¤šç½‘ç«™/è®ºå›å‘å¸– éƒ½ä¼šæœ‰ä¸ªç¼–è¾‘å·¥å…·. è¿™å°±æ˜¯å¯Œæ–‡æœ¬..
    æš‚æ—¶ä¸è¯´. åæ­£å¯ä»¥ä¼˜åŒ–çš„..





â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µ åšå®¢åˆ—è¡¨
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸


ğŸ”¸ ç®€ä»‹

    MTVçš„M:æ¨¡å‹éƒ¨åˆ†å·®ä¸å¤šäº†,æ•°æ®å¯ä»¥å­˜å‚¨äº†.åšå®¢ä¹Ÿå¯ä»¥åˆ›å»ºäº†. 
    ä½†æ˜¯æ€ä¹ˆæ‰èƒ½é€šè¿‡ç½‘é¡µçœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„åšå®¢å‘¢! æ¯”å¦‚æ‰€æœ‰åšå®¢çš„æ ‡é¢˜åˆ—è¡¨. 
    ä½ æƒ³çœ‹é€šè¿‡ç½‘é¡µçœ‹æ‰€æœ‰åšå®¢çš„æ ‡é¢˜åˆ—è¡¨. é‚£å¿…é¡»å…ˆè¦æœ‰ç½‘é¡µå•Š. 
    ä¸€èˆ¬çš„ç½‘ç«™ è‚¯å®šæœ‰éå¸¸å¤šçš„ç½‘é¡µçš„. å…¶å®å„ç§ç½‘é¡µæ’ç‰ˆéƒ½å·®ä¸å¤šçš„.åªæ˜¯å†…å®¹ä¸ä¸€æ ·è€Œå·².
    å¦‚æœä¸ç”¨æ¨¡æ¿. é‚£ä¹ˆæ¯ä¸ªç½‘é¡µ æˆ‘ä»¬éƒ½å¾—æ‰‹åŠ¨å†™å®Œæ•´çš„HTMLæºç . æˆ‘æ‰“å­—æ…¢... æ¯ä¸ªç½‘é¡µéƒ½è¿™æ ·è‚¯å®šä¸è¡Œ!
    æƒ³å·æ‡’å°±å¾—ç”¨æ¨¡æ¿.æ¨¡æ¿è¿™å¤§å°ä¸å¥½æè¿°.å¤§å®¶æœ‰ç‚¹æ¦‚å¿µå°±å¯ä»¥..



    é¦–å…ˆå°±æ˜¯åšå®¢åˆ—è¡¨. æ¥å‘ˆç°æ‰€æœ‰çš„åšå®¢å•Š..
    éœ€è¦æœ‰ä¸€ä¸ªâ€œåšå®¢åˆ—è¡¨â€é¡µæ¥å‘ˆç°å‘å¸ƒçš„åšå®¢ã€‚åšå®¢è¦æŒ‰å‘å¸ƒæ—¶é—´çš„å€’åºæ¥æ’åˆ—ï¼Œæ¯ä¸ªåšå®¢éƒ½è¦åŒ…å«æ ‡é¢˜ã€ä½œè€…ã€åˆ†ç±»ã€å‘å¸ƒæ—¶é—´çš„æ˜¾ç¤ºï¼ˆå¹´-æœˆ-æ—¥ æ—¶:åˆ†ï¼‰åŠèŠ‚é€‰çš„æ­£æ–‡å†…å®¹ï¼ˆå‰ 100 ä¸ªå­—ï¼‰ã€‚ç‚¹å‡»å•ç‹¬çš„åšå®¢å¯ä»¥è¿›å…¥å…¶è¯¦æƒ…é¡µã€‚
    åœ¨å®é™…çš„å¼€å‘å‰ï¼Œæˆ‘ä»¬åº”èƒ½çœ‹åˆ°äº§å“éƒ¨é—¨é’ˆå¯¹å„é¡µé¢æ‰€åšçš„åŸå‹å›¾ï¼Œè€Œ UI éƒ¨é—¨ä¹Ÿä¼šéµå¾ªæ­¤å®Œæˆè®¾è®¡å›¾ã€‚å› æ­¤æˆ‘ä»¬å°±èƒ½æ¸…æ¥šçš„çŸ¥é“é¡µé¢ä¸­åŒ…å«å“ªäº›å…ƒç´ ã€åº”å¦‚ä½•æ‘†æ”¾ã€‚ä½†è¿™é‡Œå› ä¸ºåªæ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºï¼Œæ‰€ä»¥è¯·å…è®¸æˆ‘â€œç´¢æ€§éšæ„å‘æŒ¥â€äº†ã€‚



ğŸ”¸ æµç¨‹

    âœ è§†å›¾: ä»æ¨¡å‹(æ•°æ®åº“)ä¸­è·å–ç”¨æˆ·è¯·æ±‚çš„æ•°æ®. ä¼ é€’ç»™æ¨¡æ¿
      âœ æ¨¡æ¿: ç»“åˆè§†å›¾é‡Œçš„æ•°æ® ç”Ÿæˆ html ç½‘é¡µ.
        âœ ç½‘å€: ç»™ç”Ÿæˆçš„html ä¸€ä¸ªç½‘å€.


ğŸ”¸ å»ºç«‹è§†å›¾.

    è§†å›¾ä½œç”¨: åˆ†æç”¨æˆ·çš„è¯·æ±‚ âœ ä»æ•°æ®åº“ä¸­å–å‡ºè¯·æ±‚çš„å†…å®¹ âœ æŠŠå†…å®¹ä¼ é€’ç»™æ¨¡æ¿.

    ğŸ”… vi /home/djSite/myblog/views.py  æ”¹æˆå¦‚ä¸‹:

          # -*- coding: utf-8 -*-
          from __future__ import unicode_literals
          from django.shortcuts import render
          from .models import Blog          #âœ å¼•å…¥ models.py ä¸­å®šä¹‰çš„ Blog 
          
          def get_blogs(request):           #âœ å®šä¹‰ get_blogs è·å–åšå®¢å‡½æ•°.
              ctx = {                       #âœ  ctx å°±æ˜¯æ•°æ®åº“å°†è¦è¿”å›çš„æ•°æ®.
                  'blogs': Blog.objects.all().order_by('-created')   #âœ æƒ³çŸ¥é“åˆ°åº•è¿”å›ä»€ä¹ˆæ•°æ®.å¯ä»¥å» python manage.py shell ä¸‹è¾“å…¥å‘½ä»¤æŸ¥çœ‹.
              }
              return render(request, 'blog-list.html', ctx)  #âœ è¿”å›ç»™æ¨¡æ¿çš„æ•°æ®.



    â¦¿ 'blogs': Blog.objects.all().order_by('-created')  åˆ†æ:
        æƒ³çŸ¥é“åˆ°åº•è¿”å›ä»€ä¹ˆæ•°æ®.å¯ä»¥å» python manage.py shell ä¸‹è¾“å…¥å‘½ä»¤æŸ¥çœ‹.

        ğŸ”… python manage.py shell 
            âœ è¿›å…¥shell

        >>> from myblog.models import Category, Tag, Blog, Comment
            âœ å¯¼å…¥æ¨¡å‹(å°±æ˜¯ models.py é‡Œé¢çš„å®šä¹‰çš„ class)
            âœ å¿…é¡»å…ˆå¯¼å…¥æ¨¡å‹å æ‰èƒ½è·å–æ”¹æ¨¡å‹ç›¸å…³çš„æ•°æ®.

        >>> Blog.objects.all()
        <QuerySet []>
        âœ å¯ä»¥çœ‹åˆ°è¿”å›ç©º. ä¹Ÿå°±æ˜¯æ²¡æœ‰åšå®¢. æˆ‘ä»¬å»adminåå°éšæ„åˆ›å»ºä¸¤ä¸ªæ–‡ç« å†å›æ¥.





    è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Django çš„ ORM å¯¹åšå®¢æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶ä¾å‘å¸ƒæ—¶é—´çš„å€’åºè¿›è¡Œæ’åˆ—ï¼Œç„¶åå°†ç»“æœé›†ï¼ˆä¸€ä¸ª QuerySet å¯¹è±¡ï¼‰æ”¾åœ¨ä¸€ä¸ªå­—å…¸å¯¹è±¡ ctx çš„ blogs ä¸­ã€‚
    ç„¶åè°ƒç”¨ render æ–¹æ³•æ¥æ¸²æŸ“æ¨¡æ¿ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°å§‹ç»ˆæ¥æ”¶ request å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ¸²æŸ“çš„æ¨¡æ¿æ–‡ä»¶ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åˆ™æ˜¯å¯é€‰çš„ä¸Šä¸‹æ–‡å‚æ•°ã€‚
    æ³¨æ„è§‚å¯Ÿè§†å›¾å‡½æ•°çš„å…¥å‚ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸€å®šæ˜¯ request å¯¹è±¡ï¼Œâ€œè¿™æ˜¯ä¸€ä¸ªä¸å˜çš„çœŸç†â€ã€‚





ğŸ”¸ å®šä¹‰æ¨¡æ¿

    ç°åœ¨å°±åªå‰©ä¸‹ T å±‚æ²¡æœ‰å®Œæˆäº†ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œ
    åœ¨â—ï¸â—ï¸â—ï¸é¡¹ç›®ç›®å½•ä¸‹(ä¸æ˜¯æ¨¡å—ç›®å½•ä¸‹)â—ï¸â—ï¸â—ï¸æ–°å»ºä¸€ä¸ª Templates æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­æ–°å¢ä¸€ä¸ª blog-list.html æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„åå­—è¦å’Œä¹‹å‰è§†å›¾å‡½æ•°ä¸­ render æ–¹æ³•çš„å…¥å‚ä¸­å®šä¹‰çš„ç›¸å¯¹åº”ã€‚ 


    cd /home/djSite/ && mkdir Templates && cd Templates && vi blog-list.html

    ç„¶åæ‰“å¼€å¹¶å†™å…¥ä»¥ä¸‹ä»£ç ï¼š

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Blogs</title>
    <style>
        .blog {
            padding: 20px 0px;
        }
        .blog .info span {
            padding-right: 10px;
        }
        .blog .summary {
            padding-top: 20px;
        }
    </style>
</head>
<body>
 
<div class="header">
    <h1>My Blogs</h1>
</div>
 
{% for blog in blogs %}
    <div class="blog">
        <div class="title">
            <a href="#"><h2>{{ blog.title }}</h2></a>
        </div>
        <div class="info">
            <span class="category" style="color: #ff9900;">{{ blog.category.name }}</span>
            <span class="author" style="color: #4a86e8">{{ blog.author }}</span>
            <span class="created" style="color: #6aa84f">{{ blog.created|date:"Y-m-d H:i" }}</span>
        </div>
        <div class="summary">
            {{ blog.content|truncatewords:100 }}
        </div>
    </div>
{% endfor %}
 
</body>
</html>



    æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬ä½œä¸ºä¸Šä¸‹æ–‡ä¼ å…¥çš„å‚æ•°åœ¨æ¨¡æ¿ä¸­å¯ä»¥ä»¥å˜é‡çš„å½¢å¼ç›´æ¥è®¿é—®ã€‚è¿™é‡Œæˆ‘ä»¬å¯¹ blogs è¿›è¡Œäº†ä¸€æ¬¡ for è¿­ä»£ï¼Œç„¶åä¸ºæ¯ä¸€ç¯‡åšå®¢ç”Ÿæˆä¸€ä¸ª div å®¹å™¨ä¾›å…¶å±•ç¤ºã€‚åœ¨ div å†…éƒ¨åˆé€šè¿‡å˜é‡å±æ€§çš„è®¿é—®æ¥è·å–è¯¸å¦‚åšå®¢æ ‡é¢˜ã€åˆ†ç±»åç§°ã€ä½œè€…ã€æ­£æ–‡å’Œå‘å¸ƒæ—¶é—´ç­‰å†…å®¹ã€‚æ³¨æ„è¿™é‡Œç”¨åˆ°äº†å¾ˆå¤šæœ‰æ„æ€çš„æ¨¡æ¿æ ‡ç­¾ï¼Œè¿™äº›éƒ½å€¼å¾—ä½ å»ä¸€æ­¥æ­¥æŒ–æ˜ã€‚
    å¦å¤–ï¼Œåœ¨åšå®¢æ ‡é¢˜ä¸Šæœ‰ä¸€ä¸ª <a> æ ‡ç­¾ï¼Œå…¶ä¸­çš„ href å±æ€§åªå¡«å†™äº†ä¸€ä¸ªå›ºå®šçš„â€œ#â€ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œè¿™é‡Œåº”è¯¥å¡«å…¥æ¯ç¯‡åšå®¢å¯¹åº”çš„è¯¦æƒ…é¡µé“¾æ¥ï¼Œä½†å› ä¸ºåˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬è¿˜æ²¡æœ‰å®ç°å‡ºâ€œåšå®¢è¯¦æƒ…â€é¡µï¼Œæ‰€ä»¥å…ˆè¿™ä¹ˆä¸´æ—¶å¤„ç†ï¼Œå¾…ä¹‹åå†å®Œå–„ã€‚




ğŸ”¸ é…ç½® æ¨¡å—urls.py

    ç°åœ¨ï¼ŒMTV ä¸‰å±‚æˆ‘ä»¬éƒ½å·²å®Œæˆäº†ï¼Œæ˜¯æ—¶å€™éªŒè¯ä¸€ä¸‹åˆ°ç›®å‰ä¸ºæ­¢çš„æˆæœã€‚
    ä¸è¿‡åœ¨æ­¤ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å·¥ä½œå°±æ˜¯ä¸ºè¿™ä¸ªè§†å›¾æŒ‡å®šä¸€ä¸ªå‘ç°å®ƒçš„è·¯å¾„ï¼Œè¿™æ ·ç”¨æˆ·æ‰èƒ½é€šè¿‡åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥åœ°å€å¹¶æ­£ç¡®è®¿é—®åˆ°ä»–ã€‚
    è¿™ä¸ªé‡è¦çš„å·¥ä½œæ˜¯ç”± URLConf æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆçš„ã€‚æ‰“å¼€ myblog/urls.py å¹¶åœ¨ urlpatterns ä¸­å¢åŠ ä¸€æ¡ï¼š

â¦¿ myblogæ¨¡å—ä¸‹åˆ›å»º urls.py 
    ğŸ”… vi /home/djSite/myblog/urls.py  æ”¹æˆ: 

        # -*- coding: utf-8 -*-
        from django.conf.urls import url            #âœ ä¸ç®¡
        from . import views                         #âœ views å’Œ url æ˜¯å¯¹åº”çš„. æ‰€ä»¥è¦å¼•å…¥å½“å‰æ¨¡å—çš„views
        from myblog.views import get_blogs          #âœ å¯¼å…¥å°½é‡ä¸è¦ç”¨.è¿™ä¸ªå½“ç„¶æ–‡ä»¶å¤¹. ç”±äºè¿™ä¸ªæ¨¡å—urlæ˜¯è¦å¯¼å…¥åˆ°é¡¹ç›®æ ¸å¿ƒurls.pyçš„. å°½é‡å†™ç»å¯¹è·¯å¾„. è¿™é‡Œå°±æ˜¯æ¨¡å—å.views; è‡³äºå¯¼å…¥çš„ä¸œè¥¿æ˜¯æ‰€æœ‰views è¿˜æ˜¯æŸä¸ªå…³ç³»ä¸å¤§å¥½åƒ. 

        urlpatterns = [
            url(r'^$', get_blogs, name='blog_get_blogs'), #âœ åšå®¢çš„ æ–‡ç« åˆ—è¡¨é¡µé¢
        ]



    â¦¿ url(r'^$', get_blogs, name='blog_get_blogs'), åˆ†æ:
        r'^$' âœ æ­£åˆ™å¼ åŒ¹é…ç½‘å€.
        get_blogs âœ åŒ¹é…çš„ç½‘å€ å¯¹åº”åˆ°æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹çš„ get_blogs.htmlç½‘é¡µ.(æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰è¿™ä¸ªåå­—çš„ç½‘é¡µ)
        name='blog_get_blogs' âœ get_blogs.html ä¹Ÿå¯ä»¥å« blog_get_blogs.html(æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹æœ‰è¿™ä¸ªåå­—çš„ç½‘é¡µ)




ğŸ”¸ é…ç½® é¡¹ç›® urls.py
    æ¨¡å—çš„urls.py éœ€è¦åŠ å…¥åˆ°é¡¹ç›®urls.py ä¸­æ‰èƒ½ç”Ÿæ•ˆ.
    vi /home/djSite/djSite/urls.py

    urlpatterns = [
        url(r'^polls/', include('polls.urls')),  #âœ è¿™ä¸ªæ˜¯ pollsæ¨¡å—çš„ urls.py
        url(r'^admin/', admin.site.urls),
    ]

    æ·»åŠ :
        url(r'^$', include('myblog.urls')),  #âœ è¿™ä¸ªæ˜¯ myblogæ¨¡å—çš„ urls.py





ğŸ”¸ é…ç½® æ¨¡æ¿


è¿™æ˜¯ DEBUG æ¨¡å¼ä¸‹ï¼ˆé»˜è®¤æ˜¯å¼€å¯çš„ï¼Œé€šè¿‡ settings ä¸­çš„ DEBUG é…ç½®é¡¹æ¥å®šä¹‰ï¼‰çš„é”™è¯¯æç¤ºé¡µï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„ 500 é”™è¯¯ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒDjango ä¼šä¸ºæˆ‘ä»¬æ‰“å°å‡ºé—®é¢˜çš„æ ¹æºæ‰€åœ¨ï¼šTemplateDoesNotExistã€‚å—¯ï¼Ÿä¹‹å‰æˆ‘ä»¬ä¸æ˜¯éƒ½å®šä¹‰å¥½äº†çš„å—ï¼Ÿä¸ºä»€ä¹ˆä¼šè¯´æ‰¾ä¸åˆ°å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰çœŸæ­£å‘Šè¯‰ Django åº”åˆ°å“ªé‡Œå»å¯»æ‰¾æˆ‘ä»¬å®šä¹‰çš„æ¨¡æ¿æ–‡ä»¶ã€‚è¿™éœ€è¦åœ¨ settings ä¸­çš„ TEMPLATES é…ç½®é¡¹ä¸­å£°æ˜ã€‚ç°åœ¨æ‰“å¼€ myblog/settings.py æ–‡ä»¶å¹¶å°† TEMPLATES é…ç½®é¡¹ä¿®æ”¹æˆå¦‚ä¸‹è¿™æ ·ï¼š




vi /home/djSite/djSite/settings.py

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': ['Templates/'],  è¿™è¡Œæ”¹æˆè¿™æ ·. å†™ä½ è‡ªå·±çš„æ¨¡æ¿è·¯å¾„.. è¿™ä¸ªè·¯å¾„æ˜¯ç›¸å¯¹äºæ¨¡æ¿çš„!æˆ‘ä»¬å†™æ¨¡æ¿æ–‡ä»¶å¤¹çš„åå­—å°±å¯ä»¥
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]






ğŸ”¸ æµè§ˆå™¨è®¿é—® 23.105.192.96:8000
é‡å¯å¼€å‘æœåŠ¡å™¨å¹¶å†æ¬¡è®¿é—®ï¼Œè¿™æ—¶åº”è¯¥èƒ½çœ‹åˆ°ä¹…è¿çš„æ•ˆæœäº†ï¼šMy Blogs
ä»€ä¹ˆæ–‡ç« éƒ½æ²¡æœ‰ æ˜¯å› ä¸ºä½ æ²¡åˆ›å»ºä»€ä¹ˆæ–‡ç« .











ğŸ‘¹ Python2 é…ç½®æ–‡ä»¶å¦‚æœå«æœ‰ä¸­æ–‡ ä¼šæŠ¥é”™.. but no encoding declared;
åªè¦æŠŠä¸‹é¢è¡Œ.æ”¾æ–‡ä»¶é¡¶éƒ¨å°±å¯ä»¥äº†
# -*- coding: utf-8 -*-









â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
å®Œå–„åšå®¢.
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸æ·»åŠ æ–‡ç«   23.105.192.96:8000/admin
    â¦¿ æ–‡ç« 1
    æ ‡é¢˜ title1
    ä½œè€… xujian
    æ­£æ–‡ 1234567
    åˆ†ç±»: æ·»åŠ : cate1 cate2
    æ ‡ç­¾: æ·»åŠ : tag1 tag2 

    â¦¿ æ–‡ç« 2

    æ ‡é¢˜ title1
    ä½œè€… jiaqian
    æ­£æ–‡ 7654321
    åˆ†ç±»: é€‰æ‹© cate2
    æ ‡ç­¾: é€‰æ‹©



ğŸ”¸ æŸ¥çœ‹åšå®¢åˆ—è¡¨ 23.105.192.96:8000
ä¼šå‘ç°å¤šäº†ä¸¤ä¸ªæ–‡ç« å‡ºæ¥.


ğŸ”¸ é—®é¢˜.
æ·»åŠ æ ‡ç­¾/å¤§ç±»çš„æ—¶å€™. ä¸èƒ½æ­£ç¡®æ˜¾ç¤ºåç§°.
æ–‡ç« åç§° ä¹Ÿä¸èƒ½æ­£å¸¸æ˜¾ç¤º..

ğŸ”¸ vi /home/djSite/myblog/admin.py
      1 # -*- coding: utf-8 -*-
      2 from __future__ import unicode_literals
      3
      4 from django.contrib import admin
      5
      6 # Register your models here.
      7
      8
      9 from .models import Category, Tag, Blog
     10 admin.site.register([Category, Tag, Blog])
     11


     ç¬¬ä¹è¡Œ: Adminç®¡ç†åå°éœ€è¦ä»æ•°æ®åº“ä¸­å¯¼å…¥ä»¥ä¸‹æ•°æ®:Category, Tag, Blog
     ç¬¬åè¡Œ: admin é¦–é¡µè¿›å»è¦å¯ä»¥æ·»åŠ : Category, Tag, Blog

ç°åœ¨çš„é—®é¢˜æ˜¯æ·»åŠ blogçš„æ—¶å€™é‡Œé¢å‡ºé”™äº†. è¿™ä¸ªè‚¯å®šæ˜¯æ¨¡å‹è®¾è®¡çš„é—®é¢˜äº† 
å› ä¸ºadmin.py åªå¯¼å…¥äº† model.py æ–‡ä»¶. 
æˆ‘ä»¬å»çœ‹ vi /home/djSite/myblog/models.py ä¸­çœ‹çœ‹ blog æ˜¯æ€ä¹ˆå®šä¹‰çš„

     28 class Blog(models.Model):
     29     """
     30     åšå®¢
     31     """
     32
     33     title = models.CharField('æ ‡é¢˜', max_length=32)
     34     author = models.CharField('ä½œè€…', max_length=16)
     35     content = models.TextField('æ­£æ–‡')
     36     created = models.DateTimeField('å‘å¸ƒæ—¶é—´', auto_now_add=True)
     37
     38     category = models.ForeignKey(Category, verbose_name='åˆ†ç±»')
     39     tags = models.ManyToManyField(Tag, verbose_name='æ ‡ç­¾')


title = models.CharField('æ ‡é¢˜', max_length=32)
âœ è¿™é‡Œçš„æ ‡é¢˜ å°±æ˜¯ç‚¹å‡»æ–°å¢postçš„æ—¶å€™. æ˜¾ç¤ºçš„æ–‡å­—.

category = models.ForeignKey(Category, verbose_name='åˆ†ç±»')
âœ è¿™é‡Œæœ‰ä»€ä¹ˆé—®é¢˜å‘¢..











